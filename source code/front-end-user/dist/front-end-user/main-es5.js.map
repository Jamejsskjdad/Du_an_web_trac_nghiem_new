{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///node_modules/moment/locale sync ^\\.\\/.*$","webpack:///src/app/_guards/auth-guard.guard.ts","webpack:///src/app/_helpers/auth.interceptor.ts","webpack:///src/app/_helpers/error.interceptor.ts","webpack:///src/app/_services/auth.service.ts","webpack:///src/app/_services/chart.service.ts","webpack:///src/app/_services/colors.service.ts","webpack:///src/app/_services/course.service.ts","webpack:///src/app/_services/email.service.ts","webpack:///src/app/_services/exam.service.ts","webpack:///src/app/_services/intake.service.ts","webpack:///src/app/_services/part.service.ts","webpack:///src/app/_services/question-type.service.ts","webpack:///src/app/_services/question.service.ts","webpack:///src/app/_services/sidebar.service.ts","webpack:///src/app/_services/statistics.service.ts","webpack:///src/app/_services/token-storage.service.ts","webpack:///src/app/_services/upload-file.service.ts","webpack:///src/app/_services/user.service.ts","webpack:///src/app/admin/admin-footer/admin-footer.component.ts","webpack:///src/app/admin/admin-footer/admin-footer.component.html","webpack:///src/app/admin/admin-profile/admin-profile.component.ts","webpack:///src/app/admin/admin-profile/admin-profile.component.html","webpack:///src/app/admin/admin.component.ts","webpack:///src/app/admin/admin.component.html","webpack:///src/app/admin/admin.module.ts","webpack:///src/app/admin/bar-chart/bar-chart.component.ts","webpack:///src/app/admin/bar-chart/bar-chart.component.html","webpack:///src/app/admin/card-stats/card-stats.component.ts","webpack:///src/app/admin/card-stats/card-stats.component.html","webpack:///src/app/admin/dashboard/dashboard.component.ts","webpack:///src/app/admin/dashboard/dashboard.component.html","webpack:///src/app/admin/line-chart/line-chart.component.ts","webpack:///src/app/admin/line-chart/line-chart.component.html","webpack:///src/app/admin/manage-course/course-create/course-create.component.ts","webpack:///src/app/admin/manage-course/course-create/course-create.component.html","webpack:///src/app/admin/manage-course/course-update/course-update.component.ts","webpack:///src/app/admin/manage-course/course-update/course-update.component.html","webpack:///src/app/admin/manage-course/manage-course.component.ts","webpack:///src/app/admin/manage-course/manage-course.component.html","webpack:///src/app/admin/manage-part/list-question/list-question.component.ts","webpack:///src/app/admin/manage-part/list-question/list-question.component.html","webpack:///src/app/admin/manage-part/manage-part.component.ts","webpack:///src/app/admin/manage-part/manage-part.component.html","webpack:///src/app/admin/manage-part/part-create/part-create.component.ts","webpack:///src/app/admin/manage-part/part-create/part-create.component.html","webpack:///src/app/admin/manage-question/add-question/add-question.component.ts","webpack:///src/app/admin/manage-question/add-question/add-question.component.html","webpack:///src/app/admin/manage-question/question-bank/question-bank.component.ts","webpack:///src/app/admin/manage-question/question-bank/question-bank.component.html","webpack:///src/app/admin/manage-question/question-detail/question-detail.component.ts","webpack:///src/app/admin/manage-question/question-detail/question-detail.component.html","webpack:///src/app/admin/manage-test/add-test/add-test.component.ts","webpack:///src/app/admin/manage-test/add-test/add-test.component.html","webpack:///src/app/admin/manage-test/detail-test/detail-test.component.ts","webpack:///src/app/admin/manage-test/detail-test/detail-test.component.html","webpack:///src/app/admin/manage-test/manage-test.component.ts","webpack:///src/app/admin/manage-test/manage-test.component.html","webpack:///src/app/admin/manage-test/user-test-result/user-test-result.component.ts","webpack:///src/app/admin/manage-test/user-test-result/user-test-result.component.html","webpack:///src/app/admin/manage-test/user-test/user-test.component.ts","webpack:///src/app/admin/manage-test/user-test/user-test.component.html","webpack:///src/app/admin/manage-user/add-user/add-user.component.ts","webpack:///src/app/admin/manage-user/add-user/add-user.component.html","webpack:///src/app/admin/manage-user/delete-user/delete-user.component.ts","webpack:///src/app/admin/manage-user/delete-user/delete-user.component.html","webpack:///src/app/admin/manage-user/detail-user/detail-user.component.ts","webpack:///src/app/admin/manage-user/detail-user/detail-user.component.html","webpack:///src/app/admin/manage-user/manage-user.component.ts","webpack:///src/app/admin/manage-user/manage-user.component.html","webpack:///src/app/admin/manage-user/update-user/update-user.component.ts","webpack:///src/app/admin/manage-user/update-user/update-user.component.html","webpack:///src/app/admin/nav-sidebar/nav-sidebar.component.ts","webpack:///src/app/admin/nav-sidebar/nav-sidebar.component.html","webpack:///src/app/admin/navbar/navbar.component.ts","webpack:///src/app/admin/navbar/navbar.component.html","webpack:///src/app/admin/tabs/tabs.component.ts","webpack:///src/app/admin/tabs/tabs.component.html","webpack:///src/app/admin/user-dropdown/user-dropdown.component.ts","webpack:///src/app/admin/user-dropdown/user-dropdown.component.html","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/home/home.component.ts","webpack:///src/app/home/home.component.html","webpack:///src/app/lecturer/dashboard/dashboard.component.ts","webpack:///src/app/lecturer/lecturer.component.ts","webpack:///src/app/lecturer/lecturer.component.html","webpack:///src/app/lecturer/profile/profile.component.ts","webpack:///src/app/lecturer/profile/profile.component.html","webpack:///src/app/login/login.component.ts","webpack:///src/app/login/login.component.html","webpack:///src/app/models/answer-sheet.ts","webpack:///src/app/models/choice.ts","webpack:///src/app/models/course.ts","webpack:///src/app/models/email.ts","webpack:///src/app/models/exam.ts","webpack:///src/app/models/part.ts","webpack:///src/app/models/question-type.enum.ts","webpack:///src/app/models/user-profile.ts","webpack:///src/app/models/user-role.enum.ts","webpack:///src/app/models/user-update.ts","webpack:///src/app/pipes/format-time.pipe.ts","webpack:///src/app/reset-password/reset-password.component.ts","webpack:///src/app/reset-password/reset-password.component.html","webpack:///src/app/shared/breadcrumbs/breadcrumbs.component.ts","webpack:///src/app/shared/breadcrumbs/breadcrumbs.component.html","webpack:///src/app/shared/file-upload/file-upload.component.ts","webpack:///src/app/shared/file-upload/file-upload.component.html","webpack:///src/app/shared/page-not-found/page-not-found.component.ts","webpack:///src/app/shared/page-not-found/page-not-found.component.html","webpack:///src/app/shared/pre-loading/pre-loading.component.ts","webpack:///src/app/shared/pre-loading/pre-loading.component.html","webpack:///src/app/shared/result-circle/result-circle.component.ts","webpack:///src/app/shared/result-circle/result-circle.component.html","webpack:///src/app/shared/rich-editor/rich-editor.component.ts","webpack:///src/app/shared/rich-editor/rich-editor.component.html","webpack:///src/app/shared/shared.module.ts","webpack:///src/app/shared/skeleton/skeleton.component.ts","webpack:///src/app/shared/skeleton/skeleton.component.html","webpack:///src/app/shared/spinner/spinner.component.ts","webpack:///src/app/shared/spinner/spinner.component.html","webpack:///src/app/shared/statistics/stat-card-exam/stat-card-exam.component.ts","webpack:///src/app/shared/statistics/stat-card-exam/stat-card-exam.component.html","webpack:///src/app/shared/tab/tab.component.ts","webpack:///src/app/shared/tab/tab.component.html","webpack:///src/app/shared/table-skeleton/table-skeleton.component.ts","webpack:///src/app/shared/table-skeleton/table-skeleton.component.html","webpack:///src/app/shared/update-profile/update-avatar/update-avatar.component.ts","webpack:///src/app/shared/update-profile/update-avatar/update-avatar.component.html","webpack:///src/app/shared/update-profile/update-email/update-email.component.ts","webpack:///src/app/shared/update-profile/update-email/update-email.component.html","webpack:///src/app/shared/update-profile/update-password/update-password.component.ts","webpack:///src/app/shared/update-profile/update-password/update-password.component.html","webpack:///src/app/user/dashboard/dashboard.component.ts","webpack:///src/app/user/dashboard/dashboard.component.html","webpack:///src/app/user/exam-card/exam-card.component.ts","webpack:///src/app/user/exam-card/exam-card.component.html","webpack:///src/app/user/exam-detail/exam-detail.component.ts","webpack:///src/app/user/exam-detail/exam-detail.component.html","webpack:///src/app/user/exam-question/exam-question.component.ts","webpack:///src/app/user/exam-question/exam-question.component.html","webpack:///src/app/user/exam-result/exam-result.component.ts","webpack:///src/app/user/exam-result/exam-result.component.html","webpack:///src/app/user/footer/footer.component.ts","webpack:///src/app/user/footer/footer.component.html","webpack:///src/app/user/left-side/left-side.component.ts","webpack:///src/app/user/left-side/left-side.component.html","webpack:///src/app/user/profile/profile.component.ts","webpack:///src/app/user/profile/profile.component.html","webpack:///src/app/user/schedule/schedule.component.ts","webpack:///src/app/user/schedule/schedule.component.html","webpack:///src/app/user/statistics/statistics.component.ts","webpack:///src/app/user/statistics/statistics.component.html","webpack:///src/app/user/user.component.ts","webpack:///src/app/user/user.component.html","webpack:///src/app/user/user.module.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","map","webpackContext","webpackContextResolve","__webpack_require__","o","webpackContextKeys","Object","AuthGuard","authService","router","tokenStorageService","next","state","currentUser","getUser","userRoles","roles","requiredRoles","data","some","role","includes","navigate","queryParams","returnUrl","url","childRoute","canActivate","providedIn","TOKEN_HEADER_KEY","AuthInterceptor","token","authReq","getToken","clone","headers","set","handle","ErrorInterceptor","request","pipe","err","indexOf","status","signOut","setTimeout","location","reload","error","message","statusText","AUTH_API","httpOptions","AuthService","http","credentials","post","username","password","console","log","email","ChartService","baseUrl","apiEndPoint","get","ColorsService","color","Math","floor","random","toString","slice","CourseService","page","size","pageMeta","pageNumber","pageSize","pageParams","params","course","patch","partId","intakeId","checkUrl","control","value","res","codeExists","ids","responseType","EmailService","ExamService","paramsHttp","isShuffle","locked","isLockScreen","exam","intakeParam","String","examId","isFinish","remainingTime","answers","statusExamParam","put","finishDate","now","Date","format","isAfter","IntakeService","courseId","PartService","name","part","QuestionTypeService","typeCode","QuestionService","question","questionType","reqParams","deleted","body","SidebarService","_sidebarCollapsed","sidebarCollapsed$","asObservable","val","getValue","StatisticsService","TOKEN_KEY","USER_KEY","TokenStorageService","window","localStorage","clear","removeItem","setItem","getItem","user","JSON","stringify","parse","decoded","exp","undefined","date","setUTCSeconds","getTokenExpirationDate","valueOf","UploadFileService","file","fileAs","formData","FormData","append","httpParams","reportProgress","UserService","searchKey","usernameExists","emailExists","userParams","userIds","AdminFooterComponent","getFullYear","selector","templateUrl","styleUrls","AdminProfileComponent","uploadService","userService","fb","toast","togglePwd","toggleEmail","toggleAvatar","imgUpload","getUserInfo","subscribe","userProfile","profile","image","updatePassword","statusCode","success","warning","replace","updateEmail","urlUpload","imgFile","uploadAvatar","AdminComponent","AdminModule","declarations","imports","BarChartComponent","config","type","labels","datasets","label","backgroundColor","borderColor","fill","barThickness","options","maintainAspectRatio","responsive","title","display","text","tooltips","mode","intersect","hover","legend","fontColor","align","position","scales","xAxes","scaleLabel","labelString","gridLines","borderDash","borderDashOffset","zeroLineColor","zeroLineBorderDash","zeroLineBorderDashOffset","yAxes","drawBorder","ctx","document","getElementById","getContext","CardStatsComponent","AdminDashboardComponent","statisticsService","lastSevenDays","fetchStatistics","getLastSevenDays","getStatistics","statistics","examUserLastedSevenDaysTotal","shift","ticks","dayIndex","push","subtract","reverse","LineChartComponent","dataChart","dataArray","changes","CourseCreateComponent","courseService","uploadFileService","intakeService","showModal","outputCourse","intakeList","rfCreateCourse","group","courseCode","validators","required","asyncValidators","validateCourseCode","updateOn","courseName","getIntakeList","reset","createCourse","linkCourseToIntake","getCourseListByPage","closeModal","emit","toggleModalAdd","onSubmit","CourseUpdateComponent","courseOutput","showModalUpdate","showLoading","toggle","assign","courseInfo","intakes","initForm","rfUpdateCourse","updateCourse","pageResult","toggleModalUpdate","ManageCourseComponent","courseList","skeleton","selectMode","selectedCourseIds","selectAllChecked","fetchCourseListByPage","paginationDetail","paginationDetails","index","item","checked","filter","i","length","c","confirm","deleteManyCourses","toggleSelectMode","alert","fetchCourseAfterCRUD","ListQuestionComponent","route","partService","questionService","questionList","Number","snapshot","paramMap","fetchQuestionList","getCourseById","currentCourse","getPartById","currentPart","getQuestionListByPart","ManagePartComponent","parts","selectedUpdateId","partName","getPartListByCourse","updatePart","fetchParts","PartCreateComponent","outputParts","rfCreatePart","createPartByCourse","getPartsByCourse","AddQuestionComponent","questionTypeService","questionsAddOutput","editorValue","partList","questionTypeList","selectedCourseId","selectedPartId","answerChoicesTF","currentQuestionType","TF","multipleChoice","questionText","shortAnswer","Editor","editorConfig","placeholder","multipleSelect","rfAdd","choices","point","min","pointValue","isNaN","trim","questionPayload","MC","choiceText","isCorrected","MS","SA","createQuestion","resetFormAfterSubmit","refreshModal","getCourseList","getQuestionTypeList","initChoice","setValue","event","target","forEach","idx","splice","toggleModal","QuestionBankComponent","pageOptions","num","showAddModal","pageCountShowing","deletionMode","selectedIds","selectAll","fetchCourse","$event","isFirstPage","previousPage","isLastPage","nextPage","available","totalCount","selectPartId","ques","deleteQuestion","q","idsToDelete","getSelectedQuestionIds","deleteMultipleQuestions","changePageShow","fetchQuestionsAfterCRUD","changeCourse","changePart","QuestionDetailComponent","imgDefaultUrl","isEditMode","getQuestion","questionId","getQuestionById","questionInfo","getCourseByPartId","back","tempQuestion","trueChoice","find","falseChoice","sort","a","b","multi","validateQuestion","correctChoice","updateQuestion","goBack","AddTestComponent","examService","selectedPart","countQuestionSelected","totalPointQuestionSelected","checkedAll","questionListSelected","questionDataJson","selectedIntake","testTitle","timeBegin","timeEnd","timeDuration","intake","maxPoint","getTotalPoint","newExam","createExam","goToExamManagePage","getQuestionListByPartNotDeleted","object","isSelected","findIndex","obj","reduce","total","currentQ","previousIndex","currentIndex","getCourseListByIntakeId","changeIntake","getBeginTime","drop","DetailTestComponent","showModalDelete","getExamDetail","getExamById","getExamQuestionDetail","beginDate","beginExam","cancelExam","lockScreen","ManageTestComponent","examList","selectedExamIds","allChecked","fetchExamList","getAllExams","finishExam","isBefore","deleteManyExams","cancelSelectMode","UserTestResultComponent","getResult","getResultExamByUser","result","choiceList","choice","isRealCorrect","UserTestComponent","colorsService","examResults","sortBy","dataSort","questionsReport","getExamList","getQuestionReport","x","round","getExamQuestionReport","examStatus","totalPoint","getExamResultListByExamId","validResults","orderBy","fixedColors","chartOptions","series","NaN","chart","height","plotOptions","bar","barHeight","distributed","horizontal","dataLabels","colors","enabled","textAnchor","style","formatter","opt","w","globals","dataPointIndex","offsetX","dropShadow","stroke","width","xAxis","categories","lastName","firstName","yAxis","show","subtitle","AddUserComponent","showModalAdd","usersAddOutput","active","openTab","userImportSuccess","rfAddUser","minLength","pattern","roleId","userTotal","addUser","getUserList","res2","showSuccess","$tabNumber","uploadUsersByExcel","userExcelFile","DeleteUserComponent","toastr","usersOutput","userInfo","deleteUser","toggleModalDelete","DetailUserComponent","showModalDetail","toggleModalDetail","preventDefault","ManageUserComponent","userList","searchKeyWord","selectedIntakeId","selectedUserIds","currentUsername","showForm","showSearchBar","fetchUserList","exportExcel","blob","link","createElement","href","URL","createObjectURL","download","click","revokeObjectURL","searchUserList","table","generatePasswordsExcel","updatePasswordsFromExcel","u","userId","userSelf","deleteManyUsers","roleName","exportUserToExcel","toggleForm","fetchUsersAfterCRUD","UpdateUserComponent","invalid","rfUpdateUser","disabled","validateEmailUpdate","confirmPass","validator","passwordConfirming","userUpdate","updateUser","controls","NavSidebarComponent","collapseShow","userCollapseShow","questionBankCollapseShow","ROLE_ADMIN","roleAdmin","ROLE_LECTURER","roleLecturer","ROLE_STUDENT","classes","toggleCollapseShow","AdminNavbarComponent","toggleUserDropdown","avatarImg","getDefaultAvatar","TabsComponent","UserDropdownComponent","routes","path","redirectTo","pathMatch","component","breadcrumb","children","canActivateChild","AppRoutingModule","forRoot","AppComponent","AppModule","provide","useClass","timeOut","positionClass","tapToDismiss","closeButton","providers","bootstrap","HomeComponent","emailService","isLoggedIn","defaultUrl","rfEmail","subject","contentBody","sendEmail","DashboardComponent","LecturerComponent","ProfileComponent","LoginComponent","activatedRoute","form","isLoginFailed","errorMessage","preLoading","fEmail","toLogin","login","saveToken","accessToken","saveUser","Status","sendRequest","operationResult","AnswerSheet","Choice","Course","Email","fromAddress","Exam","durationExam","questionData","Part","QTYPE","UserProfile","UserRole","UserUpdate","FormatTimePipe","minutes","ResetPasswordComponent","tokenString","f","confirmPassword","setValidators","resetPassword","BreadcrumbsComponent","FileUploadComponent","fileUrlOutput","selectedFiles","files","currentFileUpload","fileUrl","selectFile","PageNotFoundComponent","PreLoadingComponent","ResultCircleComponent","background","current","currentValue","RichEditorComponent","editor","onChange","SharedModule","SkeletonComponent","SpinnerComponent","StatCardExamComponent","randColor","getRandomColor","TabComponent","toggleTabs","TableSkeletonComponent","UpdateAvatarComponent","avatarUploadUrl","fileUpload","submitAvatar","updateAvatar","UpdateEmailComponent","emailUpdate","hiddenPwd","initFormUpdateEmail","currentPassword","validateEmail","changeEmail","UpdatePasswordComponent","passwordUpdate","hiddenOldPwd","hiddenNewPwd","hiddenConfirmPwd","initFormChangePwd","oldPassword","newPassword","rfPassword","passwordDuplicating","listComing","listComplete","skeletonLoading","getExam","getAllExamByUser","isAvailable","isStarted","isFinished","ExamCardComponent","examUser","createdBy","ExamDetailComponent","canStart","isLockScreenEnabled","getUserExam","getExamUserById","ExamQuestionComponent","sidebarService","questions","answerSheets","choicesSelected","tick","tabSwitchCount","examFinished","visibilityHandler","handleTabSwitch","bind","subscription","unsubscribe","countDown","removeSecurityListeners","counter","submit","getExamQuestion","startTimer","saveToServer","setSidebarCollapsed","requestFullscreen","preventCopyPaste","detectTabSwitching","docElm","documentElement","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","addEventListener","blockEvent","hidden","removeEventListener","choiceId","y","selected","userAnswer","exitFullscreen","submitExamUser","relativeTo","doc","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","ExamResultComponent","getExamUserResult","FooterComponent","LeftSideComponent","currentProfile","ScheduleComponent","examCalendars","examEvents","initialView","examEventDetail","calendarApi","calendarComponent","getApi","nowDate","getDate","calendarOptions","initialDate","headerToolbar","left","right","center","events","eventClick","handleEventClick","timeZone","getExamCalendar","isCompleted","groupId","start","end","calEvent","_def","examDetail","gotoDate","prev","StatisticsComponent","chartService","getCoursePoint","coursePointData","zoom","autoScaleYaxis","zoomedArea","opacity","enabledOnSeries","top","blur","fontSize","crosshairs","gradient","colorFrom","colorTo","stops","opacityFrom","opacityTo","tooltip","offsetY","shade","shadeIntensity","gradientToColors","inverseColors","UserComponent","toggledMenu","toggleMenu","registerPlugins","UserModule","environment","production","bootstrapModule"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-in\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-in.js\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-sg\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./en-sg.js\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fil\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fil.js\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-deva\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-deva.js\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./oc-lnc\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./oc-lnc.js\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-mo\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-mo.js\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","import {Injectable} from '@angular/core';\nimport {ActivatedRouteSnapshot, CanActivate, CanActivateChild, Router, RouterStateSnapshot, UrlTree} from '@angular/router';\nimport {Observable} from 'rxjs';\nimport {AuthService} from '../_services/auth.service';\nimport {TokenStorageService} from '../_services/token-storage.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate, CanActivateChild {\n\n  constructor(private authService: AuthService, private router: Router, private tokenStorageService: TokenStorageService) {\n  }\n\n  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n  \n    const currentUser = this.tokenStorageService.getUser();\n  \n    if (currentUser) {\n      const userRoles = currentUser.roles; // mảng ví dụ: ['ROLE_ADMIN', 'ROLE_STUDENT']\n      const requiredRoles = next.data.roles; // mảng yêu cầu từ routing\n  \n      // Nếu route yêu cầu quyền và người dùng không có quyền nào khớp\n      if (requiredRoles && !requiredRoles.some(role => userRoles.includes(role))) {\n        this.router.navigate(['/']);\n        return false;\n      }\n  \n      return true;\n    }\n  \n    // Chưa đăng nhập\n    this.router.navigate(['/login'], { queryParams: { returnUrl: state.url } });\n    return false;\n  }\n  \n\n  // tslint:disable-next-line:max-line-length\n  canActivateChild(childRoute: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean | UrlTree | Observable<boolean | UrlTree> | Promise<boolean | UrlTree> {\n    return this.canActivate(childRoute, state);\n  }\n}\n","import { HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { HttpInterceptor, HttpHandler, HttpRequest } from '@angular/common/http';\n\nimport { TokenStorageService } from '../_services/token-storage.service';\n\nconst TOKEN_HEADER_KEY = 'Authorization';\n\n@Injectable()\nexport class AuthInterceptor implements HttpInterceptor {\n  constructor(private token: TokenStorageService) { }\n\n  intercept(req: HttpRequest<any>, next: HttpHandler) {\n    let authReq = req;\n    const token = this.token.getToken();\n    if (token != null) {\n      authReq = req.clone({ headers: req.headers.set(TOKEN_HEADER_KEY, 'Bearer ' + token) });\n    }\n    return next.handle(authReq);\n  }\n}\n\n// export const authInterceptorProviders = [\n//   { provide: HTTP_INTERCEPTORS, useClass: AuthInterceptor, multi: true }\n// ];\n","import {Injectable} from '@angular/core';\nimport {HttpRequest, HttpHandler, HttpEvent, HttpInterceptor, HTTP_INTERCEPTORS} from '@angular/common/http';\nimport {Observable, throwError} from 'rxjs';\nimport {catchError} from 'rxjs/operators';\nimport {TokenStorageService} from '../_services/token-storage.service';\n\n\n@Injectable()\nexport class ErrorInterceptor implements HttpInterceptor {\n  constructor(private tokenStorageService: TokenStorageService) {\n  }\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    return next.handle(request).pipe(catchError(err => {\n\n\n      if ([401, 403].indexOf(err.status) !== -1) {\n        // auto logout if 401 Unauthorized or 403 Forbidden response returned from api\n        this.tokenStorageService.signOut();\n        setTimeout(() => {location.reload(true); }, 1000);\n        // location.reload(true);\n      }\n\n      const error = err.error.message || err.statusText;\n      return throwError(error);\n    }));\n  }\n}\n\n","import {Injectable} from '@angular/core';\nimport {HttpClient, HttpHeaders, HttpParams} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {TokenStorageService} from './token-storage.service';\nimport {Router} from '@angular/router';\n\nconst AUTH_API = 'http://localhost:8080/api/auth';\n\nconst httpOptions = {\n  headers: new HttpHeaders({'Content-Type': 'application/json'})\n};\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class AuthService {\n\n  constructor(private http: HttpClient, private tokenStorageService: TokenStorageService, private router: Router) {\n  }\n\n  login(credentials): Observable<any> {\n    return this.http.post(AUTH_API + '/signin', {\n      username: credentials.username,\n      password: credentials.password\n    }, httpOptions);\n  }\n\n  goLogin() {\n    this.router.navigate(['/login']).then((e) => {\n      if (e) {\n        console.log('on login');\n      } else {\n        console.log('fail');\n      }\n    });\n  }\n\n  sendRequest(email: string): Observable<any> {\n    return this.http.post(`${AUTH_API}/password-reset-request`, {email});\n  }\n\n  resetPassword(data: any): Observable<any> {\n    return this.http.post(`${AUTH_API}/password-reset`, data);\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {environment} from '../../environments/environment';\nimport {HttpClient} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {CoursePoint} from '../models/course-point';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ChartService {\n  private baseUrl: string = environment.apiEndPoint;\n\n  constructor(private http: HttpClient) {\n  }\n\n  public getCoursePoint(): Observable<CoursePoint[]> {\n    return this.http.get<CoursePoint[]>(`${this.baseUrl}/charts/courses`);\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ColorsService {\n\n  constructor() { }\n\n  public getRandomColor() {\n    const color = Math.floor(0x1000000 * Math.random()).toString(16);\n    return '#' + ('000000' + color).slice(-6);\n  }\n}\n","import {Injectable} from '@angular/core';\r\nimport {Observable} from 'rxjs';\r\nimport {PageResult} from '../models/page-result';\r\nimport {Course} from '../models/course';\r\nimport {HttpClient, HttpParams} from '@angular/common/http';\r\nimport {environment} from '../../environments/environment';\r\nimport {AbstractControl, AsyncValidatorFn, ValidationErrors} from '@angular/forms';\r\nimport {map} from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CourseService {\r\n\r\n  private baseUrl: string = environment.apiEndPoint;\r\n\r\n  constructor(private http: HttpClient) {\r\n  }\r\n\r\n  public getCourseList(): Observable<Course[]> {\r\n    return this.http.get<Course[]>(`${this.baseUrl}/course-list`);\r\n  }\r\n\r\n  public getCourseListByPage(page?: number, size?: number): Observable<PageResult<Course>> {\r\n    page = page || environment.pageMeta.pageNumber;\r\n    size = size || environment.pageMeta.pageSize;\r\n    const pageParams = new HttpParams().set('page', page.toString()).set('size', size.toString());\r\n\r\n    return this.http.get<PageResult<Course>>(`${this.baseUrl}/courses`, {params: pageParams});\r\n  }\r\n\r\n  updateCourse(id: number, course: Course): Observable<any> {\r\n    return this.http.patch<any>(`${this.baseUrl}/courses/${id}`, course);\r\n  }\r\n\r\n  createCourse(course: Course): Observable<any> {\r\n\r\n    return this.http.post<any>(`${this.baseUrl}/courses`, course);\r\n  }\r\n\r\n\r\n  getCourseById(id: number): Observable<Course> {\r\n    return this.http.get<Course>(`${this.baseUrl}/courses/${id}`);\r\n  }\r\n\r\n  getCourseByPartId(partId: number): Observable<Course> {\r\n    return this.http.get<Course>(`${this.baseUrl}/courses/part/${partId}`);\r\n  }\r\n\r\n  getCourseListByIntakeId(intakeId: number): Observable<Course[]> {\r\n    return this.http.get<Course[]>(`${this.baseUrl}/intakes/${intakeId}/courses`);\r\n  }\r\n\r\n  validateCourseCode(id?: number): AsyncValidatorFn {\r\n    // tslint:disable-next-line:max-line-length\r\n    const checkUrl = id == null ? `${environment.apiEndPoint}/courses/check-course-code` : `${environment.apiEndPoint}/courses/${id}/check-course-code`;\r\n    return (control: AbstractControl): Observable<ValidationErrors | null> => {\r\n      return this.http.get<boolean>(`${checkUrl}?value=${control.value}`).pipe(\r\n        map(res => {\r\n          // if res is true, code exists, return true\r\n          return res ? {codeExists: true} : null;\r\n          // NB: Return null if there is no error\r\n        })\r\n      );\r\n    };\r\n  }\r\n\r\n  validateCode(id: number): AsyncValidatorFn {\r\n    return (control: AbstractControl): Observable<ValidationErrors | null> => {\r\n      return this.http.get<boolean>(`${environment.apiEndPoint}/courses/check-course-code?value=${control.value}`).pipe(\r\n        map(res => {\r\n          // if res is true, code exists, return true\r\n          return res ? {codeExists: true} : null;\r\n          // NB: Return null if there is no error\r\n        })\r\n      );\r\n    }\r\n      ;\r\n  }\r\n  deleteManyCourses(ids: number[]): Observable<any> {\r\n    return this.http.post(`${this.baseUrl}/courses/delete-many`, ids, { responseType: 'text' });\r\n  }\r\n  \r\n}\r\n","import {Injectable} from '@angular/core';\nimport {environment} from '../../environments/environment';\nimport {Email} from '../models/email';\nimport {Observable} from 'rxjs';\nimport {HttpClient} from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EmailService {\n\n  private baseUrl: string = environment.apiEndPoint;\n\n  constructor(private http: HttpClient) {\n  }\n\n  public sendEmail(message: Email): Observable<any> {\n    return this.http.post<any>(`${this.baseUrl}/send-email`, message);\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {Observable} from 'rxjs';\nimport {HttpClient, HttpParams} from '@angular/common/http';\nimport {environment} from '../../environments/environment';\nimport {Exam} from '../models/exam';\nimport {ExamUser} from '../models/exam-user';\nimport {timeout} from 'rxjs/operators';\nimport {AnswerSheet} from '../models/answer-sheet';\nimport {ExamCalendar} from '../models/exam-calendar';\nimport * as moment from 'moment';\nimport {PageResult} from '../models/page-result';\nimport {ExamResult} from '../models/exam-result';\nimport {ExamDetail} from '../models/exam-detail';\nimport {ExamQuestionReport} from '../models/exam-question-report';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ExamService {\n\n  private baseUrl: string = environment.apiEndPoint;\n\n  constructor(private http: HttpClient) {\n  }\n\n  public getAllExams(page: number, size: number): Observable<PageResult<Exam>> {\n    const paramsHttp = new HttpParams().set('page', page.toString()).set('size', size.toString());\n    return this.http.get<PageResult<Exam>>(`${this.baseUrl}/exams`, {params: paramsHttp});\n  }\n\n  createExam(intakeId: number, partId: number, isShuffle: boolean, locked: boolean, isLockScreen: boolean, exam: Exam)\n  : Observable<Exam> {\n    const intakeParam = new HttpParams()\n    .set('intakeId', intakeId.toString())\n    .set('partId', partId.toString())\n    .set('isShuffle', String(isShuffle))\n    .set('locked', String(locked))\n    .set('lockScreen', String(isLockScreen)); // ✅ thêm dòng này\n    return this.http.post<Exam>(`${this.baseUrl}/exams`, exam, {params: intakeParam});\n  }\n\n  public getAllExamByUser(): Observable<ExamUser[]> {\n    return this.http.get<ExamUser[]>(`${this.baseUrl}/exams/list-all-by-user`);\n  }\n\n  public getExamUserById(examId: number): Observable<ExamUser> {\n    return this.http.get<ExamUser>(`${this.baseUrl}/exams/exam-user/${examId}`);\n  }\n\n  public getExamQuestion(examId: number): Observable<any> {\n    return this.http.get(`${this.baseUrl}/exams/${examId}/questions`);\n  }\n\n  public submitExamUser(examId: number, isFinish: boolean, remainingTime: number, answers: AnswerSheet[]): Observable<any> {\n    const statusExamParam = new HttpParams().set('isFinish', isFinish.toString()).set('remainingTime', remainingTime.toString());\n    return this.http.put(`${this.baseUrl}/exams/${examId}/questions-by-user`, answers, {params: statusExamParam});\n  }\n\n  public getExamUserResult(examId: number): Observable<any> {\n    return this.http.get(`${this.baseUrl}/exams/${examId}/result`);\n  }\n\n  public getExamCalendar(): Observable<ExamCalendar[]> {\n    return this.http.get<ExamCalendar[]>(`${this.baseUrl}/exams/schedule`);\n  }\n\n  public isAvailable(finishDate: string): boolean {\n    const now = moment(new Date()).format('YYYY-MM-DD HH:mm:ss');\n    return moment(finishDate).isAfter(now);\n  }\n\n  public getExamResultListByExamId(examId: number): Observable<ExamResult[]> {\n    return this.http.get<ExamResult[]>(`${this.baseUrl}/exams/${examId}/result/all`);\n  }\n\n  public getExamQuestionReport(examId: number): Observable<ExamQuestionReport[]> {\n    return this.http.get<ExamQuestionReport[]>(`${this.baseUrl}/exams/${examId}/result/all/question-report`);\n  }\n\n  public getResultExamByUser(examId: number, username: string): Observable<any> {\n    return this.http.get(`${this.baseUrl}/exams/${examId}/users/${username}/result`);\n  }\n\n  public getExamById(id: number): Observable<Exam> {\n    return this.http.get<Exam>(`${this.baseUrl}/exams/${id}`);\n  }\n\n  public getExamQuestionDetail(id: number): Observable<ExamDetail[]> {\n    return this.http.get<ExamDetail[]>(`${this.baseUrl}/exam/${id}/question-text`);\n  }\n\n  public cancelExam(id: number): Observable<any> {\n    return this.http.get(`${this.baseUrl}/exams/${id}/cancel`);\n  }\n  deleteManyExams(ids: number[]): Observable<any> {\n    return this.http.post(`${this.baseUrl}/exams/delete-many`, ids, { responseType: 'text' });\n  }\n  \n}\n","import { Injectable } from '@angular/core';\nimport { environment } from '../../environments/environment';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { Intake } from '../models/intake';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class IntakeService {\n\n  private baseUrl: string = environment.apiEndPoint;\n\n  constructor(private http: HttpClient) { }\n\n  public getIntakeList(): Observable<Intake[]> {\n    return this.http.get<Intake[]>(`${this.baseUrl}/intakes`);\n  }\n\n  // Thêm hàm liên kết course với intake\n  public linkCourseToIntake(courseId: number, intakeId: number): Observable<any> {\n    return this.http.post(`${this.baseUrl}/course-intake?courseId=${courseId}&intakeId=${intakeId}`, {});\n  }\n  \n}\n","import {Injectable} from '@angular/core';\nimport {environment} from '../../environments/environment';\nimport {Observable} from 'rxjs';\nimport {PageResult} from '../models/page-result';\nimport {Course} from '../models/course';\nimport {Part} from '../models/part';\nimport {HttpClient, HttpParams} from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PartService {\n\n  private baseUrl: string = environment.apiEndPoint;\n\n  constructor(private http: HttpClient) {\n  }\n\n  getPartListByCourse(courseId: number, page?: number, size?: number): Observable<PageResult<Part>> {\n    page = page || environment.pageMeta.pageNumber;\n    size = size || environment.pageMeta.pageSize;\n    const pageParams = new HttpParams().set('page', page.toString()).set('size', size.toString());\n    return this.http.get<PageResult<Part>>(`${this.baseUrl}/courses/${courseId}/parts`);\n  }\n\n  updatePart(id: number, name: string): Observable<any> {\n    return this.http.patch(`${this.baseUrl}/parts/${id}`, name);\n  }\n\n  getPartById(id: number): Observable<Part> {\n    return this.http.get<Part>(`${this.baseUrl}/parts/${id}`);\n  }\n\n  getPartsByCourse(courseId: number): Observable<Part[]> {\n    return this.http.get<Part[]>(`${this.baseUrl}/courses/${courseId}/part-list`);\n  }\n\n  createPartByCourse(courseId: number, part: Part): Observable<Part> {\n    return this.http.post<Part>(`${this.baseUrl}/courses/${courseId}/parts`, part);\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {environment} from '../../environments/environment';\nimport {HttpClient} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {QuestionType} from '../models/question-type';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class QuestionTypeService {\n  private baseUrl: string = environment.apiEndPoint;\n\n  constructor(private http: HttpClient) {\n  }\n\n  getQuestionTypeList(): Observable<QuestionType[]> {\n    return this.http.get<QuestionType[]>(`${this.baseUrl}/question-types`);\n  }\n\n  getQuestionTypeByCode(typeCode: string): Observable<QuestionType> {\n    return this.http.get<QuestionType>(`${this.baseUrl}/question-types/${typeCode}`);\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {environment} from '../../environments/environment';\nimport {HttpClient, HttpParams} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {PageResult} from '../models/page-result';\nimport {Question} from '../models/question';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class QuestionService {\n  private baseUrl: string = environment.apiEndPoint;\n\n  constructor(private http: HttpClient) {\n  }\n\n  public getQuestionListByPart(page: number, size: number, partId: number): Observable<PageResult<Question>> {\n    const pageParams = new HttpParams().set('page', page.toString()).set('size', size.toString());\n    return this.http.get<PageResult<Question>>(`${this.baseUrl}/parts/${partId}/questions`, {params: pageParams});\n  }\n\n  public getQuestionListByPartNotDeleted(page: number, size: number, partId: number): Observable<PageResult<Question>> {\n    const pageParams = new HttpParams().set('page', page.toString()).set('size', size.toString());\n    return this.http.get<PageResult<Question>>(`${this.baseUrl}/parts/${partId}/questions/false/deleted`, {params: pageParams});\n  }\n\n  public createQuestion(question: Question, questionType: string, partId: number): Observable<Question> {\n    const reqParams = new HttpParams().set('questionType', questionType.toString()).set('partId', String(partId));\n    return this.http.post<Question>(`${this.baseUrl}/questions`, question, {params: reqParams});\n  }\n\n  public getQuestionById(id: number): Observable<Question> {\n    return this.http.get<Question>(`${this.baseUrl}/questions/${id}`);\n  }\n\n  deleteQuestion(id: number, deleted: boolean): Observable<any> {\n    console.log(deleted);\n    return this.http.get(`${this.baseUrl}/questions/${id}/deleted/${deleted}`);\n  }\n  updateQuestion(id: number, question: Question): Observable<any> {\n    return this.http.put(`${this.baseUrl}/questions/${id}`, question);\n  }\n  deleteMultipleQuestions(ids: number[]): Observable<any> {\n    return this.http.request('DELETE', `${this.baseUrl}/questions/delete-multiple`, {\n      body: ids\n    });\n  }\n  \n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({ providedIn: 'root' })\nexport class SidebarService {\n  // true = đã thu gọn, false = mở rộng\n  private _sidebarCollapsed = new BehaviorSubject<boolean>(false);\n  sidebarCollapsed$ = this._sidebarCollapsed.asObservable();\n\n  setSidebarCollapsed(val: boolean) {\n    this._sidebarCollapsed.next(val);\n  }\n\n  getSidebarCollapsed() {\n    return this._sidebarCollapsed.getValue();\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {environment} from '../../environments/environment';\nimport {HttpClient} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {Statistics} from '../models/statistics';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StatisticsService {\n\n  private baseUrl: string = environment.apiEndPoint;\n\n  constructor(private http: HttpClient) {\n  }\n\n  getStatistics(): Observable<Statistics> {\n    return this.http.get<Statistics>(`${this.baseUrl}/statistics`);\n  }\n}\n","import {Injectable} from '@angular/core';\nimport * as jwt_decode from 'jwt-decode';\n\nconst TOKEN_KEY = 'auth-token';\nconst USER_KEY = 'auth-user';\n\n@Injectable({\n  providedIn: 'root'\n})\n\n\nexport class TokenStorageService {\n\n  constructor() {\n  }\n\n  signOut() {\n    window.localStorage.clear();\n    // window.location.reload();\n  }\n\n  public saveToken(token: string) {\n    window.localStorage.removeItem(TOKEN_KEY);\n    window.localStorage.setItem(TOKEN_KEY, token);\n  }\n\n  public getToken(): string {\n    return localStorage.getItem(TOKEN_KEY);\n  }\n\n  public saveUser(user) {\n    window.localStorage.removeItem(USER_KEY);\n    window.localStorage.setItem(USER_KEY, JSON.stringify(user));\n  }\n\n  public getUser() {\n    return JSON.parse(localStorage.getItem(USER_KEY));\n  }\n\n  getTokenExpirationDate(token: string): Date {\n    const decoded = jwt_decode(token);\n\n    if (decoded.exp === undefined) {\n      return null;\n    }\n\n    const date = new Date(0);\n    date.setUTCSeconds(decoded.exp);\n    return date;\n  }\n\n  isTokenExpired(token?: string): boolean {\n    if (!token) {\n      token = this.getToken();\n    }\n    if (!token) {\n      return true;\n    }\n\n    const date = this.getTokenExpirationDate(token);\n    if (date === undefined) {\n      return false;\n    }\n    return !(date.valueOf() > new Date().valueOf());\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient, HttpEvent, HttpParams, HttpRequest} from '@angular/common/http';\nimport {Observable} from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UploadFileService {\n\n  private baseUrl = 'http://localhost:8080/api';\n\n  constructor(private http: HttpClient) {\n  }\n\n  pushFileToStorage(file: File, fileAs: string): Observable<any> {\n    const formData: FormData = new FormData();\n    formData.append('file', file);\n    const httpParams = new HttpParams().set('fileAs', fileAs);\n    const req = new HttpRequest('POST', `${this.baseUrl}/aws/file/upload`, formData, {\n      reportProgress: true,\n      responseType: 'text',\n      params: httpParams\n    });\n    return this.http.request(req);\n  }\n\n  uploadAvatar(file: File): Observable<any> {\n    const formData: FormData = new FormData();\n    formData.append('file', file);\n    return this.http.post(`${this.baseUrl}/aws/file/upload/avatar`, formData, {\n      reportProgress: true,\n      responseType: 'text'\n    });\n  }\n\n  uploadCourseImg(file: File): Observable<any> {\n    const formData: FormData = new FormData();\n    formData.append('file', file);\n    return this.http.post(`${this.baseUrl}/aws/file/upload/course`, formData, {\n      reportProgress: true,\n      responseType: 'text'\n    });\n  }\n\n  uploadUsersByExcel(file: File): Observable<any> {\n    const formData: FormData = new FormData();\n    formData.append('file', file);\n    return this.http.post(`${this.baseUrl}/file/import/users`, formData, {\n      responseType: 'json',\n      reportProgress: true\n    });\n  }\n\n  getFiles(): Observable<any> {\n    return this.http.get(`${this.baseUrl}/aws/file/all`);\n  }\n}\n","import {Injectable} from '@angular/core';\r\nimport {HttpClient, HttpHeaders, HttpParams} from '@angular/common/http';\r\nimport {Observable} from 'rxjs';\r\nimport {UserAccount} from '../models/user-account';\r\nimport {PageResult} from '../models/page-result';\r\nimport {AbstractControl, AsyncValidatorFn, ValidationErrors} from '@angular/forms';\r\nimport {environment} from '../../environments/environment';\r\nimport {map} from 'rxjs/operators';\r\nimport {UserUpdate} from '../models/user-update';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserService {\r\n\r\n  private baseUrl: string = environment.apiEndPoint;\r\n\r\n  constructor(private http: HttpClient) {\r\n  }\r\n\r\n  getUsers(status: boolean): Observable<PageResult<UserAccount>> {\r\n    return this.http.get<PageResult<UserAccount>>(`${this.baseUrl}/users`);\r\n  }\r\n\r\n  getUserList(page: number, size: number): Observable<PageResult<UserAccount>> {\r\n    const pageParams = new HttpParams().set('page', page.toString()).set('size', size.toString());\r\n    return this.http.get<PageResult<UserAccount>>(`${this.baseUrl}/users`, {params: pageParams});\r\n  }\r\n\r\n  // // @ts-ignore\r\n  // getUserListDeletedByPage(page: number, size: number, status: boolean): Observable<PageResult<UserAccount>> {\r\n  //   const pageParams = new HttpParams().set('page', page.toString()).set('size', size.toString());\r\n  //   return this.http.get<PageResult<UserAccount>>(`${this.baseUrl}/users/deleted/${status}`, {params: pageParams});\r\n  // }\r\n\r\n  getDefaultAvatar() {\r\n    return '../../assets/images/avatar-default.png';\r\n  }\r\n\r\n  searchUserList(page: number, size: number, searchKey: string): Observable<PageResult<UserAccount>> {\r\n    const pageParams = new HttpParams().set('page', page.toString()).set('size', size.toString()).set('search-keyword', searchKey.toString());\r\n    return this.http.get<PageResult<UserAccount>>(`${this.baseUrl}/users/search`, {params: pageParams});\r\n  }\r\n\r\n  exportExcel(status: boolean): Observable<Blob> {\r\n    const headers = new HttpHeaders({\r\n      'Accept': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\r\n    });\r\n    return this.http.get(`${this.baseUrl}/users/deleted/${status}/export/users.xlsx`, {\r\n      headers,\r\n      responseType: 'blob'\r\n    });\r\n  }\r\n  \r\n\r\n  addUser(user: UserAccount): Observable<UserAccount> {\r\n    return this.http.post<UserAccount>(`${this.baseUrl}/users`, user);\r\n  }\r\n\r\n  deleteUser(id: number, deleted: boolean): Observable<any> {\r\n    return this.http.get<any>(`${this.baseUrl}/users/${id}/deleted/${deleted}`);\r\n  }\r\n\r\n  updateUser(id: number, user: UserUpdate): Observable<any> {\r\n    return this.http.put<any>(`${this.baseUrl}/users/${id}`, user);\r\n  }\r\n\r\n  validateUsername(): AsyncValidatorFn {\r\n    return (control: AbstractControl): Observable<ValidationErrors | null> => {\r\n      return this.http.get<boolean>(`${this.baseUrl}/users/check-username?value=${control.value}`).pipe(\r\n        map(res => {\r\n          // if res is true, username exists, return true\r\n          return res ? {usernameExists: true} : null;\r\n          // NB: Return null if there is no error\r\n        })\r\n      );\r\n    };\r\n  }\r\n\r\n  validateEmail(): AsyncValidatorFn {\r\n    return (control: AbstractControl): Observable<ValidationErrors | null> => {\r\n      return this.http.get<boolean>(`${this.baseUrl}/users/check-email?value=${control.value}`).pipe(\r\n        map(res => {\r\n          // if res is true, username exists, return true\r\n          return res ? {emailExists: true} : null;\r\n          // NB: Return null if there is no error\r\n        })\r\n      );\r\n    };\r\n  }\r\n\r\n  validateEmailUpdate(id: number): AsyncValidatorFn {\r\n    return (control: AbstractControl): Observable<ValidationErrors | null> => {\r\n      return this.http.get<boolean>(`${this.baseUrl}/users/${id}/check-email?value=${control.value}`).pipe(\r\n        map(res => {\r\n          // if res is true, username exists, return true\r\n          return res ? {emailExists: true} : null;\r\n          // NB: Return null if there is no error\r\n        })\r\n      );\r\n    };\r\n  }\r\n\r\n\r\n  /**\r\n   *not yet delete\r\n   * @param username\r\n   */\r\n  getUserInfo(username?: string): Observable<any> {\r\n    const userParams = new HttpParams().set('username', username);\r\n    return this.http.get<any>(`${this.baseUrl}/users/profile`, {params: userParams});\r\n  }\r\n\r\n  updateEmail(id: number, data: any): Observable<any> {\r\n    return this.http.patch<any>(`${this.baseUrl}/users/${id}/email/updating`, data);\r\n  }\r\n\r\n  updatePassword(id: number, data: any): Observable<any> {\r\n    return this.http.patch<any>(`${this.baseUrl}/users/${id}/password/updating`, data);\r\n  }\r\n  generatePasswordsExcel(intakeId: number): Observable<Blob> {\r\n    return this.http.post(`${this.baseUrl}/users/generate-passwords-excel?intakeId=${intakeId}`, {}, {\r\n      responseType: 'blob'\r\n    });\r\n  }\r\n  updatePasswordsFromExcel(formData: FormData): Observable<any> {\r\n    return this.http.post(`${this.baseUrl}/users/update-passwords-excel`, formData, { responseType: 'text' }); // responseType là 'text'\r\n  }  \r\n  deleteManyUsers(userIds: number[]): Observable<any> {\r\n    return this.http.post(`${this.baseUrl}/users/delete-many`, userIds);\r\n  }  \r\n  \r\n}\r\n","import {Component, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'app-admin-footer',\n  templateUrl: './admin-footer.component.html',\n  styleUrls: ['./admin-footer.component.scss']\n})\nexport class AdminFooterComponent implements OnInit {\n  date = new Date().getFullYear();\n\n  constructor() {\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","<footer class=\"block py-4\">\r\n  <div class=\"container mx-auto px-4\">\r\n    <hr class=\"mb-4 border-b-1 border-gray-300\" />\r\n    <div class=\"flex flex-wrap items-center md:justify-end justify-center\">\r\n      <div class=\"w-full md:w-4/12 px-4\">\r\n        <div class=\"text-sm text-gray-600 font-semibold py-1\">\r\n          Copyright © {{date}}\r\n          <a href=\"https://www.creative-tim.com\" class=\"text-gray-600 hover:text-gray-800 text-sm font-semibold py-1\">\r\n            Kiểm tra online\r\n          </a>\r\n        </div>\r\n      </div>\r\n      <!--          <div class=\"w-full md:w-8/12 px-4\">-->\r\n      <!--            <ul class=\"flex flex-wrap list-none md:justify-end  justify-center\">-->\r\n      <!--              <li>-->\r\n      <!--                <a-->\r\n      <!--                  href=\"https://www.creative-tim.com\"-->\r\n      <!--                  class=\"text-gray-700 hover:text-gray-900 text-sm font-semibold block py-1 px-3\"-->\r\n      <!--                >-->\r\n      <!--                  Creative Tim-->\r\n      <!--                </a>-->\r\n      <!--              </li>-->\r\n      <!--              <li>-->\r\n      <!--                <a-->\r\n      <!--                  href=\"https://www.creative-tim.com/presentation\"-->\r\n      <!--                  class=\"text-gray-700 hover:text-gray-900 text-sm font-semibold block py-1 px-3\"-->\r\n      <!--                >-->\r\n      <!--                  About Us-->\r\n      <!--                </a>-->\r\n      <!--              </li>-->\r\n      <!--              <li>-->\r\n      <!--                <a-->\r\n      <!--                  href=\"http://blog.creative-tim.com\"-->\r\n      <!--                  class=\"text-gray-700 hover:text-gray-900 text-sm font-semibold block py-1 px-3\"-->\r\n      <!--                >-->\r\n      <!--                  Blog-->\r\n      <!--                </a>-->\r\n      <!--              </li>-->\r\n      <!--              <li>-->\r\n      <!--                <a-->\r\n      <!--                  href=\"https://github.com/creativetimofficial/tailwind-starter-kit/blob/master/LICENSE.md\"-->\r\n      <!--                  class=\"text-gray-700 hover:text-gray-900 text-sm font-semibold block py-1 px-3\"-->\r\n      <!--                >-->\r\n      <!--                  MIT License-->\r\n      <!--                </a>-->\r\n      <!--              </li>-->\r\n      <!--            </ul>-->\r\n      <!--          </div>-->\r\n    </div>\r\n  </div>\r\n</footer>","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {UserAccount} from '../../models/user-account';\nimport {FileUploadComponent} from '../../shared/file-upload/file-upload.component';\nimport {UploadFileService} from '../../_services/upload-file.service';\nimport {UserService} from '../../_services/user.service';\nimport {FormBuilder} from '@angular/forms';\nimport {ToastrService} from 'ngx-toastr';\nimport {TokenStorageService} from '../../_services/token-storage.service';\n\n@Component({\n  selector: 'app-admin-profile',\n  templateUrl: './admin-profile.component.html',\n  styleUrls: ['./admin-profile.component.scss']\n})\nexport class AdminProfileComponent implements OnInit {\n\n  togglePwd = false;\n  toggleEmail = false;\n  toggleAvatar = true;\n  imgUpload = '';\n  userProfile: UserAccount;\n  @ViewChild(FileUploadComponent) fileUploadViewChild: FileUploadComponent;\n  private imgFile: any;\n\n  constructor(private uploadService: UploadFileService,\n              private userService: UserService,\n              private fb: FormBuilder,\n              private toast: ToastrService,\n              private tokenStorageService: TokenStorageService) {\n  }\n\n\n  ngOnInit(): void {\n    this.getUserInfo();\n  }\n\n\n  getUserInfo() {\n    this.userService.getUserInfo('').subscribe(res => {\n      this.userProfile = res.data;\n      this.imgUpload = this.userProfile.profile.image || 'https://isc-quiz.s3-ap-southeast-1.amazonaws.com/default.png';\n    });\n  }\n\n  toggleChangePwd() {\n    this.toggleEmail = false;\n    this.toggleAvatar = false;\n    this.togglePwd = true;\n  }\n\n  toggleUpdateEmail() {\n    this.togglePwd = false;\n    this.toggleAvatar = false;\n    this.toggleEmail = true;\n\n  }\n\n  toggleChangeAvatar() {\n    this.togglePwd = false;\n    this.toggleEmail = false;\n    this.toggleAvatar = true;\n\n  }\n\n\n  updatePassword(data) {\n    this.userService.updatePassword(this.userProfile.id, data).subscribe(res => {\n      if (res.statusCode === 200) {\n        this.toast.success(res.message, 'Done');\n        this.toast.warning(`You have to sign in again`, 'Warning');\n        // @ts-ignore\n        setTimeout(() => {\n          this.tokenStorageService.signOut();\n          window.location.replace('/login');\n\n        }, 3000);\n        // this.toast.warning(`You have to sign in again`, 'Warning');\n      } else {\n        this.toast.error(res.message, 'Error');\n      }\n    }, error => {\n      this.toast.error(error.message, `Server error: ${error.statusCode}`);\n    });\n  }\n\n  updateEmail(data) {\n    this.userService.updateEmail(this.userProfile.id, data).subscribe(res => {\n      switch (res.statusCode) {\n        case 417: {\n          this.toast.error('Error', res.message);\n          break;\n        }\n        case 200: {\n          this.toast.success('Done', res.message);\n          this.userProfile.email = res.data;\n          break;\n        }\n        default: {\n          this.toast.error('Error', 'Server error');\n        }\n      }\n    });\n  }\n\n  getAvatarUpload(urlUpload) {\n    this.imgFile = urlUpload;\n    this.uploadService.uploadAvatar(this.imgFile).subscribe(res => {\n      this.imgUpload = res;\n      this.toast.success('Updated new avatar', 'Done');\n      return;\n    }, error => {\n      this.toast.error('Some problems. Report it to the administrator', 'Error');\n    });\n\n\n  }\n\n}\n","<div class=\"bg-blue-600 md:pt-32 pb-32 pt-12\">\n  <div class=\"px-4 md:px-10 mx-auto w-full\">\n  </div>\n</div>\n<div class=\" mx-auto w-full -m-24\">\n\n  <div class=\"flex flex-wrap mt-4 justify-center\">\n    <div class=\"w-full mb-12 xl:mb-0 px-4 max-w-5xl\">\n      <div class=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\n        <div class=\"rounded-t mb-0 px-4 py-3 border-0\">\n          <div class=\"flex flex-wrap items-center\">\n            <div class=\"relative w-full px-4 max-w-full flex-grow leading-8 mb-3\">\n              <h3 class=\"font-semibold text-2xl text-gray-800\">\n                Thông tin người dùng\n              </h3>\n            </div>\n\n          </div>\n        </div>\n        <div class=\"block w-full\">\n          <!-- Projects table -->\n          <div class=\"py-3 pb-8\" *ngIf=\"userProfile\">\n            <div class=\"my-2 px-5 flex w-full\">\n              <div class=\"rounded-lg shadow-2xl w-64 mx-2 px-3 py-2 bg-white border-2 border-blue-700 text-gray-700 text-center\">\n                <div class=\"my-3 my-1\">\n                  <img [src]=\"imgUpload\"\n                       class=\"avatar mx-auto shadow-md\">\n                </div>\n                <div class=\"px-3 my-4\"><label\n                  class=\"text-blue-700 text-xl font-semibold uppercase\">{{userProfile.profile.lastName}} {{userProfile.profile.firstName}}</label>\n                </div>\n                <div class=\"px-3 my-1\"><label class=\"font-medium\">@{{userProfile.username}}</label></div>\n                <div class=\"px-3 my-2\"><label class=\"underline text-blue-500\">{{userProfile.email}}</label></div>\n                <div class=\"mx-3 my-3 flex justify-center\">\n                  <div\n                    class=\"mx-2 w-8 h-8 flex justify-center items-center rounded-full bg-blue-500 hover:bg-blue-700 text-white text-lg cursor-pointer\"\n                    [tooltip]=\"'Change password'\" show-delay=\"100\" hide-delay=\"100\"\n                    [ngClass]=\"{'bg-blue-700 shadow-lg': togglePwd}\"\n                    (click)=\"toggleChangePwd()\"\n                  ><i class=\"fa fa-lock\"></i></div>\n                  <div\n                    class=\"mx-2 w-8 h-8 flex justify-center items-center rounded-full bg-blue-500 hover:bg-blue-700 text-white text-lg cursor-pointer\"\n                    [tooltip]=\"'Update email'\" show-delay=\"100\" hide-delay=\"100\"\n                    [ngClass]=\"{'bg-blue-700 shadow-lg': toggleEmail}\"\n                    (click)=\"toggleUpdateEmail()\"\n                  ><i class=\"fa fa-envelope\"></i></div>\n                  <div\n                    class=\"mx-2 w-8 h-8 flex justify-center items-center rounded-full bg-blue-500 hover:bg-blue-700 text-white text-lg cursor-pointer\"\n                    [tooltip]=\"'Change avatar'\" show-delay=\"100\" hide-delay=\"100\"\n                    (click)=\"toggleChangeAvatar()\"\n                    [ngClass]=\"{'bg-blue-700 shadow-lg': toggleAvatar}\"\n                  ><i class=\"fa fa-image\"></i></div>\n                </div>\n              </div>\n              <div class=\"mx-8 md:w-1/2\">\n\n                <ng-template [ngIf]=\"togglePwd\">\n                  <app-update-password (passwordUpdate)=\"updatePassword($event)\"></app-update-password>\n                </ng-template>\n\n                <ng-template [ngIf]=\"toggleEmail\">\n                  <app-update-email [userProfile]=\"userProfile\" (emailUpdate)=\"updateEmail($event)\"></app-update-email>\n                </ng-template>\n                <ng-template [ngIf]=\"toggleAvatar\">\n                  <app-update-avatar (avatarUploadUrl)=\"getAvatarUpload($event)\"></app-update-avatar>\n                </ng-template>\n              </div>\n            </div>\n\n          </div>\n\n        </div>\n\n      </div>\n    </div>\n  </div>\n\n  <app-admin-footer></app-admin-footer>\n</div>\n\n","import {Component, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'app-admin',\n  templateUrl: './admin.component.html',\n  styleUrls: ['./admin.component.scss']\n})\nexport class AdminComponent implements OnInit {\n  constructor() {\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","<app-nav-sidebar></app-nav-sidebar>\n<div class=\"relative md:ml-64 bg-gray-200\">\n  <app-navbar></app-navbar>\n  <router-outlet></router-outlet>\n</div>\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {AdminComponent} from './admin.component';\nimport {RouterModule} from '@angular/router';\nimport {NavSidebarComponent} from './nav-sidebar/nav-sidebar.component';\nimport {AdminNavbarComponent} from './navbar/navbar.component';\nimport {LineChartComponent} from './line-chart/line-chart.component';\nimport {BarChartComponent} from './bar-chart/bar-chart.component';\nimport {AdminDashboardComponent} from './dashboard/dashboard.component';\nimport {ManageUserComponent} from './manage-user/manage-user.component';\nimport {AdminFooterComponent} from './admin-footer/admin-footer.component';\nimport {CardStatsComponent} from './card-stats/card-stats.component';\nimport {SharedModule} from '../shared/shared.module';\nimport {ScrollingModule} from '@angular/cdk/scrolling';\nimport {UserDropdownComponent} from './user-dropdown/user-dropdown.component';\nimport {AddUserComponent} from './manage-user/add-user/add-user.component';\nimport {DetailUserComponent} from './manage-user/detail-user/detail-user.component';\nimport {DeleteUserComponent} from './manage-user/delete-user/delete-user.component';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {UpdateUserComponent} from './manage-user/update-user/update-user.component';\nimport {QuestionBankComponent} from './manage-question/question-bank/question-bank.component';\nimport {TabsComponent} from './tabs/tabs.component';\nimport {ManageCourseComponent} from './manage-course/manage-course.component';\nimport {CourseUpdateComponent} from './manage-course/course-update/course-update.component';\nimport {CourseCreateComponent} from './manage-course/course-create/course-create.component';\nimport {ListQuestionComponent} from './manage-part/list-question/list-question.component';\nimport {ManagePartComponent} from './manage-part/manage-part.component';\nimport {AddQuestionComponent} from './manage-question/add-question/add-question.component';\nimport {CKEditorModule} from '@ckeditor/ckeditor5-angular';\nimport { ManageTestComponent } from './manage-test/manage-test.component';\nimport { AddTestComponent } from './manage-test/add-test/add-test.component';\nimport {NgxSkeletonLoaderModule} from 'ngx-skeleton-loader';\nimport {DragDropModule} from '@angular/cdk/drag-drop';\nimport { QuestionDetailComponent } from './manage-question/question-detail/question-detail.component';\nimport { UserTestComponent } from './manage-test/user-test/user-test.component';\nimport { AdminProfileComponent } from './admin-profile/admin-profile.component';\nimport { DetailTestComponent } from './manage-test/detail-test/detail-test.component';\nimport {NgApexchartsModule} from 'ng-apexcharts';\nimport { UserTestResultComponent } from './manage-test/user-test-result/user-test-result.component';\nimport { PartCreateComponent } from './manage-part/part-create/part-create.component';\n\n@NgModule({\n  declarations: [AdminComponent, NavSidebarComponent, AdminNavbarComponent, UserDropdownComponent, LineChartComponent, BarChartComponent, AdminDashboardComponent, ManageUserComponent, AdminFooterComponent, CardStatsComponent, AddUserComponent, DetailUserComponent, DeleteUserComponent, UpdateUserComponent, QuestionBankComponent, TabsComponent, ManageCourseComponent, CourseUpdateComponent, CourseCreateComponent, ListQuestionComponent, ManagePartComponent, AddQuestionComponent, ManageTestComponent, AddTestComponent, QuestionDetailComponent, UserTestComponent, AdminProfileComponent, DetailTestComponent, UserTestResultComponent, PartCreateComponent],\n    imports: [\n        CommonModule,\n        RouterModule,\n        ScrollingModule,\n        SharedModule,\n        FormsModule,\n        ReactiveFormsModule,\n        CKEditorModule,\n        NgxSkeletonLoaderModule,\n        DragDropModule,\n        NgApexchartsModule,\n\n    ]\n})\nexport class AdminModule {\n}\n","import {AfterViewInit, Component, OnInit} from '@angular/core';\nimport Chart from 'Chart.js';\n@Component({\n  selector: 'app-bar-chart',\n  templateUrl: './bar-chart.component.html',\n  styleUrls: ['./bar-chart.component.scss']\n})\nexport class BarChartComponent implements OnInit, AfterViewInit {\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n  ngAfterViewInit() {\n    let config = {\n      type: 'bar',\n      data: {\n        labels: [\n          'January',\n          'February',\n          'March',\n          'April',\n          'May',\n          'June',\n          'July'\n        ],\n        datasets: [\n          {\n            label: new Date().getFullYear(),\n            backgroundColor: '#ed64a6',\n            borderColor: '#ed64a6',\n            data: [30, 78, 56, 34, 100, 45, 13],\n            fill: false,\n            barThickness: 8\n          },\n          {\n            label: new Date().getFullYear() - 1,\n            fill: false,\n            backgroundColor: '#4c51bf',\n            borderColor: '#4c51bf',\n            data: [27, 68, 86, 74, 10, 4, 87],\n            barThickness: 8\n          }\n        ]\n      },\n      options: {\n        maintainAspectRatio: false,\n        responsive: true,\n        title: {\n          display: false,\n          text: 'Orders Chart'\n        },\n        tooltips: {\n          mode: 'index',\n          intersect: false\n        },\n        hover: {\n          mode: 'nearest',\n          intersect: true\n        },\n        legend: {\n          labels: {\n            fontColor: 'rgba(0,0,0,.4)'\n          },\n          align: 'end',\n          position: 'bottom'\n        },\n        scales: {\n          xAxes: [\n            {\n              display: false,\n              scaleLabel: {\n                display: true,\n                labelString: 'Month'\n              },\n              gridLines: {\n                borderDash: [2],\n                borderDashOffset: [2],\n                color: 'rgba(33, 37, 41, 0.3)',\n                zeroLineColor: 'rgba(33, 37, 41, 0.3)',\n                zeroLineBorderDash: [2],\n                zeroLineBorderDashOffset: [2]\n              }\n            }\n          ],\n          yAxes: [\n            {\n              display: true,\n              scaleLabel: {\n                display: false,\n                labelString: 'Value'\n              },\n              gridLines: {\n                borderDash: [2],\n                drawBorder: false,\n                borderDashOffset: [2],\n                color: 'rgba(33, 37, 41, 0.2)',\n                zeroLineColor: 'rgba(33, 37, 41, 0.15)',\n                zeroLineBorderDash: [2],\n                zeroLineBorderDashOffset: [2]\n              }\n            }\n          ]\n        }\n      }\n    };\n    let ctx: any = document.getElementById('bar-chart');\n    ctx = ctx.getContext('2d');\n    new Chart(ctx, config);\n  }\n\n\n}\n","<div class=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\n  <div class=\"rounded-t mb-0 px-4 py-3 bg-transparent\">\n    <div class=\"flex flex-wrap items-center\">\n      <div class=\"relative w-full max-w-full flex-grow flex-1\">\n        <h6 class=\"uppercase text-gray-500 mb-1 text-xs font-semibold\">\n          Performance\n        </h6>\n        <h2 class=\"text-gray-800 text-xl font-semibold\">\n          Total orders\n        </h2>\n      </div>\n    </div>\n  </div>\n  <div class=\"p-4 flex-auto\">\n    <!-- Chart -->\n    <div class=\"relative\" style=\"height:350px\">\n      <canvas id=\"bar-chart\"></canvas>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-card-stats',\n  templateUrl: './card-stats.component.html',\n  styleUrls: ['./card-stats.component.scss']\n})\nexport class CardStatsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"w-full lg:w-6/12 xl:w-3/12 px-4\">\n  <div class=\"relative flex flex-col min-w-0 break-words bg-white rounded mb-6 xl:mb-0 shadow-lg\">\n    <div class=\"flex-auto p-4\">\n      <div class=\"flex flex-wrap\">\n        <div class=\"relative w-full pr-4 max-w-full flex-grow flex-1\">\n          <h5 class=\"text-gray-500 uppercase font-bold text-xs\">\n            Bài thi tạo mới\n          </h5>\n          <span class=\"font-semibold text-xl text-gray-800\">\n                      2,356\n                    </span>\n        </div>\n        <div class=\"relative w-auto pl-4 flex-initial\">\n          <div class=\"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full bg-orange-500\">\n            <i class=\"fa fa-address-book\"></i>\n          </div>\n        </div>\n      </div>\n      <p class=\"text-sm text-gray-500 mt-4\">\n                  <span class=\"text-red-500 mr-2\">\n                    <i class=\"fa fa-arrow-down p-1 rounded-full bg-red-200\"></i> 3.48%\n                  </span>\n        <span class=\"whitespace-no-wrap\">\n                    so tuần trước\n                  </span>\n      </p>\n    </div>\n  </div>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {StatisticsService} from '../../_services/statistics.service';\nimport {Statistics} from '../../models/statistics';\nimport Chart from 'chart.js';\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss']\n})\nexport class AdminDashboardComponent implements OnInit {\n\n  statistics: Statistics;\n  lastSevenDays: any[] = [];\n\n  constructor(private statisticsService: StatisticsService) {\n  }\n\n  ngOnInit(): void {\n    this.fetchStatistics();\n  }\n\n  fetchStatistics() {\n    this.getLastSevenDays();\n    this.statisticsService.getStatistics().subscribe(res => {\n      this.statistics = res;\n      console.log(this.statistics.examUserLastedSevenDaysTotal.shift());\n      const config = {\n        type: 'line',\n        data: {\n          labels: this.lastSevenDays,\n          datasets: [\n            {\n              label: new Date().getFullYear(),\n              backgroundColor: '#4c51bf',\n              borderColor: '#4c51bf',\n              data: this.statistics.examUserLastedSevenDaysTotal,\n              fill: false\n            }\n\n          ]\n        },\n        options: {\n          maintainAspectRatio: false,\n          responsive: true,\n          title: {\n            display: false,\n            text: 'Exam Charts',\n            fontColor: 'white',\n          },\n          legend: {\n            labels: {\n              fontColor: 'white'\n            },\n            align: 'end',\n            position: 'bottom'\n          },\n          tooltips: {\n            mode: 'index',\n            intersect: false\n          },\n          hover: {\n            mode: 'nearest',\n            intersect: true\n          },\n          scales: {\n            xAxes: [\n              {\n                ticks: {\n                  fontColor: 'rgba(255,255,255,.7)'\n                },\n                display: true,\n                scaleLabel: {\n                  display: false,\n                  labelString: 'Month',\n                  fontColor: 'white'\n                },\n                gridLines: {\n                  display: false,\n                  borderDash: [2],\n                  borderDashOffset: [2],\n                  color: 'rgba(33, 37, 41, 0.3)',\n                  zeroLineColor: 'rgba(0, 0, 0, 0)',\n                  zeroLineBorderDash: [2],\n                  zeroLineBorderDashOffset: [2]\n                }\n              }\n            ],\n            yAxes: [\n              {\n                ticks: {\n                  fontColor: 'rgba(255,255,255,.7)'\n                },\n                display: true,\n                scaleLabel: {\n                  display: false,\n                  labelString: 'Value',\n                  fontColor: 'white'\n                },\n                gridLines: {\n                  borderDash: [3],\n                  borderDashOffset: [3],\n                  drawBorder: false,\n                  color: 'rgba(255, 255, 255, 0.15)',\n                  zeroLineColor: 'rgba(33, 37, 41, 0)',\n                  zeroLineBorderDash: [2],\n                  zeroLineBorderDashOffset: [2]\n                }\n              }\n            ]\n          }\n        }\n      };\n      let ctx: any = document.getElementById('line-chart') as HTMLCanvasElement;\n      ctx = ctx.getContext('2d');\n      new Chart(ctx, config);\n    });\n  }\n  getLastSevenDays() {\n    let dayIndex = 0;\n    while (dayIndex < 7) {\n      this.lastSevenDays.push(moment().subtract(dayIndex, 'days').format('DD MMM'));\n      dayIndex++;\n    }\n\n    console.log(this.lastSevenDays.reverse());\n  }\n}\n","<!-- Header -->\n<div class=\"relative bg-blue-600 md:pt-32 pb-32 pt-12\" *ngIf=\"statistics\">\n  <div class=\"px-4 md:px-10 mx-auto w-full\">\n    <div>\n      <!-- Card stats -->\n      <div class=\"flex flex-wrap\">\n        <div class=\"w-full lg:w-6/12 xl:w-3/12 px-4\">\n          <div class=\"relative flex flex-col min-w-0 break-words bg-white rounded mb-6 xl:mb-0 shadow-lg\">\n            <div class=\"flex-auto p-4\">\n              <div class=\"flex flex-wrap\">\n                <div class=\"relative w-full pr-4 max-w-full flex-grow flex-1\">\n                  <h5 class=\"text-gray-500 uppercase font-bold text-xs\">\n                    Người dùng\n                  </h5>\n                  <span class=\"font-semibold text-xl text-gray-800\">\n                      {{statistics.accountTotal}}\n                    </span>\n                </div>\n                <div class=\"relative w-auto pl-4 flex-initial\">\n                  <div\n                    class=\"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full bg-red-500\">\n                    <i class=\"fa fa-user\"></i>\n                  </div>\n                </div>\n              </div>\n              <p class=\"text-sm text-gray-500 mt-4\">\n                <ng-container *ngIf=\"statistics.changeAccount>0\">\n                  <span class=\"text-green-500 mr-2\">\n                    <i class=\"fa fa-arrow-up\"></i> {{statistics.changeAccount}}%\n                  </span>\n                </ng-container>\n                <ng-container *ngIf=\"statistics.changeAccount<0\">\n                  <span class=\"text-red-500 mr-2\">\n                    <i class=\"fa fa-arrow-down\"></i> {{statistics.changeAccount}}%\n                  </span>\n                </ng-container>\n                <ng-container *ngIf=\"statistics.changeAccount==0\">\n                  <span class=\"text-gray-500 mr-2\">\n                    <i class=\"fa fa-minus\"></i> {{statistics.changeAccount}}%\n                  </span>\n                </ng-container>\n                <span class=\"whitespace-no-wrap\">\n                    so tuần trước\n                  </span>\n              </p>\n\n            </div>\n          </div>\n        </div>\n        <ng-template>\n          <app-card-stats></app-card-stats>\n        </ng-template>\n        <div class=\"w-full lg:w-6/12 xl:w-3/12 px-4\">\n          <div class=\"relative flex flex-col min-w-0 break-words bg-white rounded mb-6 xl:mb-0 shadow-lg\">\n            <div class=\"flex-auto p-4\">\n              <div class=\"flex flex-wrap\">\n                <div class=\"relative w-full pr-4 max-w-full flex-grow flex-1\">\n                  <h5 class=\"text-gray-500 uppercase font-bold text-xs\">\n                    Đề kiểm tra\n                  </h5>\n                  <span class=\"font-semibold text-xl text-gray-800\">\n                      {{statistics.examTotal}}\n                    </span>\n                </div>\n                <div class=\"relative w-auto pl-4 flex-initial\">\n                  <div\n                    class=\"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full bg-orange-500\">\n                    <i class=\"fa fa-book\"></i>\n                  </div>\n                </div>\n              </div>\n              <p class=\"text-sm text-gray-500 mt-4\">\n                <ng-container *ngIf=\"statistics.changeExam>0\">\n                  <span class=\"text-green-500 mr-2\">\n                    <i class=\"fa fa-arrow-up\"></i> {{statistics.changeExam}}%\n                  </span>\n                </ng-container>\n                <ng-container *ngIf=\"statistics.changeExam<0\">\n                  <span class=\"text-red-500 mr-2\">\n                    <i class=\"fa fa-arrow-down\"></i> {{statistics.changeExam}}%\n                  </span>\n                </ng-container>\n                <ng-container *ngIf=\"statistics.changeExam==0\">\n                  <span class=\"text-gray-500 mr-2\">\n                    <i class=\"fa fa-minus\"></i> {{statistics.changeExam}}%\n                  </span>\n                </ng-container>\n                <span class=\"whitespace-no-wrap\">\n                    so tuần trước\n                  </span>\n              </p>\n\n            </div>\n          </div>\n        </div>\n        <div class=\"w-full lg:w-6/12 xl:w-3/12 px-4\">\n          <div class=\"relative flex flex-col min-w-0 break-words bg-white rounded mb-6 xl:mb-0 shadow-lg\">\n            <div class=\"flex-auto p-4\">\n              <div class=\"flex flex-wrap\">\n                <div class=\"relative w-full pr-4 max-w-full flex-grow flex-1\">\n                  <h5 class=\"text-gray-500 uppercase font-bold text-xs\">\n                    Câu hỏi\n                  </h5>\n                  <span class=\"font-semibold text-xl text-gray-800\">\n                      {{statistics.questionTotal}}\n                    </span>\n                </div>\n                <div class=\"relative w-auto pl-4 flex-initial\">\n                  <div\n                    class=\"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full bg-pink-500\">\n                    <i class=\"fa fa-question-circle\"></i>\n                  </div>\n                </div>\n              </div>\n              <p class=\"text-sm text-gray-500 mt-4\">\n                <ng-container *ngIf=\"statistics.changeQuestion>0\">\n                  <span class=\"text-green-500 mr-2\">\n                    <i class=\"fa fa-arrow-up\"></i> {{statistics.changeQuestion}}%\n                  </span>\n                </ng-container>\n                <ng-container *ngIf=\"statistics.changeQuestion<0\">\n                  <span class=\"text-red-500 mr-2\">\n                    <i class=\"fa fa-arrow-down\"></i> {{statistics.changeQuestion}}%\n                  </span>\n                </ng-container>\n                <ng-container *ngIf=\"statistics.changeQuestion==0\">\n                  <span class=\"text-gray-500 mr-2\">\n                    <i class=\"fa fa-minus\"></i> {{statistics.changeQuestion}}%\n                  </span>\n                </ng-container>\n                <span class=\"whitespace-no-wrap\">\n                    so tuần trước\n                  </span>\n              </p>\n\n            </div>\n          </div>\n        </div>\n        <div class=\"w-full lg:w-6/12 xl:w-3/12 px-4\">\n          <div class=\"relative flex flex-col min-w-0 break-words bg-white rounded mb-6 xl:mb-0 shadow-lg\">\n            <div class=\"flex-auto p-4\">\n              <div class=\"flex flex-wrap\">\n                <div class=\"relative w-full pr-4 max-w-full flex-grow flex-1\">\n                  <h5 class=\"text-gray-500 uppercase font-bold text-xs\">\n                    Bài làm\n                  </h5>\n                  <span class=\"font-semibold text-xl text-gray-800\">\n                      {{statistics.examUserTotal}}\n                    </span>\n                </div>\n                <div class=\"relative w-auto pl-4 flex-initial\">\n                  <div\n                    class=\"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full bg-blue-500\">\n                    <i class=\"fa fa-address-book\"></i>\n                  </div>\n                </div>\n              </div>\n              <p class=\"text-sm text-gray-500 mt-4\">\n                <ng-container *ngIf=\"statistics.changeExamUser>0\">\n                  <span class=\"text-green-500 mr-2\">\n                    <i class=\"fa fa-arrow-up\"></i> {{statistics.changeExamUser}}%\n                  </span>\n                </ng-container>\n                <ng-container *ngIf=\"statistics.changeExamUser<0\">\n                  <span class=\"text-red-500 mr-2\">\n                    <i class=\"fa fa-arrow-down\"></i> {{statistics.changeExamUser}}%\n                  </span>\n                </ng-container>\n                <ng-container *ngIf=\"statistics.changeExamUser==0\">\n                  <span class=\"text-gray-500 mr-2\">\n                    <i class=\"fa fa-minus\"></i> {{statistics.changeExamUser}}%\n                  </span>\n                </ng-container>\n\n                <span class=\"whitespace-no-wrap\">\n                    so tuần trước\n                  </span>\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<div class=\"px-4 md:px-10 mx-auto w-full -m-24\">\n  <div class=\"flex flex-wrap\">\n<!--    <app-line-chart class=\"w-full mb-12 xl:mb-0 px-4\" [data]=\"statistics\"></app-line-chart>-->\n    <div class=\"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded bg-gray-900\">\n      <div class=\"rounded-t mb-0 px-4 py-3 bg-transparent\">\n        <div class=\"flex flex-wrap items-center\">\n          <div class=\"relative w-full max-w-full flex-grow flex-1\">\n\n            <h2 class=\"text-white text-xl font-semibold\">\n              Thống kê bài kiểm tra\n            </h2>\n            <h5 class=\"text-white text-md\">\n              7 ngày gần nhất\n            </h5>\n          </div>\n        </div>\n      </div>\n      <div class=\"p-4 flex-auto\">\n\n        <!-- Chart -->\n        <div class=\"relative\" style=\"height:350px\">\n          <canvas id=\"line-chart\"></canvas>\n        </div>\n      </div>\n    </div>\n\n  </div>\n\n  <app-admin-footer></app-admin-footer>\n</div>\n","import {AfterViewInit, Component, Input, OnChanges, OnInit, SimpleChanges} from '@angular/core';\nimport Chart from 'chart.js';\nimport {Statistics} from '../../models/statistics';\nimport * as moment from 'moment';\nimport {StatisticsService} from '../../_services/statistics.service';\n\n@Component({\n  selector: 'app-line-chart',\n  templateUrl: './line-chart.component.html',\n  styleUrls: ['./line-chart.component.scss']\n})\nexport class LineChartComponent implements OnInit, AfterViewInit, OnChanges {\n\n  @Input() data: Statistics;\n  lastSevenDays: any[] = [];\n  dataChart: Statistics;\n\n  constructor(private statisticsService: StatisticsService) {\n  }\n\n  ngOnInit(): void {\n    this.getLastSevenDays();\n    this.statisticsService.getStatistics().subscribe(res => {\n      this.dataChart = res;\n      const dataArray = this.data?.examUserLastedSevenDaysTotal.shift();\n      const config = {\n        type: 'line',\n        data: {\n          labels: this.lastSevenDays,\n          datasets: [\n            {\n              label: new Date().getFullYear(),\n              backgroundColor: '#4c51bf',\n              borderColor: '#4c51bf',\n              data: this.dataChart.examUserLastedSevenDaysTotal,\n              fill: false\n            }\n\n          ]\n        },\n        options: {\n          maintainAspectRatio: false,\n          responsive: true,\n          title: {\n            display: false,\n            text: 'Exam Charts',\n            fontColor: 'white',\n          },\n          legend: {\n            labels: {\n              fontColor: 'white'\n            },\n            align: 'end',\n            position: 'bottom'\n          },\n          tooltips: {\n            mode: 'index',\n            intersect: false\n          },\n          hover: {\n            mode: 'nearest',\n            intersect: true\n          },\n          scales: {\n            xAxes: [\n              {\n                ticks: {\n                  fontColor: 'rgba(255,255,255,.7)'\n                },\n                display: true,\n                scaleLabel: {\n                  display: false,\n                  labelString: 'Month',\n                  fontColor: 'white'\n                },\n                gridLines: {\n                  display: false,\n                  borderDash: [2],\n                  borderDashOffset: [2],\n                  color: 'rgba(33, 37, 41, 0.3)',\n                  zeroLineColor: 'rgba(0, 0, 0, 0)',\n                  zeroLineBorderDash: [2],\n                  zeroLineBorderDashOffset: [2]\n                }\n              }\n            ],\n            yAxes: [\n              {\n                ticks: {\n                  fontColor: 'rgba(255,255,255,.7)'\n                },\n                display: true,\n                scaleLabel: {\n                  display: false,\n                  labelString: 'Value',\n                  fontColor: 'white'\n                },\n                gridLines: {\n                  borderDash: [3],\n                  borderDashOffset: [3],\n                  drawBorder: false,\n                  color: 'rgba(255, 255, 255, 0.15)',\n                  zeroLineColor: 'rgba(33, 37, 41, 0)',\n                  zeroLineBorderDash: [2],\n                  zeroLineBorderDashOffset: [2]\n                }\n              }\n            ]\n          }\n        }\n      };\n      let ctx: any = document.getElementById('line-chart') as HTMLCanvasElement;\n      ctx = ctx.getContext('2d');\n      new Chart(ctx, config);\n    });\n  }\n\n  ngAfterViewInit() {\n\n  }\n\n  getLastSevenDays() {\n    let dayIndex = 0;\n    while (dayIndex < 7) {\n      this.lastSevenDays.push(moment().subtract(dayIndex, 'days').format('DD MMM'));\n      dayIndex++;\n    }\n\n    console.log(this.lastSevenDays.reverse());\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n\n\n  }\n}\n","<div class=\"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded bg-gray-900\">\n  <div class=\"rounded-t mb-0 px-4 py-3 bg-transparent\">\n    <div class=\"flex flex-wrap items-center\">\n      <div class=\"relative w-full max-w-full flex-grow flex-1\">\n\n        <h2 class=\"text-white text-xl font-semibold\">\n          Thống kê bài kiểm tra\n        </h2>\n        <h5 class=\"text-white text-md\">\n          7 ngày gần nhất\n        </h5>\n      </div>\n    </div>\n  </div>\n  <div class=\"p-4 flex-auto\">\n\n    <!-- Chart -->\n    <div class=\"relative\" style=\"height:350px\">\n      <canvas id=\"line-chart\"></canvas>\n    </div>\n  </div>\n</div>\n","import {Component, EventEmitter, OnInit, Output} from '@angular/core';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {CourseService} from '../../../_services/course.service';\r\nimport {Course} from '../../../models/course';\r\nimport {switchMap} from 'rxjs/operators';\r\nimport {ToastrService} from 'ngx-toastr';\r\nimport {PageResult} from '../../../models/page-result';\r\nimport {UploadFileService} from '../../../_services/upload-file.service';\r\nimport {Intake} from '../../../models/intake'; // đã có rồi\r\nimport {IntakeService} from '../../../_services/intake.service'; // cần tạo file này\r\n@Component({\r\n  selector: 'app-course-create',\r\n  templateUrl: './course-create.component.html',\r\n  styleUrls: ['./course-create.component.scss']\r\n})\r\nexport class CourseCreateComponent implements OnInit {\r\n\r\n  showModal = false;\r\n  rfCreateCourse: FormGroup;\r\n  @Output() outputCourse = new EventEmitter<PageResult<Course>>();\r\n  // selectedFiles: FileList;\r\n  // currentFileUpload: File;\r\n  intakeList: Intake[] = [];\r\n  selectedIntakeId: number;\r\n  constructor(private fb: FormBuilder,\r\n              private courseService: CourseService,\r\n              private toast: ToastrService,\r\n              private uploadFileService: UploadFileService,\r\n              private intakeService: IntakeService) {\r\n  }\r\n\r\n  get courseCode() {\r\n    return this.rfCreateCourse.get('courseCode');\r\n  }\r\n\r\n  get courseName() {\r\n    return this.rfCreateCourse.get('courseName');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.rfCreateCourse = this.fb.group({\r\n      courseCode: ['', {\r\n        validators: [Validators.required],\r\n        asyncValidators: [this.courseService.validateCourseCode()],\r\n        updateOn: 'blur'\r\n      }],\r\n      courseName: ['', Validators.required],\r\n      intakeId: ['', Validators.required]\r\n    });\r\n    this.intakeService.getIntakeList().subscribe(data => this.intakeList = data);\r\n  }\r\n  \r\n\r\n  toggleModalAdd() {\r\n    this.showModal = !this.showModal;\r\n    this.rfCreateCourse.reset();\r\n  }\r\n\r\n  onSubmit() {\r\n    const intakeId = this.rfCreateCourse.get('intakeId').value;\r\n    const course: Course = new Course(this.courseCode.value, this.courseName.value);\r\n    this.courseService.createCourse(course).pipe(switchMap(res => {\r\n      const courseId = res?.data?.id;\r\n      return this.intakeService.linkCourseToIntake(courseId, intakeId);\r\n    })).pipe(switchMap(() => this.courseService.getCourseListByPage()))\r\n      .subscribe(res => {\r\n        this.closeModal();\r\n        this.toast.success('Môn học mới đã được tạo', 'Thành công');\r\n        this.outputCourse.emit(res);\r\n      }, error => {\r\n        this.toast.error('Đã có vấn đề xảy ra', 'Lỗi');\r\n      });\r\n    \r\n  }\r\n  \r\n\r\n  closeModal() {\r\n    this.showModal = false;\r\n  }\r\n\r\n}\r\n","<button\r\n  class=\"bg-white shadow-md hover:bg-blue-500 hover:text-white transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-2 rounded outline-none focus:outline-none mx-1 mb-1\"\r\n  type=\"button\" (click)=\"toggleModalAdd()\"><span><i class=\"fa fa-book mr-1\"></i>Thêm môn học</span>\r\n</button>\r\n\r\n<form novalidate (ngSubmit)=\"onSubmit()\" [formGroup]=\"rfCreateCourse\">\r\n  <div *ngIf=\"showModal\" class=\"fixed inset-0 overflow-auto z-50 outline-none focus:outline-none justify-center flex\">\r\n\r\n    <div class=\"relative w-4/5 my-5 mx-auto max-w-2xl\" style=\"margin-top: 2.5rem\">\r\n      <!--content-->\r\n      <div\r\n        class=\"border-0 rounded-lg shadow-lg relative flex flex-col w-full overflow-y-auto my-5 bg-white outline-none focus:outline-none\"\r\n        style=\"max-height: 90%\">\r\n        <!--header-->\r\n        <div class=\"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t\">\r\n          <h3 class=\"text-2xl font-semibold\">Tạo môn học mới</h3>\r\n          <button\r\n            class=\"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none\"\r\n            (click)=\"closeModal()\">\r\n            <span\r\n              class=\"bg-transparent text-gray-700 opacity-5 h-3 w-3 text-base block outline-none focus:outline-none\">\r\n              <i class=\"fa fa-close\"></i>\r\n            </span>\r\n          </button>\r\n        </div>\r\n        <!--body-->\r\n        <div class=\"relative\">\r\n          <div\r\n            class=\"my-4 px-8 text-gray-600 text-base leading-relaxed text-left flex-row flex flex-wrap justify-center lg:justify-start items-center\">\r\n            <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n              <div class=\"md:w-full px-3\">\r\n                <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\" for=\"course-code\">\r\n                  Mã môn học\r\n                </label>\r\n                <input\r\n                  class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-blue-500\"\r\n                  id=\"course-code\" type=\"text\" autocomplete=\"off\" formControlName=\"courseCode\"\r\n                  placeholder=\"Nhập mã môn học\">\r\n                <p class=\"text-red-500 text-xs italic\"\r\n                  *ngIf=\"courseCode?.hasError('required') && (courseCode?.dirty || courseCode?.touched)\">Mã môn học\r\n                  không được bỏ trống</p>\r\n\r\n                <p class=\"text-red-500 text-xs italic\"\r\n                  *ngIf=\"courseCode?.hasError('codeExists') && (courseCode?.dirty || courseCode.touched)\">\r\n                  Mã môn học bị trùng</p>\r\n              </div>\r\n\r\n            </div>\r\n\r\n            <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n              <div class=\"md:w-full px-3\">\r\n                <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\" for=\"course-name\">\r\n                  Tên môn học\r\n                </label>\r\n                <input\r\n                  class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-blue-500\"\r\n                  id=\"course-name\" type=\"text\" placeholder=\"Nhập tên môn học\" autocomplete=\"off\"\r\n                  formControlName=\"courseName\" required>\r\n                <p class=\"text-red-500 text-xs italic\"\r\n                  *ngIf=\"courseName?.hasError('required') && (courseName?.dirty || courseName?.touched)\">Tên môn học\r\n                  không được bỏ trống</p>\r\n\r\n\r\n              </div>\r\n            </div>\r\n            <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n              <div class=\"md:w-full px-3\">\r\n                <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\">\r\n                  Chọn khoá thực tập (Intake)\r\n                </label>\r\n                <select formControlName=\"intakeId\"\r\n                  class=\"block appearance-none w-full bg-gray-200 py-2 px-3 my-1 mt-3 pr-4 rounded shadow leading-tight focus:outline-none\">\r\n                  <option [ngValue]=\"null\">-- Chọn khóa --</option>\r\n                  <option *ngFor=\"let intake of intakeList\" [value]=\"intake.id\">{{ intake.name }}</option>\r\n                </select>\r\n                <p class=\"text-red-500 text-xs italic\"\r\n                  *ngIf=\"!rfCreateCourse.get('intakeId').value && rfCreateCourse.get('intakeId').touched\">\r\n                  Vui lòng chọn khoá thực tập\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!--footer-->\r\n        <div class=\"flex items-center justify-end p-6 border-t border-solid border-gray-300 rounded-b\">\r\n          <button\r\n            class=\"bg-white shadow-md hover:bg-blue-500 hover:text-blue-200 transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1\"\r\n            type=\"submit\" [disabled]=\"!rfCreateCourse.valid\" *ngIf=\"rfCreateCourse.valid\"><span><i\r\n                class=\"fa fa-refresh mr-1\"></i>Cập nhật</span>\r\n          </button>\r\n          <button\r\n            class=\"shadow-md bg-gray-600 text-gray-100 hover:bg-gray-700 hover:text-gray-200 transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1\"\r\n            type=\"button\" (click)=\"closeModal()\"><span><i class=\"fa fa-window-close mr-1\"></i>Đóng</span>\r\n          </button>\r\n\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n  </div>\r\n</form>\r\n<div *ngIf=\"showModal\" class=\"fixed inset-0 z-40 bg-smoke-light\"></div>","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {Course} from '../../../models/course';\nimport {PageResult} from '../../../models/page-result';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {CourseService} from '../../../_services/course.service';\nimport {ToastrService} from 'ngx-toastr';\nimport {Intake} from '../../../models/intake';\nimport {IntakeService} from '../../../_services/intake.service';\nimport {switchMap} from 'rxjs/operators';\n\n@Component({\n  selector: 'app-course-update',\n  templateUrl: './course-update.component.html',\n  styleUrls: ['./course-update.component.scss']\n})\nexport class CourseUpdateComponent implements OnInit {\n\n  @Input() courseInfo: Course;\n  @Output() courseOutput = new EventEmitter<PageResult<Course>>();\n  showModalUpdate = false;\n  rfUpdateCourse: FormGroup;\n  showLoading = false;\n  pageResult: PageResult<Course>;\n  course: Course;\n  toggle = false;\n  intakeList: Intake[] = [];\n\n  constructor(private fb: FormBuilder,\n              private courseService: CourseService,\n              private intakeService: IntakeService,\n              private toast: ToastrService) {\n  }\n\n  get courseCode() {\n    return this.rfUpdateCourse.get('courseCode');\n  }\n\n  get courseName() {\n    return this.rfUpdateCourse.get('courseName');\n  }\n\n  ngOnInit(): void {\n    this.course = Object.assign({}, this.courseInfo);\n    this.intakeService.getIntakeList().subscribe(data => {\n      this.intakeList = data;\n      const intakeId = this.course?.intakes?.[0]?.id || null;\n      this.initForm(intakeId);\n    });\n  }\n\n  initForm(intakeId: number | null = null) {\n    this.rfUpdateCourse = this.fb.group({\n      courseCode: [this.course.courseCode, {\n        validators: [Validators.required],\n        asyncValidators: [this.courseService.validateCourseCode(this.course.id)],\n        updateOn: 'blur'\n      }],\n      courseName: [this.course.name, Validators.required],\n      intakeId: [intakeId, Validators.required]\n    });\n  }\n\n  toggleModalUpdate() {\n    this.course = Object.assign({}, this.courseInfo);\n    const intakeId = this.course?.intakes?.[0]?.id || null;\n    this.initForm(intakeId);\n    this.showModalUpdate = !this.showModalUpdate;\n  }\n\n  onSubmit() {\n    this.showLoading = true;\n    const course: Course = new Course(this.courseCode.value, this.courseName.value);\n    const intakeId = this.rfUpdateCourse.get('intakeId')?.value;\n\n    this.courseService.updateCourse(this.course.id, course).pipe(\n      switchMap(() => {\n        return this.intakeService.linkCourseToIntake(this.course.id, intakeId);\n      }),\n      switchMap(() => this.courseService.getCourseListByPage())\n    ).subscribe(pageResult => {\n      this.showLoading = false;\n      this.closeModal();\n      this.courseOutput.emit(pageResult);\n      this.toggle = false;\n      this.toast.success('Môn học đã được cập nhật', 'Thành công');\n    }, err => {\n      this.showLoading = false;\n      this.toast.error('Có lỗi xảy ra', 'Lỗi');\n    });\n  }\n\n  closeModal() {\n    this.showModalUpdate = false;\n    this.toggle = false;\n  }\n}\n","<button\n  class=\"bg-white shadow-md hover:bg-blue-500 hover:text-gray-200 transition duration-200 ease-in-out text-xs font-bold uppercase rounded outline-none focus:outline-none px-2 py-1\"\n  type=\"button\"\n  (click)=\"toggleModalUpdate()\"><span><i class=\"fa fa-edit\"></i></span>\n</button>\n\n<form novalidate (ngSubmit)=\"onSubmit()\" [formGroup]=\"rfUpdateCourse\" *ngIf=\"course\">\n  <div *ngIf=\"showModalUpdate\"\n       class=\"fixed inset-0 overflow-auto z-50 outline-none focus:outline-none justify-center flex\">\n\n    <div class=\"relative w-4/5 my-5 mx-auto max-w-2xl\" style=\"margin-top: 2.5rem\">\n      <!--content-->\n      <div\n        class=\"border-0 rounded-lg shadow-lg relative flex flex-col w-full overflow-y-auto my-5 bg-white outline-none focus:outline-none\"\n        style=\"max-height: 90%\">\n        <!--header-->\n        <div class=\"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t\">\n          <h3 class=\"text-2xl font-semibold\">Cập nhật thông tin môn học</h3>\n          <button\n            class=\"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none\"\n            (click)=\"closeModal()\">\n              <span\n                class=\"bg-transparent text-gray-700 opacity-5 h-3 w-3 text-base block outline-none focus:outline-none\">\n              <i class=\"fa fa-close\"></i>\n              </span>\n          </button>\n        </div>\n        <!--body-->\n        <div class=\"relative\">\n          <div\n            class=\"my-4 px-8 text-gray-600 text-base leading-relaxed text-left flex-row flex flex-wrap justify-center lg:justify-start items-center\">\n            <div class=\"-mx-3 md:flex mb-2 w-full\">\n              <div class=\"md:w-full px-3\">\n                <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\"\n                       for=\"course-code\">\n                  Mã môn học\n                </label>\n                <input\n                  class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-blue-500\"\n                  id=\"course-code\"\n                  type=\"text\"\n                  autocomplete=\"off\"\n                  formControlName=\"courseCode\"\n                  placeholder=\"Nhập mã môn học\"\n                  (input)=\"toggle=true\"\n                >\n                <p class=\"text-red-500 text-xs italic\"\n                   *ngIf=\"courseCode?.hasError('required') && (courseCode?.dirty || courseCode?.touched)\"\n                >Mã môn học không được bỏ trống</p>\n\n                <p class=\"text-red-500 text-xs italic\"\n                   *ngIf=\"courseCode?.hasError('codeExists') && (courseCode?.dirty || courseCode.touched)\">\n                  Mã môn học bị trùng</p>\n              </div>\n            </div>\n\n            <div class=\"-mx-3 md:flex mb-2 w-full\">\n              <div class=\"md:w-full px-3\">\n                <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\"\n                       for=\"course-name\">\n                  Tên môn học\n                </label>\n                <input\n                  class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-blue-500\"\n                  id=\"course-name\"\n                  type=\"text\"\n                  placeholder=\"Nhập tên môn học\"\n                  autocomplete=\"off\"\n                  formControlName=\"courseName\"\n                  required\n                  (input)=\"toggle=true\"\n                >\n                <p class=\"text-red-500 text-xs italic\"\n                   *ngIf=\"courseName?.hasError('required') && (courseName?.dirty || courseName?.touched)\"\n                >Tên môn học không được bỏ trống</p>\n              </div>\n            </div>\n\n            <div class=\"-mx-3 md:flex mb-2 w-full\">\n              <div class=\"md:w-full px-3\">\n                <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\">\n                  Khóa thực tập\n                </label>\n                <select formControlName=\"intakeId\"\n                        class=\"block appearance-none w-full bg-gray-200 py-2 px-3 my-1 mt-3 pr-4 rounded shadow leading-tight focus:outline-none\">\n                  <option [ngValue]=\"null\">-- Chọn khóa --</option>\n                  <option *ngFor=\"let intake of intakeList\" [value]=\"intake.id\">{{ intake.name }}</option>\n                </select>\n              </div>\n            </div>\n\n          </div>\n        </div>\n        <!--footer-->\n        <div class=\"flex items-center justify-end p-6 border-t border-solid border-gray-300 rounded-b\">\n          <button\n            class=\"bg-white shadow-md hover:bg-blue-500 hover:text-blue-200 transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1\"\n            type=\"submit\"\n            [disabled]=\"!rfUpdateCourse.valid\"\n            *ngIf=\"rfUpdateCourse.valid && toggle == true\"\n          ><span><i class=\"fa fa-refresh mr-1\" [ngClass]=\"{'fa-spin': showLoading}\"></i>Cập nhật</span>\n          </button>\n\n          <button\n            class=\"shadow-md bg-gray-600 text-gray-100 hover:bg-gray-700 hover:text-gray-200 transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1\"\n            type=\"button\"\n            (click)=\"closeModal()\"><span><i class=\"fa fa-window-close mr-1\"></i>Đóng</span>\n          </button>\n\n        </div>\n      </div>\n    </div>\n\n  </div>\n</form>\n<div *ngIf=\"showModalUpdate\" class=\"fixed inset-0 z-40 bg-smoke-light\"></div>\n","import {Component, OnInit} from '@angular/core';\r\nimport {CourseService} from '../../_services/course.service';\r\nimport {environment} from '../../../environments/environment';\r\nimport {Course} from '../../models/course';\r\nimport {PaginationDetail} from '../../models/pagination/pagination-detail';\r\nimport {PageResult} from '../../models/page-result';\r\nimport {delay} from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-manage-course',\r\n  templateUrl: './manage-course.component.html',\r\n  styleUrls: ['./manage-course.component.scss']\r\n})\r\nexport class ManageCourseComponent implements OnInit {\r\n\r\n  courseList: Course[] = [];\r\n  paginationDetail: PaginationDetail;\r\n  skeleton = true;\r\n\r\n  constructor(private courseService: CourseService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.fetchCourseListByPage();\r\n\r\n  }\r\n\r\n  fetchCourseListByPage() {\r\n    this.courseService.getCourseListByPage(environment.pageMeta.pageNumber, environment.pageMeta.pageSize).subscribe(res => {\r\n      this.courseList = res.data;\r\n      this.paginationDetail = res.paginationDetails;\r\n      this.skeleton = false;\r\n    });\r\n  }\r\n\r\n  trackById(index: number, item: any) {\r\n    return item.id === index;\r\n  }\r\n\r\n  fetchCourseAfterCRUD(page: PageResult<Course>) {\r\n    this.courseList = page.data;\r\n    this.paginationDetail = page.paginationDetails;\r\n  }\r\n  selectMode = false;\r\n  selectedCourseIds: number[] = [];\r\n  selectAllChecked = false;\r\n  \r\n  toggleSelectMode() {\r\n    this.selectMode = !this.selectMode;\r\n    if (!this.selectMode) {\r\n      this.selectedCourseIds = [];\r\n      this.selectAllChecked = false;\r\n    }\r\n  }\r\n  \r\n  onToggleCourseSelect(id: number, checked: boolean) {\r\n    if (checked) {\r\n      this.selectedCourseIds.push(id);\r\n    } else {\r\n      this.selectedCourseIds = this.selectedCourseIds.filter(i => i !== id);\r\n    }\r\n    this.selectAllChecked = this.selectedCourseIds.length === this.courseList.length;\r\n  }\r\n  \r\n  onToggleSelectAll(checked: boolean) {\r\n    this.selectAllChecked = checked;\r\n    if (checked) {\r\n      this.selectedCourseIds = this.courseList.map(c => c.id);\r\n    } else {\r\n      this.selectedCourseIds = [];\r\n    }\r\n  }\r\n  \r\n  onDeleteSelectedCourses() {\r\n    if (this.selectedCourseIds.length === 0) return;\r\n    if (confirm(`Bạn chắc chắn muốn xóa ${this.selectedCourseIds.length} môn học đã chọn? Hành động này không thể hoàn tác!`)) {\r\n      this.courseService.deleteManyCourses(this.selectedCourseIds).subscribe(\r\n        res => {\r\n          this.fetchCourseListByPage();\r\n          this.toggleSelectMode();\r\n        },\r\n        err => {\r\n          alert('Xóa thất bại!');\r\n        }\r\n      );\r\n    }\r\n  }\r\n  \r\n}\r\n","<div class=\"bg-blue-600 md:pt-32 pb-32 pt-12\">\r\n  <div class=\"px-4 md:px-10 mx-auto w-full\">\r\n  </div>\r\n</div>\r\n<div class=\" mx-auto w-full -m-24\">\r\n\r\n  <div class=\"flex flex-wrap mt-4 justify-center\">\r\n    <div class=\"w-full mb-12 xl:mb-0 px-4 max-w-5xl\">\r\n      <div class=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\r\n        <div class=\"rounded-t mb-0 px-4 py-3 border-0\">\r\n          <div class=\"flex flex-wrap items-center\">\r\n            <div class=\"relative w-full px-4 max-w-full flex-grow leading-8 mb-3\">\r\n              <h3 class=\"font-semibold text-2xl text-gray-800\">\r\n                Danh sách môn học\r\n              </h3>\r\n            </div>\r\n            <div class=\"flex flex-wrap flex-col w-full\">\r\n              <div class=\"flex flex-wrap flex-row items-center\"> <!-- Thêm items-center để căn giữa theo trục dọc -->\r\n                <!-- Nút Thêm môn học -->\r\n                <div class=\"mr-2\"> <!-- Thêm margin phải để cách nút xoá -->\r\n                  <app-course-create (outputCourse)=\"fetchCourseAfterCRUD($event)\"></app-course-create>\r\n                </div>\r\n                <!-- Nút Xóa môn học -->\r\n                <button\r\n                  class=\"bg-white shadow-md hover:bg-red-700 hover:text-white transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-2 rounded outline-none focus:outline-none mx-1 mb-1\"\r\n                  (click)=\"toggleSelectMode()\" *ngIf=\"!selectMode\">\r\n                  <i class=\"fa fa-trash mr-1\"></i> Xóa môn học\r\n                </button>\r\n                <!-- Các nút khi ở chế độ select -->\r\n                <div *ngIf=\"selectMode\" class=\"flex gap-2 ml-2\">\r\n                  <button\r\n                    class=\"bg-red-600 shadow-md hover:bg-red-700 text-white transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mx-1 mb-1\"\r\n                    (click)=\"onDeleteSelectedCourses()\" [disabled]=\"selectedCourseIds.length === 0\">\r\n                    <i class=\"fa fa-trash mr-1\"></i> Xóa ({{ selectedCourseIds.length }}) môn học\r\n                  </button>\r\n\r\n                  <button\r\n                    class=\"bg-smoke-light shadow-md hover:bg-smoke-light hover:text-white transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mx-1 mb-1\"\r\n                    (click)=\"toggleSelectMode()\">\r\n                    <i class=\"fa fa-times mr-1\"></i> Hủy chọn\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n        <div class=\"block w-full\">\r\n          <!-- Projects table -->\r\n          <table\r\n            class=\"items-center w-full bg-transparent border-collapse whitespace-no-wrap user-list block lg:table overflow-x-auto overflow-y-auto\">\r\n            <thead>\r\n              <tr>\r\n                <!-- Checkbox header -->\r\n                <th *ngIf=\"selectMode\" class=\"px-4 py-3 bg-gray-100 text-center align-middle w-16\">\r\n                  <input type=\"checkbox\" [(ngModel)]=\"selectAllChecked\" class=\"h-4 w-4\"\r\n                    (change)=\"onToggleSelectAll($event.target.checked)\">\r\n                  <span\r\n                    class=\"row-checkbox px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\r\n                    Chọn tất cả\r\n                  </span>\r\n                </th>\r\n                <th\r\n                  class=\"row-checkbox px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\r\n                  Id\r\n                </th>\r\n                <th\r\n                  class=\"row-username px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\r\n                  Mã môn học\r\n                </th>\r\n\r\n                <th\r\n                  class=\"row-name px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\r\n                  Tên môn\r\n                </th>\r\n                <th\r\n                  class=\"row-intake px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\r\n                  Khóa thực tập\r\n                </th>\r\n                <th\r\n                  class=\"row-action px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\r\n                  Chức năng\r\n                </th>\r\n\r\n                <!-- các th khác -->\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              <ng-container *ngFor=\"let course of courseList; trackBy: trackById; let i=index\">\r\n                <tr class=\"border hover:bg-gray-300 align-middle\">\r\n                  <!-- Checkbox từng dòng -->\r\n                  <td *ngIf=\"selectMode\" class=\"px-4 py-3 text-center align-middle w-16\">\r\n                    <input type=\"checkbox\" [checked]=\"selectedCourseIds.includes(course.id)\" class=\"h-4 w-4\"\r\n                      (change)=\"onToggleCourseSelect(course.id, $event.target.checked)\">\r\n                  </td>\r\n                  <td\r\n                    class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-md text-gray-500 whitespace-no-wrap p-4\">\r\n                    {{i + 1}}\r\n                  </td>\r\n                  <th\r\n                    class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-sm font-semibold whitespace-no-wrap p-4 text-left\">\r\n                    <a class=\"hover:text-blue-700 hover:bg-blue-300 px-2 py-1 bg-blue-200 text-blue-600 rounded\"\r\n                      [routerLink]=\"[course.id,'parts']\" tooltip=\"Xem nội dung\" placement=\"right\" show-delay=\"100\"\r\n                      hide-delay=\"100\">{{course.courseCode}}</a>\r\n                  </th>\r\n\r\n                  <td class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\r\n                    <a class=\"hover:text-green-700 hover:bg-green-300 px-2 py-1 bg-green-200 text-green-600 rounded\"\r\n                      [routerLink]=\"[course.id,'parts']\" tooltip=\"Xem nội dung\" placement=\"right\" show-delay=\"100\"\r\n                      hide-delay=\"100\">{{course.name}}</a>\r\n                  </td>\r\n                  <td class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\r\n                    {{ course.intakes.length === 0 ? 'Chưa có khóa thực tập' : course.intakes[0].name }}\r\n                  </td>\r\n                  <td class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\r\n                    <app-course-update [courseInfo]=\"course\"\r\n                      (courseOutput)=\"fetchCourseAfterCRUD($event)\"></app-course-update>\r\n                  </td>\r\n                  <!-- <td *ngIf=\"selectMode\" class=\"px-2 ...\">\r\n                    <input type=\"checkbox\" [checked]=\"selectedCourseIds.includes(course.id)\"\r\n                      (change)=\"onToggleCourseSelect(course.id, $event.target.checked)\">\r\n                  </td> -->\r\n                </tr>\r\n              </ng-container>\r\n\r\n\r\n            </tbody>\r\n\r\n\r\n          </table>\r\n        </div>\r\n        <ng-container *ngIf=\"skeleton\">\r\n          <app-table-skeleton [type]=\"'course'\"></app-table-skeleton>\r\n          <app-table-skeleton [type]=\"'course'\"></app-table-skeleton>\r\n          <app-table-skeleton [type]=\"'course'\"></app-table-skeleton>\r\n        </ng-container>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <app-admin-footer></app-admin-footer>\r\n</div>","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {Course} from '../../../models/course';\nimport {CourseService} from '../../../_services/course.service';\nimport {PartService} from '../../../_services/part.service';\nimport {Part} from '../../../models/part';\nimport {QuestionService} from '../../../_services/question.service';\nimport {Question} from '../../../models/question';\nimport {PaginationDetail} from '../../../models/pagination/pagination-detail';\n\n@Component({\n  selector: 'app-list-question',\n  templateUrl: './list-question.component.html',\n  styleUrls: ['./list-question.component.scss']\n})\nexport class ListQuestionComponent implements OnInit {\n\n  courseId: number;\n  partId: number;\n  currentCourse: Course;\n  currentPart: Part;\n  questionList: Question[] = [];\n  paginationDetail: PaginationDetail;\n\n  constructor(\n    private route: ActivatedRoute,\n    private courseService: CourseService,\n    private partService: PartService,\n    private questionService: QuestionService,\n    private router: Router) {\n  }\n\n  ngOnInit(): void {\n    this.courseId = Number(this.route.snapshot.paramMap.get('courseId'));\n    this.fetchQuestionList();\n    this.courseService.getCourseById(this.courseId).subscribe(data => {\n      this.currentCourse = data;\n    });\n  }\n\n  trackById(index: number, item: any) {\n    return item.id === index;\n  }\n\n  fetchQuestionList() {\n    this.partId = Number(this.route.snapshot.paramMap.get('partId'));\n    this.partService.getPartById(this.partId).subscribe(data => {\n      this.currentPart = data;\n    });\n    this.questionService.getQuestionListByPart(0, 20, this.partId).subscribe(res => {\n      this.questionList = res.data;\n      this.paginationDetail = res.paginationDetails;\n    });\n  }\n\n  goDetail(id: any) {\n    this.router.navigate(['./admin/question-bank/question', id]);\n  }\n}\n","<div class=\"bg-blue-600 md:pt-32 pb-32 pt-12\">\n  <div class=\"px-4 md:px-10 mx-auto w-full\">\n    <a [routerLink]=\"['../../']\" class=\"text-white cursor-pointer hover:underline\"><i class=\"fa fa-long-arrow-left\"></i><span\n      class=\"mx-2\">Quay lại</span></a>\n  </div>\n</div>\n<div class=\" mx-auto w-full -m-24\">\n\n  <div class=\"flex flex-wrap mt-4 justify-center\">\n    <div class=\"w-full mb-12 xl:mb-0 px-4 max-w-5xl\">\n      <div class=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\n        <div class=\"rounded-t mb-0 px-4 py-3 border-0\">\n          <div class=\"flex flex-wrap items-center\">\n            <div class=\"relative w-full px-4 max-w-full flex-grow leading-8 mb-3\">\n              <h3 class=\"font-semibold text-2xl text-gray-800\">\n\n                <span class=\"cursor-pointer hover:text-blue-500\" tooltip=\"{{currentCourse?.name}}\" placement=\"top\"\n                      show-delay=\"100\" hide-delay=\"100\">({{currentCourse?.courseCode}})</span> - [{{currentPart?.name}}]\n              </h3>\n              <br>\n              <h3 class=\"font-semibold text-xl text-gray-700\">Danh sách câu hỏi</h3>\n            </div>\n            <div class=\"flex flex-wrap flex-col w-full\">\n              <div class=\"flex flex-wrap flex-row\">\n\n                <div class=\"relative w-full px-4 max-w-full flex-flow flex-basis\">\n\n                  <span class=\"mx-3 text-gray-600 text-sm\">Hiển thị tối đa</span>\n                  <div class=\"inline-block relative max-w-xs w-20 mr-2\">\n                    <!--                    <select-->\n                    <!--                      class=\"block appearance-none w-full bg-white px-3 py-1 pr-4 rounded shadow leading-tight focus:outline-none text-sm\"-->\n                    <!--                      (change)=\"changePageShow($event.target.value)\"-->\n                    <!--                    >-->\n                    <!--                      <option *ngFor=\"let item of pageOptions\" [value]=\"item.num\"-->\n                    <!--                              [selected]=\"item.num == 20\">{{item.display}}</option>-->\n\n                    <!--                    </select>-->\n                    <div class=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\n                      <svg class=\"fill-current h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n                        <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"/>\n                      </svg>\n                    </div>\n                  </div>\n                  <!--                  <button-->\n                  <!--                    class=\"bg-white shadow-md hover:bg-green-500 hover:text-green-200 transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 md:mb-0 rounded outline-none focus:outline-none mx-1 mb-1\"-->\n                  <!--                    type=\"button\"-->\n                  <!--                    (click)=\"exportUserToExcel()\">-->\n                  <!--                    <span><i class=\"fa fa-file-excel-o mx-1\"></i>Export file</span>-->\n                  <!--                  </button>-->\n                  <!--                  <ng-container *ngIf=\"checkedAll\">-->\n                  <!--                    <app-delete-list-user></app-delete-list-user>-->\n                  <!--                  </ng-container>-->\n                  <!--                                    <app-add-user (courseOutput)=\"fetchUsersAfterCRUD($event)\"></app-add-user>-->\n                  <!--                  <app-course-create (outputCourse)=\"fetchCourseAfterCRUD($event)\"></app-course-create>-->\n\n                </div>\n              </div>\n              <!--              <form (ngSubmit)=\"searchUser(searchKeyWord)\">-->\n              <!--                <div class=\"p-2 flex justify-end\">-->\n              <!--                  <div class=\"bg-white flex items-center rounded-full shadow-md w-1/3\">-->\n\n              <!--                    <input [(ngModel)]=\"searchKeyWord\" name=\"search-input\" class=\"rounded-l-full w-full py-2 px-6 text-gray-700 leading-tight focus:outline-none\"-->\n              <!--                           id=\"search\" type=\"text\" placeholder=\"Nhập username hoặc email\" autocomplete=\"off\">-->\n\n              <!--                    <div class=\"p-1\">-->\n              <!--                      <button class=\"focus:outline-none flex items-center\" type=\"submit\">-->\n              <!--                        <i class=\"fa fa-search bg-blue-500 text-white rounded-full p-1 pt-2 truncate hover:bg-blue-400 focus:outline-none w-8 h-8 flex items-center justify-center\">-->\n              <!--                        </i>-->\n              <!--                      </button>-->\n\n              <!--                    </div>-->\n              <!--                  </div>-->\n              <!--                </div>-->\n              <!--              </form>-->\n\n            </div>\n\n\n          </div>\n        </div>\n        <div class=\"block w-full\">\n          <!-- Projects table -->\n          <table\n            class=\"items-center table-fixed w-full bg-transparent border-collapse user-list block lg:table overflow-x-auto overflow-y-auto\">\n            <thead>\n            <tr>\n\n              <th\n                class=\"row-question px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 font-semibold text-left\">\n                Câu hỏi\n              </th>\n\n              <th\n                class=\"row-type px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 font-semibold text-left\">\n                Loại câu\n              </th>\n\n            </tr>\n            </thead>\n\n            <tbody>\n            <ng-container *ngFor=\"let ques of questionList; trackBy: trackById\">\n              <tr class=\"border hover:bg-gray-300\">\n\n                <th\n                  class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs  p-4 text-left\"\n\n                >\n                  <div class=\"cursor-pointer\" (click)=\"goDetail(ques.id)\" [innerHTML]=\"ques.questionText\"></div>\n                </th>               \n                <td class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs p-4\">\n                  {{ques.questionType.description}}\n                </td>\n\n              </tr>\n            </ng-container>\n            </tbody>\n\n\n          </table>\n        </div>\n\n\n        <!--        <div *ngIf=\"userList.length!==0\"-->\n        <!--             class=\"px-4 py-3 bg-white border-t flex flex-row justify-between xs:flex-row items-center xs:justify-between\">-->\n        <!--                        <span class=\"text-xs xs:text-sm text-gray-700 px-4\">-->\n        <!--                            Hiển thị {{paginationDetail?.isLastPage ? paginationDetail?.totalCount - paginationDetail.pageCount + 1 : paginationDetail?.pageNumber * paginationDetail?.pageCount + 1}}-->\n        <!--                          đến {{paginationDetail?.isLastPage ? paginationDetail.totalCount : (paginationDetail?.pageNumber + 1) * paginationDetail?.pageCount}}-->\n        <!--                          trong số {{paginationDetail?.totalCount}} kết quả-->\n        <!--                        </span>-->\n        <!--          <div class=\"inline-flex mt-2 px-4 xs:mt-0\">-->\n        <!--            <button-->\n        <!--              class=\"text-sm bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded-l focus:outline-none\"-->\n        <!--              (click)=\"goPreviousPage()\"-->\n        <!--            >-->\n        <!--              <span><i class=\"fa fa-arrow-left\"></i></span><span class=\"hidden md:inline ml-1 \">Trang trước</span>-->\n        <!--            </button>-->\n        <!--            <button-->\n        <!--              class=\"text-sm bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded-r focus:outline-none\"-->\n        <!--              (click)=\"goNextPage()\"-->\n        <!--            >-->\n        <!--              <span class=\"hidden md:inline mr-1\">Trang kế</span><span><i class=\"fa fa-arrow-right\"></i></span>-->\n        <!--            </button>-->\n        <!--          </div>-->\n        <!--        </div>-->\n        <!--        <ng-container *ngIf=\"userList.length==0\">-->\n        <!--          <div class=\"px-4 py-3 bg-white border-t flex flex-row justify-between xs:flex-row items-center xs:justify-between\">-->\n        <!--            <p class=\"mx-auto text-gray-700 text-sm\">Nội dung không có để hiển thị</p>-->\n        <!--          </div>-->\n        <!--        </ng-container>-->\n\n      </div>\n    </div>\n  </div>\n\n  <app-admin-footer></app-admin-footer>\n</div>\n\n","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {PartService} from '../../_services/part.service';\nimport {Part} from '../../models/part';\nimport {CourseService} from '../../_services/course.service';\nimport {Course} from '../../models/course';\nimport {switchMap} from 'rxjs/operators';\n\n@Component({\n  selector: 'app-manage-part',\n  templateUrl: './manage-part.component.html',\n  styleUrls: ['./manage-part.component.scss']\n})\nexport class ManagePartComponent implements OnInit {\n\n  courseId: number;\n  parts: Part[] = [];\n  currentCourse: Course;\n  selectedUpdateId = -1;\n  partName = '';\n\n  constructor(private route: ActivatedRoute, private partService: PartService, private courseService: CourseService) {\n  }\n\n  ngOnInit(): void {\n    this.courseId = Number(this.route.snapshot.paramMap.get('courseId'));\n    this.courseService.getCourseById(this.courseId).subscribe(res => {\n      this.currentCourse = res;\n    });\n    this.partService.getPartListByCourse(this.courseId).subscribe(res => {\n      this.parts = res.data;\n    });\n  }\n\n  trackById(index: number, item: any) {\n    return item.id === index;\n  }\n\n  toggleInput(part: Part) {\n    this.selectedUpdateId = part.id;\n    this.partName = part.name;\n  }\n\n  updatePart(id: number) {\n    this.partService.updatePart(id, this.partName).pipe(switchMap(res => this.partService.getPartListByCourse(this.courseId)))\n      .subscribe(res => {\n        this.parts = res.data;\n        this.selectedUpdateId = -1;\n      });\n  }\n\n  fetchParts(parts: Part[]) {\n    this.parts = parts;\n  }\n}\n","<div class=\"bg-blue-600 md:pt-32 pb-32 pt-12\">\r\n  <div class=\"px-4 md:px-10 mx-auto w-full\">\r\n    <a [routerLink]=\"['/admin/courses']\" class=\"text-white cursor-pointer hover:underline\"><i\r\n        class=\"fa fa-long-arrow-left\"></i><span class=\"mx-2\">Quay về danh sách môn</span></a>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"mx-auto w-full -m-24\">\r\n\r\n  <div class=\"flex flex-wrap mt-4 justify-center\">\r\n    <div class=\"w-full mb-12 xl:mb-0 px-4 max-w-5xl\">\r\n      <div class=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\r\n        <div class=\"rounded-t mb-0 px-4 py-3 border-0\">\r\n          <div class=\"flex flex-wrap items-center bg-blue-200\">\r\n            <div class=\"relative w-full flex justify-between px-4 max-w-full flex-grow leading-8 my-3\">\r\n              <h2 class=\"font-semibold text-xl text-blue-700\">\r\n                [{{currentCourse?.courseCode}}] <b>{{currentCourse?.name}}</b>\r\n              </h2>\r\n              <app-part-create (outputParts)=\"fetchParts($event)\"></app-part-create>\r\n            </div>\r\n            <div class=\"flex flex-wrap flex-col w-full\">\r\n              <div class=\"flex flex-wrap flex-row\">\r\n\r\n                <div class=\"relative w-full px-4 max-w-full flex-flow flex-basis\">\r\n\r\n\r\n                  <!--                  <button-->\r\n                  <!--                    class=\"bg-white shadow-md hover:bg-green-500 hover:text-green-200 transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 md:mb-0 rounded outline-none focus:outline-none mx-1 mb-1\"-->\r\n                  <!--                    type=\"button\"-->\r\n                  <!--                    (click)=\"exportUserToExcel()\">-->\r\n                  <!--                    <span><i class=\"fa fa-file-excel-o mx-1\"></i>Export file</span>-->\r\n                  <!--                  </button>-->\r\n                  <!--                  <ng-container *ngIf=\"checkedAll\">-->\r\n                  <!--                    <app-delete-list-user></app-delete-list-user>-->\r\n                  <!--                  </ng-container>-->\r\n                  <!--                                    <app-add-user (courseOutput)=\"fetchUsersAfterCRUD($event)\"></app-add-user>-->\r\n                  <!--                  <app-course-create (outputCourse)=\"fetchCourseAfterCRUD($event)\"></app-course-create>-->\r\n\r\n                </div>\r\n              </div>\r\n              <!--              <form (ngSubmit)=\"searchUser(searchKeyWord)\">-->\r\n              <!--                <div class=\"p-2 flex justify-end\">-->\r\n              <!--                  <div class=\"bg-white flex items-center rounded-full shadow-md w-1/3\">-->\r\n\r\n              <!--                    <input [(ngModel)]=\"searchKeyWord\" name=\"search-input\" class=\"rounded-l-full w-full py-2 px-6 text-gray-700 leading-tight focus:outline-none\"-->\r\n              <!--                           id=\"search\" type=\"text\" placeholder=\"Nhập username hoặc email\" autocomplete=\"off\">-->\r\n\r\n              <!--                    <div class=\"p-1\">-->\r\n              <!--                      <button class=\"focus:outline-none flex items-center\" type=\"submit\">-->\r\n              <!--                        <i class=\"fa fa-search bg-blue-500 text-white rounded-full p-1 pt-2 truncate hover:bg-blue-400 focus:outline-none w-8 h-8 flex items-center justify-center\">-->\r\n              <!--                        </i>-->\r\n              <!--                      </button>-->\r\n\r\n              <!--                    </div>-->\r\n              <!--                  </div>-->\r\n              <!--                </div>-->\r\n              <!--              </form>-->\r\n\r\n            </div>\r\n\r\n\r\n          </div>\r\n        </div>\r\n        <div class=\"block w-full\">\r\n          <!-- Projects table -->\r\n\r\n          <table\r\n            class=\"items-center w-full bg-transparent border-collapse whitespace-no-wrap user-list block lg:table overflow-x-auto overflow-y-auto\">\r\n            <thead>\r\n              <tr>\r\n\r\n                <th\r\n                  class=\"row-name px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\r\n                  Nội dung\r\n                </th>\r\n\r\n                <th\r\n                  class=\"row-action px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              <ng-container *ngFor=\"let part of parts; trackBy: trackById\">\r\n                <tr class=\"border hover:bg-gray-300 truncate\">\r\n                  <td class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\r\n                    <span [ngClass]=\"part.id === selectedUpdateId ?  'hidden': 'block'\">{{part.name}}</span>\r\n                    <input type=\"text\" value=\"{{part.name}}\" class=\"w-full\" (keyup.enter)=\"updatePart(part.id)\"\r\n                      [(ngModel)]=\"partName\"\r\n                      [ngClass]=\"part.id === selectedUpdateId ?  'block border-b-2 border-blue-500 text-xl px-2 outline-none': 'hidden'\"\r\n                      [autofocus]=\"part.id === selectedUpdateId\">\r\n                  </td>\r\n                  <td\r\n                    class=\"border-t-0 px-6 align-middle flex justify-between border-l-0 border-r-0 text-xs whitespace-no-wrap p-4 w-full\">\r\n\r\n                    <button\r\n                      class=\"bg-white shadow-md hover:bg-blue-500 hover:text-gray-200 transition duration-200 ease-in-out text-xs font-bold uppercase rounded outline-none focus:outline-none px-2 py-1\"\r\n                      type=\"button\" (click)=\"toggleInput(part)\" *ngIf=\"selectedUpdateId!==part.id\"\r\n                      tooltip=\"Thay đổi nội dung\" placement=\"left\" show-delay=\"100\" hide-delay=\"100\"><span><i\r\n                          class=\"fa fa-edit\"></i></span>\r\n                    </button>\r\n\r\n                    <button\r\n                      class=\"bg-white shadow-md hover:bg-blue-500 hover:text-gray-200 transition duration-200 ease-in-out text-xs font-bold uppercase rounded outline-none focus:outline-none px-2 py-1\"\r\n                      type=\"button\" (click)=\"updatePart(part.id)\" *ngIf=\"selectedUpdateId===part.id\" tooltip=\"Lưu\"\r\n                      placement=\"left\" show-delay=\"100\" hide-delay=\"100\"><span><i class=\"fa fa-save\"></i></span>\r\n                    </button>\r\n                    <a [routerLink]=\"[part.id,'view-question']\"\r\n                      class=\"bg-white shadow-md hover:bg-blue-500 hover:text-gray-200 ml-1 transition duration-200 ease-in-out text-xs font-bold uppercase rounded outline-none focus:outline-none px-2 py-1\"><span><i\r\n                          class=\"fa fa-question-circle-o\"></i> DS câu hỏi</span>\r\n                    </a>\r\n                  </td>\r\n\r\n                </tr>\r\n              </ng-container>\r\n            </tbody>\r\n\r\n\r\n          </table>\r\n        </div>\r\n\r\n        <!--        <div *ngIf=\"userList.length!==0\"-->\r\n        <!--             class=\"px-4 py-3 bg-white border-t flex flex-row justify-between xs:flex-row items-center xs:justify-between\">-->\r\n        <!--                        <span class=\"text-xs xs:text-sm text-gray-700 px-4\">-->\r\n        <!--                            Hiển thị {{paginationDetail?.isLastPage ? paginationDetail?.totalCount - paginationDetail.pageCount + 1 : paginationDetail?.pageNumber * paginationDetail?.pageCount + 1}}-->\r\n        <!--                          đến {{paginationDetail?.isLastPage ? paginationDetail.totalCount : (paginationDetail?.pageNumber + 1) * paginationDetail?.pageCount}}-->\r\n        <!--                          trong số {{paginationDetail?.totalCount}} kết quả-->\r\n        <!--                        </span>-->\r\n        <!--          <div class=\"inline-flex mt-2 px-4 xs:mt-0\">-->\r\n        <!--            <button-->\r\n        <!--              class=\"text-sm bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded-l focus:outline-none\"-->\r\n        <!--              (click)=\"goPreviousPage()\"-->\r\n        <!--            >-->\r\n        <!--              <span><i class=\"fa fa-arrow-left\"></i></span><span class=\"hidden md:inline ml-1 \">Trang trước</span>-->\r\n        <!--            </button>-->\r\n        <!--            <button-->\r\n        <!--              class=\"text-sm bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded-r focus:outline-none\"-->\r\n        <!--              (click)=\"goNextPage()\"-->\r\n        <!--            >-->\r\n        <!--              <span class=\"hidden md:inline mr-1\">Trang kế</span><span><i class=\"fa fa-arrow-right\"></i></span>-->\r\n        <!--            </button>-->\r\n        <!--          </div>-->\r\n        <!--        </div>-->\r\n        <!--        <ng-container *ngIf=\"userList.length==0\">-->\r\n        <!--          <div class=\"px-4 py-3 bg-white border-t flex flex-row justify-between xs:flex-row items-center xs:justify-between\">-->\r\n        <!--            <p class=\"mx-auto text-gray-700 text-sm\">Nội dung không có để hiển thị</p>-->\r\n        <!--          </div>-->\r\n        <!--        </ng-container>-->\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <app-admin-footer></app-admin-footer>\r\n</div>","import {Component, EventEmitter, OnInit, Output} from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {PartService} from '../../../_services/part.service';\nimport {ActivatedRoute} from '@angular/router';\nimport {Part} from '../../../models/part';\nimport {ToastrService} from 'ngx-toastr';\nimport {switchMap} from 'rxjs/operators';\n\n@Component({\n  selector: 'app-part-create',\n  templateUrl: './part-create.component.html',\n  styleUrls: ['./part-create.component.scss']\n})\nexport class PartCreateComponent implements OnInit {\n  rfCreatePart: FormGroup;\n  showModal = false;\n  courseId: number;\n  @Output() outputParts = new EventEmitter<Part[]>();\n\n  constructor(private fb: FormBuilder,\n              private partService: PartService,\n              private route: ActivatedRoute,\n              private toast: ToastrService) {\n  }\n\n  get name() {\n    return this.rfCreatePart.get('name');\n  }\n\n  ngOnInit(): void {\n    this.courseId = Number(this.route.snapshot.paramMap.get('courseId'));\n    this.rfCreatePart = this.fb.group({\n      name: ['', Validators.required]\n    });\n  }\n\n  toggleModalAdd() {\n    this.showModal = !this.showModal;\n    this.rfCreatePart.reset();\n  }\n\n  onSubmit() {\n    const part = new Part(this.name.value, null);\n    this.partService.createPartByCourse(this.courseId, part).pipe(switchMap(() => this.partService.getPartsByCourse(this.courseId)))\n      .subscribe(res => {\n        this.closeModal();\n        this.toast.success('Part mới đã được tạo', 'Thành công');\n        this.outputParts.emit(res);\n      });\n\n  }\n\n  closeModal() {\n    this.showModal = false;\n  }\n}\n","<button\r\n  class=\"bg-white shadow-md hover:bg-blue-500 hover:text-white transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mx-1 mb-1\"\r\n  type=\"button\" (click)=\"toggleModalAdd()\"><span><i class=\"fa fa-book mr-1\"></i>Thêm mới</span>\r\n</button>\r\n\r\n<form novalidate (ngSubmit)=\"onSubmit()\" [formGroup]=\"rfCreatePart\">\r\n  <div *ngIf=\"showModal\" class=\"fixed inset-0 overflow-auto z-50 outline-none focus:outline-none justify-center flex\">\r\n\r\n    <div class=\"relative w-4/5 my-5 mx-auto max-w-2xl\" style=\"margin-top: 2.5rem\">\r\n      <!--content-->\r\n      <div\r\n        class=\"border-0 rounded-lg shadow-lg relative flex flex-col w-full overflow-y-auto my-5 bg-white outline-none focus:outline-none\"\r\n        style=\"max-height: 90%\">\r\n        <!--header-->\r\n        <div class=\"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t\">\r\n          <h3 class=\"text-2xl font-semibold\">Tạo part mới</h3>\r\n          <button\r\n            class=\"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none\"\r\n            (click)=\"closeModal()\">\r\n            <span\r\n              class=\"bg-transparent text-gray-700 opacity-5 h-3 w-3 text-base block outline-none focus:outline-none\">\r\n              <i class=\"fa fa-close\"></i>\r\n            </span>\r\n          </button>\r\n        </div>\r\n        <!--body-->\r\n        <div class=\"relative\">\r\n          <div\r\n            class=\"my-4 px-8 text-gray-600 text-base leading-relaxed text-left flex-row flex flex-wrap justify-center lg:justify-start items-center\">\r\n            <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n              <div class=\"md:w-full px-3\">\r\n                <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\" for=\"partName\">\r\n                  Nội dung của part\r\n                </label>\r\n                <input\r\n                  class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-blue-500\"\r\n                  id=\"partName\" type=\"text\" autocomplete=\"off\" formControlName=\"name\" placeholder=\"Nhập nội dung\">\r\n                <p class=\"text-red-500 text-xs italic\"\r\n                  *ngIf=\"name?.hasError('required') && (name?.dirty || name?.touched)\">Nội dung không được bỏ trống</p>\r\n\r\n              </div>\r\n            </div>\r\n\r\n\r\n          </div>\r\n        </div>\r\n        <!--footer-->\r\n        <div class=\"flex items-center justify-end p-6 border-t border-solid border-gray-300 rounded-b\">\r\n          <button\r\n            class=\"bg-white shadow-md hover:bg-blue-500 hover:text-blue-200 transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1\"\r\n            type=\"submit\" [disabled]=\"!rfCreatePart.valid\" *ngIf=\"rfCreatePart.valid\"><span><i\r\n                class=\"fa fa-refresh mr-1\"></i>Cập nhật</span>\r\n          </button>\r\n          <button\r\n            class=\"shadow-md bg-gray-600 text-gray-100 hover:bg-gray-700 hover:text-gray-200 transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1\"\r\n            type=\"button\" (click)=\"closeModal()\"><span><i class=\"fa fa-window-close mr-1\"></i>Đóng</span>\r\n          </button>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</form>\r\n<div *ngIf=\"showModal\" class=\"fixed inset-0 z-40 bg-smoke-light\"></div>","import { Component, EventEmitter, OnInit, Output } from '@angular/core';\r\nimport { PageResult } from '../../../models/page-result';\r\nimport { Question } from '../../../models/question';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { CourseService } from '../../../_services/course.service';\r\nimport { Course } from '../../../models/course';\r\nimport { Part } from '../../../models/part';\r\nimport { PartService } from '../../../_services/part.service';\r\nimport { QuestionTypeService } from '../../../_services/question-type.service';\r\nimport { QuestionType } from '../../../models/question-type';\r\nimport { QTYPE } from '../../../models/question-type.enum';\r\nimport { Choice } from '../../../models/choice';\r\nimport * as BalloonEditor from '@ckeditor/ckeditor5-build-balloon';\r\nimport { QuestionService } from '../../../_services/question.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n@Component({\r\n  selector: 'app-add-question',\r\n  templateUrl: './add-question.component.html',\r\n  styleUrls: ['./add-question.component.scss']\r\n})\r\nexport class AddQuestionComponent implements OnInit {\r\n  @Output() questionsAddOutput = new EventEmitter<PageResult<Question>>();\r\n\r\n  rfAdd: FormGroup;\r\n  editorValue = '';\r\n  showModal = false;\r\n  courseList: Course[] = [];\r\n  partList: Part[] = [];\r\n  questionTypeList: QuestionType[] = [];\r\n  selectedCourseId = -1;\r\n  selectedPartId = -1;\r\n  answerChoicesTF: Choice[] = [];\r\n  currentQuestionType = QTYPE.TF;\r\n  multipleChoice: Choice[] = [];\r\n  questionText = '';\r\n  shortAnswer = '';\r\n  Editor = BalloonEditor;\r\n  editorConfig = {\r\n    placeholder: 'Nhập nội dung!',\r\n  };\r\n  multipleSelect: Choice[] = [];\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private courseService: CourseService,\r\n    private partService: PartService,\r\n    private questionTypeService: QuestionTypeService,\r\n    private questionService: QuestionService,\r\n    private toast: ToastrService) {\r\n  }\r\n\r\n  get course() { return this.rfAdd.get('course'); }\r\n  get questionType() { return this.rfAdd.get('questionType'); }\r\n  get part() { return this.rfAdd.get('part'); }\r\n  get choices() { return this.rfAdd.get('choices'); }\r\n  get point() { return this.rfAdd.get('point'); }\r\n\r\n  ngOnInit(): void {\r\n    this.rfAdd = this.fb.group({\r\n      course: ['-1'],\r\n      questionType: [this.currentQuestionType],\r\n      part: [''],\r\n      choices: ['True'],\r\n      point: [null, [Validators.required, Validators.min(0)]], // Điểm là trường bắt buộc\r\n    });\r\n  }\r\n\r\n  onSubmit() {\r\n    const pointValue = this.point.value;\r\n    if (pointValue === null || isNaN(pointValue) || pointValue < 0) {\r\n      this.toast.error('Điểm không hợp lệ', 'Lỗi');\r\n      return;\r\n    }\r\n    if (!this.questionText || this.questionText.trim() === '') {\r\n      this.toast.error('Bạn phải nhập nội dung câu hỏi!', 'Lỗi');\r\n      return;\r\n    }\r\n\r\n    let questionPayload: any = {\r\n      questionText: this.questionText,\r\n      point: pointValue,\r\n      choices: []\r\n    };\r\n\r\n    switch (this.questionType.value) {\r\n      case QTYPE.TF: {\r\n        // Đúng/Sai: phải truyền đủ 2 đáp án\r\n        questionPayload.choices = [\r\n          new Choice('Đúng', this.choices.value === 'True' ? 1 : 0),\r\n          new Choice('Sai', this.choices.value === 'False' ? 1 : 0),\r\n        ];\r\n        break;\r\n      }\r\n      case QTYPE.MC: {\r\n        // Một đáp án đúng\r\n        if (this.multipleChoice.length < 2) {\r\n          this.toast.error('Phải có ít nhất 2 đáp án!', 'Lỗi');\r\n          return;\r\n        }\r\n        questionPayload.choices = this.multipleChoice.map(c => ({ choiceText: c.choiceText, isCorrected: c.isCorrected }));\r\n        break;\r\n      }\r\n      case QTYPE.MS: {\r\n        // Nhiều đáp án đúng\r\n        if (this.multipleSelect.length < 2) {\r\n          this.toast.error('Phải có ít nhất 2 đáp án!', 'Lỗi');\r\n          return;\r\n        }\r\n        questionPayload.choices = this.multipleSelect.map(c => ({ choiceText: c.choiceText, isCorrected: c.isCorrected }));\r\n        break;\r\n      }\r\n      case QTYPE.SA: { // <<<<< THÊM CASE NÀY\r\n        if (!this.shortAnswer || this.shortAnswer.trim() === '') {\r\n          this.toast.error('Bạn phải nhập đáp án cho câu trả lời ngắn!', 'Lỗi');\r\n          return;\r\n        }\r\n        questionPayload.choices = [\r\n          new Choice(this.shortAnswer, 1) // Đáp án đúng duy nhất\r\n        ];\r\n        break;\r\n      }\r\n      default:\r\n        this.toast.error('Loại câu hỏi không hợp lệ!', 'Lỗi');\r\n        return;\r\n    }\r\n    \r\n\r\n    // Gọi API\r\n    this.questionService.createQuestion(\r\n      questionPayload, \r\n      this.questionType.value, \r\n      this.part.value\r\n    ).subscribe(\r\n      res => {\r\n        this.toast.success('Tạo câu hỏi thành công');\r\n        this.resetFormAfterSubmit();\r\n      },\r\n      error => {\r\n        this.toast.error('Kiểm tra lại thông tin cần tạo', 'Lỗi');\r\n      }\r\n    );\r\n  }\r\n\r\n  toggleModal() {\r\n    this.showModal = !this.showModal;\r\n    this.refreshModal();\r\n    this.courseService.getCourseList().subscribe(res => {\r\n      this.courseList = res;\r\n    });\r\n    this.questionTypeService.getQuestionTypeList().subscribe(res => {\r\n      this.questionTypeList = res;\r\n    });\r\n    this.initChoice();\r\n  }\r\n\r\n  initChoice() {\r\n    this.multipleChoice.length = 0;\r\n    this.multipleSelect.length = 0;\r\n    this.multipleChoice.push(\r\n      new Choice('<p>Đáp án 1</p>', 1),\r\n      new Choice('<p>Đáp án 2</p>', 0)\r\n    );\r\n    this.multipleSelect.push(\r\n      new Choice('<p>Đáp án 1</p>', 1),\r\n      new Choice('<p>Đáp án 2</p>', 0)\r\n    );\r\n  }\r\n\r\n  refreshModal() {\r\n    this.course.setValue(-1);\r\n    this.questionType.setValue(QTYPE.TF);\r\n    this.part.setValue(-1);\r\n    this.rfAdd.get('point').setValue(null);\r\n    this.multipleChoice.length = 0;\r\n    this.multipleSelect.length = 0;\r\n    this.currentQuestionType = QTYPE.TF;\r\n    this.questionText = '';\r\n  }\r\n\r\n  closeModal() {\r\n    this.showModal = false;\r\n  }\r\n\r\n  changeCourse(event) {\r\n    this.selectedCourseId = event.target.value;\r\n    this.partService.getPartsByCourse(this.selectedCourseId).subscribe(res => {\r\n      this.partList = res;\r\n    });\r\n  }\r\n\r\n  changeQuestionType(typeCode: string) {\r\n    this.currentQuestionType = QTYPE[typeCode];\r\n  }\r\n\r\n  changeChoiceTF(value: string) {\r\n    this.rfAdd.get('choices').setValue(value);\r\n  }\r\n\r\n  addMCAnswer() {\r\n    this.multipleChoice.push(new Choice('', 0));\r\n  }\r\n\r\n  changeChoiceMC(i: number) {\r\n    this.multipleChoice.forEach((item, idx) => item.isCorrected = (i === idx ? 1 : 0));\r\n  }\r\n\r\n  removeMCChoice(i: number) {\r\n    if (this.multipleChoice.length <= 2) return;\r\n    this.multipleChoice.splice(i, 1);\r\n  }\r\n\r\n  changeChoiceMS(i: number) {\r\n    this.multipleSelect[i].isCorrected = this.multipleSelect[i].isCorrected ? 0 : 1;\r\n  }\r\n\r\n  removeMSChoice(index: number) {\r\n    if (this.multipleSelect.length <= 2) return;\r\n    this.multipleSelect.splice(index, 1);\r\n  }\r\n\r\n  addMSAnswer() {\r\n    this.multipleSelect.push(new Choice('', 0));\r\n  }\r\n\r\n  resetFormAfterSubmit() {\r\n    this.questionText = '';\r\n    this.multipleSelect.length = 0;\r\n    this.multipleChoice.length = 0;\r\n    this.selectedPartId = -1;\r\n    this.rfAdd.get('point').setValue(null);\r\n    this.initChoice();\r\n  }\r\n}\r\n","<button\r\n  class=\"bg-white shadow-md hover:bg-blue-500 hover:text-white transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-2 rounded outline-none focus:outline-none mx-2 mb-2\"\r\n  (click)=\"toggleModal()\"><span><i class=\"fa fa-plus mr-1\"></i>Thêm câu hỏi</span>\r\n</button>\r\n\r\n<form novalidate (ngSubmit)=\"onSubmit()\" [formGroup]=\"rfAdd\" *ngIf=\"showModal\">\r\n  <div class=\"fixed inset-0 overflow-auto z-50 outline-none focus:outline-none justify-center flex\">\r\n    <div class=\"relative w-4/5 my-5 mx-auto max-w-4xl\" style=\"margin-top: 2.5rem\">\r\n      <!--content-->\r\n      <div\r\n        class=\"border-0 rounded-lg shadow-lg relative flex flex-col w-full overflow-y-auto my-5 bg-white outline-none focus:outline-none\"\r\n        style=\"max-height: 90%\">\r\n        <!--header-->\r\n        <div class=\"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t\">\r\n          <h3 class=\"text-2xl font-semibold\">Thêm câu hỏi</h3>\r\n          <button\r\n            class=\"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none\"\r\n            (click)=\"closeModal()\">\r\n            <span\r\n              class=\"bg-transparent text-gray-700 opacity-5 h-3 w-3 text-base block outline-none focus:outline-none\">\r\n              <i class=\"fa fa-close\"></i>\r\n            </span>\r\n          </button>\r\n        </div>\r\n        <!--body-->\r\n        <div class=\"flex flex-wrap px-3 modal-body\">\r\n          <div class=\"w-full\">\r\n\r\n            <!--            <ul class=\"flex mb-0 list-none flex-wrap pt-3 pb-4 flex-row\">-->\r\n            <!--              <li class=\"-mb-px mr-2 last:mr-0 flex-auto text-center\"><a-->\r\n            <!--                class=\"text-xs font-bold uppercase px-5 py-3 hover:shadow-md rounded block leading-normal cursor-pointer\" (click)=\"toggleTabs(1)\"-->\r\n            <!--                [ngClass]=\"{'text-blue-600 bg-white': openTab !== 1, 'text-white bg-blue-600': openTab === 1}\"> <i-->\r\n            <!--                class=\"fa fa-user-circle text-base mr-1\"></i> Profile </a></li>-->\r\n            <!--              <li class=\"-mb-px mr-2 last:mr-0 flex-auto text-center\"><a-->\r\n            <!--                class=\"text-xs font-bold uppercase px-5 py-3 hover:shadow-md rounded block leading-normal cursor-pointer\" (click)=\"toggleTabs(2)\"-->\r\n            <!--                [ngClass]=\"{'text-blue-600 bg-white': openTab !== 2, 'text-white bg-blue-600': openTab === 2}\"> <i-->\r\n            <!--                class=\"fa fa-upload mr-1\"></i> Import </a></li>-->\r\n\r\n            <!--            </ul>-->\r\n            <div class=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 rounded\">\r\n              <div class=\"px-4 py-5 pb-0 flex-auto\">\r\n                <div class=\"tab-content tab-space\">\r\n\r\n                  <div class=\"relative\">\r\n                    <div\r\n                      class=\"my-4 px-8 text-gray-600 text-base leading-relaxed text-left flex-row flex flex-wrap justify-center lg:justify-start items-center\">\r\n                      <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n                        <div class=\"md:w-1/2 px-3\">\r\n                          <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\">\r\n                            Môn học\r\n                          </label>\r\n                          <select (change)=\"changeCourse($event)\" formControlName=\"course\" name=\"course\"\r\n                            class=\"block appearance-none w-full bg-gray-200 py-2 px-3 my-1 mt-3 pr-4 rounded shadow leading-tight focus:outline-none\">\r\n                            <option value=\"-1\">-- Vui lòng chọn khóa học --</option>\r\n                            <option *ngFor=\"let course of courseList\" [value]=\"course.id\"\r\n                              [selected]=\"course.id === selectedCourseId\">{{course.name}}</option>\r\n\r\n                          </select>\r\n\r\n                        </div>\r\n                        <div class=\"md:w-1/2 px-3\">\r\n                          <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\">\r\n                            Nội dung\r\n                          </label>\r\n                          <select formControlName=\"part\" name=\"part\"\r\n                            class=\"block appearance-none w-full bg-gray-200 py-2 px-3 my-1 mt-3 pr-4 rounded shadow leading-tight focus:outline-none\">\r\n                            <option value=\"-1\">-- Vui lòng chọn phần --</option>\r\n                            <option *ngFor=\"let part of partList\" [selected]=\"part.id===selectedPartId\"\r\n                              [value]=\"part.id\">{{part.name}}</option>\r\n\r\n                          </select>\r\n\r\n                        </div>\r\n\r\n                      </div>\r\n                      <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n                        <div class=\"md:w-full px-3\">\r\n                          <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\">\r\n                            Điểm\r\n                          </label>\r\n                          <input type=\"number\" formControlName=\"point\"\r\n                            class=\"block appearance-none w-full bg-gray-200 py-2 px-3 my-1 mt-3 pr-4 rounded shadow leading-tight focus:outline-none\"\r\n                            min=\"0\" required placeholder=\"Nhập điểm cho câu hỏi\" />\r\n                        </div>\r\n\r\n                      </div>\r\n                      <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n                        <div class=\"md:w-full px-3\">\r\n                          <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\">\r\n                            Kiểu câu hỏi\r\n                          </label>\r\n                          <div class=\"flex\">\r\n                            <div *ngFor=\"let questionType of questionTypeList\" class=\"radio-type flex-1\">\r\n                              <div class=\"radio-btn\">\r\n                                <input type=\"radio\" id=\"{{questionType.id}}\" formControlName=\"questionType\"\r\n                                  name=\"questionType\" value=\"{{questionType.typeCode}}\"\r\n                                  (change)=\"changeQuestionType(questionType.typeCode)\" />\r\n                                <label for=\"{{questionType.id}}\">{{questionType.description}}</label>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n                        <div class=\"md:w-full px-3\">\r\n                          <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\">\r\n                            Nội dung câu hỏi\r\n                          </label>\r\n                          <!--                          <input-->\r\n                          <!--                            class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-green-500\"-->\r\n                          <!--                            id=\"frm-add-username\"-->\r\n                          <!--                            type=\"text\"-->\r\n                          <!--                            placeholder=\"Nhập nội dung\"-->\r\n                          <!--                            autocomplete=\"off\"-->\r\n                          <!--                            formControlName=\"questionText\"-->\r\n                          <!--                            required-->\r\n                          <!--                          >-->\r\n                          <ckeditor type=\"inline\" [config]=\"editorConfig\" [editor]=\"Editor\" required\r\n                            [(ngModel)]=\"questionText\" [ngModelOptions]=\"{standalone: true}\"></ckeditor>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div class=\"-mx-3 md:flex my-2 w-full\">\r\n                        <div class=\"md:w-full px-3\">\r\n                          <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\">\r\n                            Đáp án\r\n                          </label>\r\n                          <div [ngSwitch]=\"currentQuestionType\">\r\n                            <div *ngSwitchCase=\"'TF'\">\r\n                              <div class=\"flex\">\r\n                                <div class=\"radio-type flex-1\">\r\n                                  <div class=\"radio-btn\">\r\n                                    <input type=\"radio\" id=\"T\" formControlName=\"choices\" name=\"choices\" value=\"True\"\r\n                                      (change)=\"changeChoiceTF('True')\" />\r\n                                    <label for=\"T\">Đúng</label>\r\n                                  </div>\r\n                                </div>\r\n\r\n                                <div class=\"radio-type flex-1\">\r\n                                  <div class=\"radio-btn\">\r\n                                    <input type=\"radio\" id=\"False\" formControlName=\"choices\" name=\"choices\"\r\n                                      value=\"False\" (change)=\"changeChoiceTF('False')\" />\r\n                                    <label for=\"False\">Sai</label>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n\r\n                            </div>\r\n                            <div *ngSwitchCase=\"'MC'\">\r\n                              <div class=\"flex flex-col\">\r\n                                <div class=\"w-full my-2\" *ngFor=\"let mc of multipleChoice; let i=index\">\r\n                                  <ckeditor type=\"inline\" [config]=\"editorConfig\" [editor]=\"Editor\" required\r\n                                    [(ngModel)]=\"mc.choiceText\" [ngModelOptions]=\"{standalone: true}\"></ckeditor>\r\n\r\n                                  <div class=\"flex my-2\">\r\n                                    <div class=\"radio-type\">\r\n                                      <div class=\"radio-btn\" style=\"width: 200px;\">\r\n                                        <input type=\"radio\" name=\"mcChoices\" (change)=\"changeChoiceMC(i)\" id=\"mc-{{i}}\"\r\n                                          [checked]=\"mc.isCorrected===1 ? true: false\">\r\n                                        <label for=\"mc-{{i}}\">Chọn đáp án đúng</label>\r\n                                      </div>\r\n                                    </div>\r\n\r\n                                    <div class=\"radio-type\" *ngIf=\"multipleChoice.length>2 && (i!==0 && i!==1)\">\r\n                                      <div class=\"radio-btn\" style=\"width: 180px;\">\r\n                                        <button type=\"button\"\r\n                                          class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 border border-blue-700 rounded\"\r\n                                          (click)=\"removeMCChoice(i)\"><i class=\"fa fa-close\"></i> Xóa\r\n                                        </button>\r\n\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n\r\n                                </div>\r\n                                <button type=\"button\" (click)=\"addMCAnswer()\"\r\n                                  class=\"mx-auto my-3 py-2 w-32 bg-blue-300 text-blue-700 hover:bg-blue-400 rounded-md focus:outline-none hover:text-blue-800 shadow-md\">Thêm\r\n                                  đáp\r\n                                  án\r\n                                </button>\r\n                              </div>\r\n                            </div>\r\n                            <div *ngSwitchCase=\"'MS'\">\r\n                              <div class=\"flex flex-col\">\r\n                                <div class=\"w-full my-2\" *ngFor=\"let ms of multipleSelect; let index=index\">\r\n                                  <ckeditor type=\"inline\" [config]=\"editorConfig\" [editor]=\"Editor\" required\r\n                                    [(ngModel)]=\"ms.choiceText\" [ngModelOptions]=\"{standalone: true}\"></ckeditor>\r\n\r\n                                  <div class=\"flex my-2\">\r\n                                    <div class=\"radio-type\">\r\n                                      <div class=\"check-box-btn\" style=\"width: 200px;\">\r\n                                        <input type=\"checkbox\" name=\"msChoices-{{index}}\" (change)=\"changeChoiceMS(ms)\"\r\n                                          value=\"{{ms.choiceText}}\" id=\"ms-{{index}}\" [(ngModel)]=\"ms.isCorrected\"\r\n                                          [ngModelOptions]=\"{standalone: true}\">\r\n                                        <label for=\"ms-{{index}}\" class=\"check-box\">Chọn đáp án đúng</label>\r\n                                      </div>\r\n                                    </div>\r\n\r\n                                    <div class=\"radio-type\" *ngIf=\"multipleSelect.length>2 && (index!==0 && index!==1)\">\r\n                                      <div class=\"radio-btn\" style=\"width: 180px;\">\r\n                                        <button type=\"button\"\r\n                                          class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 border border-blue-700 rounded\"\r\n                                          (click)=\"removeMSChoice(index)\"><i class=\"fa fa-close\"></i> Xóa\r\n                                        </button>\r\n\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n\r\n                                </div>\r\n                                <button type=\"button\" (click)=\"addMSAnswer()\"\r\n                                  class=\"mx-auto my-3 py-2 w-32 bg-blue-300 text-blue-700 hover:bg-blue-400 rounded-md focus:outline-none hover:text-blue-800 shadow-md\">Thêm\r\n                                  đáp\r\n                                  án\r\n                                </button>\r\n                              </div>\r\n                            </div>\r\n                            <div *ngSwitchCase=\"'SA'\">\r\n                              <input type=\"text\"\r\n                                class=\"block appearance-none w-full bg-gray-200 py-2 px-3 my-1 mt-3 pr-4 rounded shadow leading-tight focus:outline-none\"\r\n                                [(ngModel)]=\"shortAnswer\" [ngModelOptions]=\"{standalone: true}\"\r\n                                placeholder=\"Nhập đáp án đúng (ví dụ: 42)\" />\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <!--footer-->\r\n                    <div class=\"flex items-center justify-end p-6 pb-0 border-t border-solid border-gray-300 rounded-b\">\r\n                      <button\r\n                        class=\"bg-white shadow-md hover:bg-blue-500 hover:text-blue-200 transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-2 rounded outline-none focus:outline-none mr-1 mb-1\"\r\n                        type=\"submit\" [disabled]=\"!rfAdd.valid\" *ngIf=\"rfAdd.valid\"><span><i\r\n                            class=\"fa fa-question-circle mr-1\"></i>Tạo câu hỏi</span>\r\n                      </button>\r\n                      <button\r\n                        class=\"shadow-md bg-gray-600 text-gray-100 hover:bg-gray-700 hover:text-gray-200 transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-2 rounded outline-none focus:outline-none mr-1 mb-1\"\r\n                        type=\"button\" (click)=\"closeModal()\"><span><i class=\"fa fa-window-close mr-1\"></i>Đóng</span>\r\n                      </button>\r\n\r\n                    </div>\r\n\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</form>\r\n<div *ngIf=\"showModal\" class=\"fixed inset-0 z-40 bg-smoke-light\"></div>","import {Component, OnInit} from '@angular/core';\nimport {Question} from '../../../models/question';\nimport {PaginationDetail} from '../../../models/pagination/pagination-detail';\nimport {QuestionService} from '../../../_services/question.service';\nimport {Course} from '../../../models/course';\nimport {CourseService} from '../../../_services/course.service';\nimport {PartService} from '../../../_services/part.service';\nimport {Part} from '../../../models/part';\nimport {Router} from '@angular/router';\nimport {delay, switchMap} from 'rxjs/operators';\nimport {ToastrService} from 'ngx-toastr';\n\n@Component({\n  selector: 'app-question-bank',\n  templateUrl: './question-bank.component.html',\n  styleUrls: ['./question-bank.component.scss']\n})\nexport class QuestionBankComponent implements OnInit {\n  pageOptions: any = [\n    {display: 20, num: 20},\n    {display: 50, num: 50},\n    {display: 100, num: 100},\n    {display: 'Tất cả', num: ''},\n  ];\n  skeleton = true;\n  showAddModal = false;\n  questionList: Question[] = [];\n  paginationDetail: PaginationDetail;\n  pageCountShowing = 20;\n  courseList: Course[] = [];\n  selectedCourseId = 0;\n  selectedPartId = 0;\n  partList: Part[] = [];\n  deletionMode: boolean = false;\n  selectedIds: { [key: number]: boolean } = {};\n  selectAll = false;\n  \n  constructor(private questionService: QuestionService,\n              private courseService: CourseService,\n              private partService: PartService,\n              private router: Router,\n              private toast: ToastrService) {\n  }\n\n  ngOnInit(): void {\n    this.fetchQuestionList();\n    this.fetchCourse();\n  }\n\n  fetchCourse() {\n    this.courseService.getCourseList().subscribe(res => {\n      this.courseList = res;\n    });\n  }\n\n  fetchQuestionList() {\n    this.questionService.getQuestionListByPart(0, 20, 0).pipe(delay(500)).subscribe(res => {\n      this.questionList = res.data;\n      this.paginationDetail = res.paginationDetails;\n      this.skeleton = false;\n    });\n  }\n\n  fetchQuestionsAfterCRUD($event: any) {\n    this.questionList = $event.data;\n    this.paginationDetail = $event.paginationDetails;\n  }\n\n  toggleModalAdd() {\n    this.showAddModal = !this.showAddModal;\n  }\n\n  trackById(index: number, item) {\n    return item.id;\n  }\n\n  goPreviousPage() {\n    const isFirstPage: boolean = this.paginationDetail.isFirstPage;\n    if (!isFirstPage) {\n      this.skeleton = true;\n      this.questionService.getQuestionListByPart(this.paginationDetail.previousPage.pageNumber, this.pageCountShowing, 0)\n        .pipe(delay(1000)).subscribe(res => {\n        this.questionList = res.data;\n        this.paginationDetail = res.paginationDetails;\n        this.skeleton = false;\n      });\n      ;\n    }\n\n  }\n\n  goNextPage() {\n    const isLastPage = !this.paginationDetail.nextPage.available;\n    if (!isLastPage) {\n      this.skeleton = true;\n      this.questionService.getQuestionListByPart(this.paginationDetail.nextPage.pageNumber, this.pageCountShowing, 0\n      ).pipe(delay(1000)).subscribe(res => {\n        this.questionList = res.data;\n        this.paginationDetail = res.paginationDetails;\n        this.skeleton = false;\n      });\n    }\n  }\n\n  changePageShow(value: any) {\n    this.pageCountShowing = value;\n    if (!value) {\n      this.skeleton = true;\n      this.questionService.getQuestionListByPart(0, this.paginationDetail.totalCount, 0).subscribe(res => {\n        this.questionList = res.data;\n        this.paginationDetail = res.paginationDetails;\n        this.skeleton = false;\n      });\n    } else {\n      this.skeleton = true;\n      this.questionService.getQuestionListByPart(0, value, 0).subscribe(res => {\n        this.questionList = res.data;\n        this.paginationDetail = res.paginationDetails;\n        this.skeleton = false;\n      });\n    }\n  }\n\n  changeCourse(event) {\n    this.selectedCourseId = event.target.value;\n    this.skeleton = true;\n    this.partService.getPartsByCourse(this.selectedCourseId).subscribe(res => {\n      this.partList = res;\n    });\n  }\n\n  changePart(event) {\n    const selectPartId = event.target.value;\n    this.skeleton = true;\n    if (this.selectedCourseId === 0) {\n      this.fetchQuestionList();\n      return;\n    }\n    this.questionService.getQuestionListByPart(0, this.pageCountShowing, selectPartId).subscribe(res => {\n      this.questionList = res.data;\n      this.paginationDetail = res.paginationDetails;\n      this.skeleton = false;\n    });\n  }\n\n  goDeTail(id: number) {\n    this.router.navigate(['admin/question-bank/question', id]);\n  }\n\n  changeDeleted(ques: Question) {\n    ques.deleted = !ques.deleted;\n\n    this.questionService.deleteQuestion(ques.id, ques.deleted)\n      .pipe(switchMap(res => this.questionService.getQuestionListByPart(0, 20, this.selectedPartId)))\n      .subscribe(res => {\n        this.toast.success('Đã thay đổi trạng thái câu hỏi', 'Thành công');\n      }, error => {\n        ques.deleted = !ques.deleted;\n        this.toast.error('Không thể thay đổi trạng thái', 'Lỗi');\n      });\n  }\n  enterDeleteMode() {\n    this.deletionMode = true;\n    this.selectedIds = {};\n    this.selectAll = false;\n  }\n  \n  cancelDeleteMode() {\n    this.deletionMode = false;\n    this.selectedIds = {};\n    this.selectAll = false;\n  }\n  toggleAll() {\n    this.questionList.forEach(q => {\n      this.selectedIds[q.id] = this.selectAll;\n    });\n  }\n\n  getSelectedQuestionIds(): number[] {\n    return Object.keys(this.selectedIds)\n      .filter(id => this.selectedIds[+id])\n      .map(id => +id);\n  }\n\n  confirmDelete() {\n    const idsToDelete = this.getSelectedQuestionIds();\n    if (idsToDelete.length === 0) return;\n\n    if (!confirm('Bạn có chắc muốn xóa các câu hỏi đã chọn?')) return;\n\n    this.questionService.deleteMultipleQuestions(idsToDelete).subscribe(() => {\n      this.toast.success('Đã xóa các câu hỏi thành công', 'Thành công');\n      this.fetchQuestionList();\n      this.selectedIds = {};\n      this.selectAll = false;\n    }, err => {\n      this.toast.error('Xóa thất bại', 'Lỗi');\n    });\n  }\n\n}\n","<div class=\"bg-blue-600 md:pt-32 pb-32 pt-12\">\r\n  <div class=\"px-4 md:px-10 mx-auto w-full\">\r\n  </div>\r\n</div>\r\n\r\n<div class=\"mx-auto w-full -m-24\">\r\n  <div class=\"flex flex-wrap mt-4 justify-center\">\r\n    <div class=\"w-full mb-12 xl:mb-0 px-4 max-w-5xl\">\r\n      <div class=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\r\n        <div class=\"rounded-t mb-0 px-4 py-3 border-0\">\r\n          <div class=\"flex flex-wrap items-center\">\r\n            <div class=\"relative w-full px-4 max-w-full flex-grow leading-8 mb-3\">\r\n              <h3 class=\"font-semibold text-2xl text-gray-800\">\r\n                Ngân hàng câu hỏi\r\n              </h3>\r\n            </div>\r\n            <div class=\"flex flex-wrap flex-col w-full\">\r\n              <div class=\"flex flex-wrap flex-row items-center px-4 mb-3\">\r\n                <span class=\"mr-2 text-gray-600 text-sm\">Hiển thị tối đa</span>\r\n                <div class=\"inline-block relative max-w-xs w-20 mr-4\">\r\n                  <select\r\n                    class=\"block appearance-none w-full bg-white px-3 py-1 pr-4 rounded shadow leading-tight focus:outline-none text-sm\"\r\n                    (change)=\"changePageShow($event.target.value)\">\r\n                    <option *ngFor=\"let item of pageOptions\" [value]=\"item.num\"\r\n                      [selected]=\"item.num == pageCountShowing\">{{item.display}}</option>\r\n                  </select>\r\n                  <div class=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\r\n                    <svg class=\"fill-current h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\r\n                      <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" />\r\n                    </svg>\r\n                  </div>\r\n                </div>\r\n                <app-add-question (questionsAddOutput)=\"fetchQuestionsAfterCRUD($event)\">\r\n                </app-add-question>\r\n\r\n                <button *ngIf=\"!deletionMode\" (click)=\"enterDeleteMode()\"\r\n                  class=\"bg-white shadow-md hover:bg-red-500 hover:text-white transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-2 rounded outline-none focus:outline-none mx-2 mb-2\">\r\n                  <i class=\"fa fa-trash mr-1\"></i> Xóa câu hỏi\r\n                </button>\r\n                <div *ngIf=\"deletionMode\" class=\"space-x-2\">\r\n                  <button (click)=\"confirmDelete()\" [disabled]=\"getSelectedQuestionIds().length === 0\"\r\n                    class=\"bg-red-600 shadow-md hover:bg-red-700 text-white transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mx-1 mb-1\">\r\n                    <i class=\"fa fa-trash mr-1\"></i> Xóa ({{ getSelectedQuestionIds().length }}) câu hỏi\r\n                  </button>\r\n                  <button (click)=\"cancelDeleteMode()\"\r\n                    class=\"bg-smoke-light shadow-md hover:bg-smoke-light hover:text-white transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mx-1 mb-1\">\r\n                    <i class=\"fa fa-times mr-1\"></i> Hủy chọn\r\n                  </button>\r\n\r\n\r\n\r\n                </div>\r\n\r\n\r\n              </div>\r\n\r\n              <div class=\"flex mt-4 px-4\">\r\n                <div class=\"md:w-1/2 px-3\">\r\n                  <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\">Môn học</label>\r\n                  <select (change)=\"changeCourse($event)\" name=\"course\"\r\n                    class=\"block appearance-none w-full bg-gray-200 py-2 px-3 my-1 mt-3 pr-4 rounded shadow leading-tight focus:outline-none\">\r\n                    <option value=\"0\">-- Vui lòng chọn khóa học --</option>\r\n                    <option *ngFor=\"let course of courseList\" [value]=\"course.id\"\r\n                      [selected]=\"course.id === selectedCourseId\">{{course.name}}</option>\r\n                  </select>\r\n                </div>\r\n                <div class=\"md:w-1/2 px-3\">\r\n                  <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\">Nội dung</label>\r\n                  <select (change)=\"changePart($event)\" name=\"part\"\r\n                    class=\"block appearance-none w-full bg-gray-200 py-2 px-3 my-1 mt-3 pr-4 rounded shadow leading-tight focus:outline-none\">\r\n                    <option value=\"0\">-- Vui lòng chọn phần --</option>\r\n                    <option *ngFor=\"let part of partList\" [selected]=\"part.id===selectedPartId\" [value]=\"part.id\">\r\n                      {{part.name}}</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"block w-full\">\r\n          <table\r\n            class=\"items-center table-fixed w-full bg-transparent border-collapse user-list block lg:table overflow-x-auto overflow-y-auto\">\r\n            <thead>\r\n              <tr>\r\n                <th *ngIf=\"deletionMode\"\r\n                  class=\"w-32 px-3 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 font-semibold text-left\">\r\n                  <input type=\"checkbox\" [(ngModel)]=\"selectAll\" (change)=\"toggleAll()\" class=\"h-4 w-4\"> Chọn tất cả\r\n                </th>\r\n                <th\r\n                  class=\"px-3 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 font-semibold text-left\">\r\n                  Câu hỏi\r\n                </th>\r\n                <th\r\n                  class=\"row-status px-3 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 font-semibold text-left\">\r\n                  Ẩn/Hiện\r\n                </th>\r\n                <th\r\n                  class=\"row-type px-3 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 font-semibold text-left\">\r\n                  Loại câu\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody *ngIf=\"skeleton==false\">\r\n              <ng-container *ngFor=\"let ques of questionList; trackBy: trackById\">\r\n                <tr class=\"border hover:bg-gray-300\">\r\n                  <td *ngIf=\"deletionMode\" class=\"w-22 align-middle px-3 text-center\">\r\n                    <input type=\"checkbox\" [(ngModel)]=\"selectedIds[ques.id]\" class=\"h-4 w-4\">\r\n                  </td>\r\n                  <th class=\"border-t-0 px-3 align-middle border-l-0 border-r-0 text-xs p-4 text-left\">\r\n                    <div [innerHTML]=\"ques.questionText\" class=\"cursor-pointer hover:text-blue-800 text-md\"\r\n                      (click)=\"goDeTail(ques.id)\"></div>\r\n                  </th>\r\n                  <td\r\n                    class=\"border-t-0 text-center px-3 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4 w-1/3\">\r\n                    <span class=\"text-2xl cursor-pointer\" (click)=\"changeDeleted(ques)\"><i\r\n                        [ngClass]=\"ques.deleted ? 'fa fa-toggle-off text-gray-700' : 'fa fa-toggle-on text-green-700'\"></i></span>\r\n                  </td>\r\n                  <td class=\"border-t-0 px-3 align-middle border-l-0 border-r-0 text-xs p-4 italic font-semibold\">\r\n                    #{{ques.questionType.description}}\r\n                  </td>\r\n                </tr>\r\n              </ng-container>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <div *ngIf=\"questionList.length!==0\"\r\n          class=\"px-4 py-3 bg-white border-t flex flex-row justify-between xs:flex-row items-center xs:justify-between\">\r\n          <span class=\"text-xs xs:text-sm text-gray-700 px-4\">\r\n            Hiển thị {{paginationDetail?.isLastPage ? paginationDetail?.totalCount - paginationDetail.pageCount + 1 :\r\n            paginationDetail?.pageNumber * paginationDetail?.pageCount + 1}}\r\n            đến {{paginationDetail?.isLastPage ? paginationDetail.totalCount : (paginationDetail?.pageNumber + 1) *\r\n            paginationDetail?.pageCount}}\r\n            trong số {{paginationDetail?.totalCount}} kết quả\r\n          </span>\r\n          <div class=\"inline-flex mt-2 px-4 xs:mt-0\">\r\n            <button\r\n              class=\"text-sm bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded-l focus:outline-none\"\r\n              (click)=\"goPreviousPage()\">\r\n              <span><i class=\"fa fa-arrow-left\"></i></span><span class=\"hidden md:inline ml-1\">Trước</span>\r\n            </button>\r\n            <button\r\n              class=\"text-sm bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded-r focus:outline-none\"\r\n              (click)=\"goNextPage()\">\r\n              <span class=\"hidden md:inline mr-1\">Sau</span><span><i class=\"fa fa-arrow-right\"></i></span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <ng-container *ngIf=\"questionList.length==0 && skeleton==false\">\r\n          <div\r\n            class=\"px-4 py-3 bg-white border-t flex flex-row justify-between xs:flex-row items-center xs:justify-between\">\r\n            <p class=\"mx-auto text-gray-700 text-sm\">Nội dung không có để hiển thị</p>\r\n          </div>\r\n        </ng-container>\r\n        <ng-container *ngIf=\"skeleton\">\r\n          <app-table-skeleton [type]=\"'question'\"></app-table-skeleton>\r\n          <app-table-skeleton [type]=\"'question'\"></app-table-skeleton>\r\n          <app-table-skeleton [type]=\"'question'\"></app-table-skeleton>\r\n        </ng-container>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <app-admin-footer></app-admin-footer>\r\n</div>","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {QuestionService} from '../../../_services/question.service';\nimport {Question} from '../../../models/question';\nimport {CourseService} from '../../../_services/course.service';\nimport {PartService} from '../../../_services/part.service';\nimport {Part} from '../../../models/part';\nimport {Course} from '../../../models/course';\nimport {QuestionType} from '../../../models/question-type';\nimport {QuestionTypeService} from '../../../_services/question-type.service';\nimport {Location} from '@angular/common';\nimport { ToastrService } from 'ngx-toastr';\n\n@Component({\n  selector: 'app-question-detail',\n  templateUrl: './question-detail.component.html',\n  styleUrls: ['./question-detail.component.scss']\n})\nexport class QuestionDetailComponent implements OnInit {\n\n  questionId: number;\n  questionInfo: Question;\n  course: Course;\n  imgDefaultUrl = '../../assets/images/avatar-default.png';\n  questionTypeList: QuestionType[] = [];\n  isEditMode = false;\n  tempQuestion: Question; // Biến lưu tạm khi sửa\n\n  constructor(\n    private route: ActivatedRoute,\n    private questionService: QuestionService,\n    private courseService: CourseService,\n    private questionTypeService: QuestionTypeService,\n    private location: Location,\n    private toast: ToastrService \n  ) {}\n\n  ngOnInit(): void {\n    this.getQuestion();\n  }\n\n  getQuestion() {\n    this.questionId = Number(this.route.snapshot.paramMap.get('questionId'));\n\n    this.questionService.getQuestionById(this.questionId).subscribe(res => {\n      this.questionInfo = res;\n      this.courseService.getCourseByPartId(this.questionInfo.part.id).subscribe(data => {\n        this.course = data;\n      });\n    });\n    this.isEditMode = false; // Reset lại chế độ sửa khi load lại\n  }\n\n  goBack() {\n    this.location.back();\n  }\n\n  enableEdit() {\n    this.isEditMode = true;\n    this.tempQuestion = JSON.parse(JSON.stringify(this.questionInfo));\n    // Nếu là TF mà thiếu 1 trong 2 đáp án, bổ sung lại\n    if (this.tempQuestion.questionType.typeCode === 'TF') {\n      if (!this.tempQuestion.choices || this.tempQuestion.choices.length < 2) {\n        this.tempQuestion.choices = [\n          { id: null, choiceText: 'True', isCorrected: 1 },\n          { id: null, choiceText: 'False', isCorrected: 0 }\n        ];\n      } else {\n        let trueChoice = this.tempQuestion.choices.find(c => c.choiceText === 'True');\n        let falseChoice = this.tempQuestion.choices.find(c => c.choiceText === 'False');\n        if (!trueChoice) this.tempQuestion.choices.push({ id: null, choiceText: 'True', isCorrected: 0 });\n        if (!falseChoice) this.tempQuestion.choices.push({ id: null, choiceText: 'False', isCorrected: 0 });\n        this.tempQuestion.choices.sort((a, b) => a.choiceText === 'True' ? -1 : 1);\n      }\n    }\n    // ✅ Nếu là SA mà chưa có đáp án thì bổ sung 1 choice trống\n    if (this.tempQuestion.questionType.typeCode === 'SA') {\n      if (!this.tempQuestion.choices || this.tempQuestion.choices.length === 0) {\n        this.tempQuestion.choices = [{ id: null, choiceText: '', isCorrected: 1 }];\n      } else if (this.tempQuestion.choices.length > 1) {\n        // chỉ lấy đáp án đầu tiên nếu thừa\n        this.tempQuestion.choices = [this.tempQuestion.choices[0]];\n      }\n    }\n  }\n  \n\n  cancelEdit() {\n    this.isEditMode = false;\n  }\n\n  addChoice() {\n    this.tempQuestion.choices.push({\n      id: null, // Nếu thêm mới\n      choiceText: '',\n      isCorrected: 0\n    });\n  }\n\n  removeChoice(idx: number) {\n    if (this.tempQuestion.choices.length > 2) {\n      this.tempQuestion.choices.splice(idx, 1);\n    }\n  }\n\n  setCorrectChoice(idx: number, multi: boolean = false) {\n    if (this.tempQuestion.questionType.typeCode === 'MC') {\n      // Chỉ 1 đáp án đúng\n      this.tempQuestion.choices.forEach((c, i) => c.isCorrected = (i === idx) ? 1 : 0);\n    } else if (this.tempQuestion.questionType.typeCode === 'MS') {\n      // Chọn nhiều đáp án đúng\n      this.tempQuestion.choices[idx].isCorrected = this.tempQuestion.choices[idx].isCorrected ? 0 : 1;\n    } else if (this.tempQuestion.questionType.typeCode === 'TF') {\n      // True/False\n      this.tempQuestion.choices.forEach((c, i) => c.isCorrected = (i === idx) ? 1 : 0);\n    }\n  }\n\n  validateQuestion(): boolean {\n    // Không để trống nội dung câu hỏi, point phải có giá trị >= 0\n    if (\n      !this.tempQuestion.questionText ||\n      !this.tempQuestion.choices ||\n      this.tempQuestion.point == null ||\n      this.tempQuestion.point < 0\n    ) return false;\n  \n    // MC/TF phải có ít nhất 2 đáp án và chỉ 1 đáp án đúng\n    if (this.tempQuestion.questionType.typeCode === 'MC' || this.tempQuestion.questionType.typeCode === 'TF') {\n      if (this.tempQuestion.choices.length < 2) return false;\n      return this.tempQuestion.choices.filter(c => c.isCorrected == 1).length === 1;\n    }\n  \n    // MS phải có ít nhất 2 đáp án và có ít nhất 1 đáp án đúng\n    if (this.tempQuestion.questionType.typeCode === 'MS') {\n      if (this.tempQuestion.choices.length < 2) return false;\n      return this.tempQuestion.choices.filter(c => c.isCorrected == 1).length >= 1;\n    }\n  \n    // SA phải có đúng 1 đáp án, và đáp án không được bỏ trống\n    if (this.tempQuestion.questionType.typeCode === 'SA') {\n      return (\n        this.tempQuestion.choices.length === 1 &&\n        !!this.tempQuestion.choices[0].choiceText &&\n        this.tempQuestion.choices[0].choiceText.trim() !== ''\n      );\n    }\n  \n    return true;\n  }\n  \n  saveEdit() {\n    if (!this.validateQuestion()) {\n      this.toast.error('Vui lòng kiểm tra lại dữ liệu trước khi lưu!', 'Lỗi');\n      return;\n    }\n    // Nếu là TF, chỉ giữ lại đáp án đúng\n    if (this.tempQuestion.questionType.typeCode === 'TF') {\n      const correctChoice = this.tempQuestion.choices.find(c => c.isCorrected == 1);\n      if (correctChoice) {\n        this.tempQuestion.choices = [{\n          id: correctChoice.id || null,\n          choiceText: correctChoice.choiceText,\n          isCorrected: 1\n        }];\n      }\n    }\n    this.questionService.updateQuestion(this.questionInfo.id, this.tempQuestion).subscribe(\n      res => {\n        this.toast.success('Cập nhật câu hỏi thành công!', 'Thành công');\n        this.getQuestion();\n      },\n      err => {\n        this.toast.error('Cập nhật câu hỏi thất bại!', 'Lỗi');\n      }\n    );\n  }\n  \n  get isTrueCorrectAnswer(): boolean {\n    if (!this.questionInfo?.choices) return false;\n    // Nếu chỉ còn 1 choice thì check giá trị\n    if (this.questionInfo.choices.length === 1) {\n      return this.questionInfo.choices[0].choiceText === 'True' && this.questionInfo.choices[0].isCorrected == 1;\n    }\n    // Có cả 2 đáp án thì tìm đáp án đúng\n    return this.questionInfo.choices.find(c => c.choiceText === 'True' && c.isCorrected == 1) !== undefined;\n  }\n  \n  get isFalseCorrectAnswer(): boolean {\n    if (!this.questionInfo?.choices) return false;\n    if (this.questionInfo.choices.length === 1) {\n      return this.questionInfo.choices[0].choiceText === 'False' && this.questionInfo.choices[0].isCorrected == 1;\n    }\n    return this.questionInfo.choices.find(c => c.choiceText === 'False' && c.isCorrected == 1) !== undefined;\n  }\n  \n}\n","<div class=\"bg-blue-600 md:pt-32 pb-32 pt-12\">\r\n  <div class=\"px-4 md:px-10 mx-auto w-full\">\r\n    <div (click)=\"goBack()\" class=\"text-white cursor-pointer hover:underline\">\r\n      <i class=\"fa fa-long-arrow-left\"></i><span class=\"mx-2\">Quay lại</span>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"mx-auto w-full -m-24\">\r\n  <div class=\"flex flex-wrap mt-4 justify-center\">\r\n    <div class=\"w-full mb-12 xl:mb-0 px-4 max-w-5xl\">\r\n      <div class=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\r\n        <div class=\"relative w-full px-4 max-w-full flex-grow leading-8 mb-3\">\r\n          <div class=\"rounded-t mb-0 px-4 py-3 border-0 flex justify-between items-center\">\r\n            <h3 class=\"font-semibold text-2xl text-gray-800\">Chi tiết câu hỏi</h3>\r\n            <div class=\"flex justify-end mt-3\">\r\n              <!-- <button *ngIf=\"!isEditMode\" (click)=\"enableEdit()\" class=\"bg-blue-600 text-white px-4 py-2 rounded\">Sửa</button> -->\r\n              <button *ngIf=\"!isEditMode\" (click)=\"enableEdit()\"\r\n                class=\"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-0.5 px-10 rounded\">Sửa</button>\r\n              <button *ngIf=\"isEditMode\" (click)=\"saveEdit()\"\r\n                class=\"bg-green-600 text-white py-0.5 px-10 rounded\">Lưu</button>\r\n              <button *ngIf=\"isEditMode\" (click)=\"cancelEdit()\"\r\n                class=\"bg-gray-500 text-white py-0.5 px-10 ml-2 rounded\">Hủy</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"rounded-t mb-0 px-4 py-3 border-0\">\r\n          <div class=\"mx-4 flex flex-row\" *ngIf=\"questionInfo\">\r\n            <div\r\n              class=\"my-4 px-8 text-gray-600 text-base leading-relaxed text-left flex-row flex flex-wrap justify-center lg:justify-start items-center\">\r\n              <div class=\"flex justify-between w-full mb-4 text-gray-700\">\r\n                <div>\r\n                  <div class=\"mb-2 block uppercase tracking-wide text-grey-darker text-xs font-bold\">Người tạo</div>\r\n                  <div class=\"flex items-center\">\r\n                    <img class=\"w-8 h-8 rounded-full mx-2\"\r\n                      [src]=\"questionInfo.lastModifiedBy?.profile.image || imgDefaultUrl\">\r\n                    <span>{{questionInfo.lastModifiedBy?.username}}</span>\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <div class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\">Ngày tạo</div>\r\n                  <div>\r\n                    {{questionInfo.lastModifiedDate.toString()}}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <hr class=\"w-full mb-4\">\r\n              <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n                <div class=\"md:w-1/2 px-3\">\r\n                  <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\">\r\n                    Môn học\r\n                  </label>\r\n                  <select [disabled]=\"true\"\r\n                    class=\"block appearance-none w-full bg-gray-200 py-2 px-3 my-1 mt-3 pr-4 rounded shadow leading-tight focus:outline-none\">\r\n                    <option>{{course?.name}}</option>\r\n                  </select>\r\n                </div>\r\n                <div class=\"md:w-1/2 px-3\">\r\n                  <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\">\r\n                    Nội dung\r\n                  </label>\r\n                  <select [disabled]=\"true\"\r\n                    class=\"block appearance-none w-full bg-gray-200 py-2 px-3 my-1 mt-3 pr-4 rounded shadow leading-tight focus:outline-none\">\r\n                    <option [value]=\"questionInfo.part.id\">{{questionInfo?.part.name}}</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n                <div class=\"md:w-full px-3\">\r\n                  <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\">\r\n                    Điểm\r\n                  </label>\r\n                  <input *ngIf=\"isEditMode\" type=\"number\" min=\"0\" [(ngModel)]=\"tempQuestion.point\"\r\n                    class=\"block appearance-none w-full bg-gray-200 py-2 px-3 my-1 mt-3 pr-4 rounded shadow leading-tight focus:outline-none\"\r\n                    placeholder=\"Nhập điểm cho câu hỏi\">\r\n                  <div *ngIf=\"!isEditMode\"\r\n                    class=\"block appearance-none w-full bg-gray-100 py-2 px-3 my-1 mt-3 pr-4 rounded shadow leading-tight focus:outline-none text-gray-600\">\r\n                    {{ questionInfo?.point }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"-mx-3 md:flex my-3 w-full\">\r\n                <div class=\"md:w-full px-3\">\r\n                  <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\">\r\n                    Kiểu câu hỏi\r\n                  </label>\r\n                  <div class=\"flex\">\r\n                    <div class=\"radio-type flex-1\">\r\n                      <div class=\"radio-btn\">\r\n                        <input type=\"radio\" [id]=\"questionInfo.questionType.id\" [disabled]=\"true\" name=\"questionType\"\r\n                          [value]=\"questionInfo.questionType.typeCode\" [checked]=\"true\" />\r\n                        <label [for]=\"questionInfo.questionType.id\">{{questionInfo.questionType.description}}</label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"-mx-3 md:flex mb-2 mt-6 w-full\">\r\n                <div class=\"md:w-full px-3\">\r\n                  <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\">\r\n                    Nội dung câu hỏi\r\n                  </label>\r\n                  <div *ngIf=\"!isEditMode\" class=\"mx-2\" [innerHTML]=\"questionInfo?.questionText\"></div>\r\n                  <textarea *ngIf=\"isEditMode\" [(ngModel)]=\"tempQuestion.questionText\" class=\"w-full border rounded p-2\"\r\n                    rows=\"3\"></textarea>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- ĐÁP ÁN -->\r\n              <div class=\"-mx-3 md:flex my-2 w-full\">\r\n                <div class=\"md:w-full px-3\">\r\n                  <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\">\r\n                    Đáp án\r\n                  </label>\r\n                  <div\r\n                    [ngSwitch]=\"isEditMode ? tempQuestion?.questionType.typeCode : questionInfo?.questionType.typeCode\">\r\n                    <!-- TF -->\r\n                    <div *ngSwitchCase=\"'TF'\">\r\n                      <div class=\"flex\">\r\n                        <!-- SỬA (edit mode) -->\r\n                        <ng-container *ngIf=\"isEditMode\">\r\n                          <div class=\"radio-type flex-1\">\r\n                            <div class=\"radio-btn flex items-center\">\r\n                              <input type=\"radio\" id=\"T\" name=\"choices\"\r\n                                [checked]=\"tempQuestion.choices && tempQuestion.choices[0] && tempQuestion.choices[0].isCorrected==1\"\r\n                                (change)=\"setCorrectChoice(0)\" />\r\n                              <label for=\"T\" class=\"ml-2\">True</label>\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"radio-type flex-1\">\r\n                            <div class=\"radio-btn flex items-center\">\r\n                              <input type=\"radio\" id=\"F\" name=\"choices\"\r\n                                [checked]=\"tempQuestion.choices && tempQuestion.choices[1] && tempQuestion.choices[1].isCorrected==1\"\r\n                                (change)=\"setCorrectChoice(1)\" />\r\n                              <label for=\"F\" class=\"ml-2\">False</label>\r\n                            </div>\r\n                          </div>\r\n                        </ng-container>\r\n                        <!-- View mode -->\r\n                        <ng-container *ngIf=\"!isEditMode\">\r\n                          <div class=\"radio-type flex-1\">\r\n                            <div class=\"radio-btn flex items-center\">\r\n                              <input type=\"radio\" [checked]=\"isTrueCorrectAnswer\" disabled />\r\n                              <label class=\"ml-2\">True</label>\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"radio-type flex-1\">\r\n                            <div class=\"radio-btn flex items-center\">\r\n                              <input type=\"radio\" [checked]=\"isFalseCorrectAnswer\" disabled />\r\n                              <label class=\"ml-2\">False</label>\r\n                            </div>\r\n                          </div>\r\n                        </ng-container>\r\n                      </div>\r\n                    </div>\r\n                    <!-- MC -->\r\n                    <div *ngSwitchCase=\"'MC'\">\r\n                      <div class=\"flex flex-col\">\r\n                        <div *ngFor=\"let mc of (isEditMode ? tempQuestion.choices : questionInfo.choices); let i=index\"\r\n                          class=\"flex my-2 items-center\">\r\n                          <input type=\"radio\" name=\"mcChoices\" [disabled]=\"!isEditMode\"\r\n                            [checked]=\"mc && mc.isCorrected==1\" (change)=\"isEditMode ? setCorrectChoice(i) : null\" />\r\n                          <input *ngIf=\"isEditMode\" class=\"ml-2 border p-1 rounded\" [(ngModel)]=\"mc.choiceText\" />\r\n                          <span *ngIf=\"!isEditMode\" class=\"ml-2 select-none\" [innerHTML]=\"mc.choiceText\"></span>\r\n                          <button *ngIf=\"isEditMode\" class=\"ml-2 text-red-600 px-2\" (click)=\"removeChoice(i)\"\r\n                            [disabled]=\"tempQuestion.choices.length <= 2\">X</button>\r\n                        </div>\r\n                        <button *ngIf=\"isEditMode\" (click)=\"addChoice()\"\r\n                          class=\"bg-gray-300 px-2 py-1 rounded mt-1 w-max\">\r\n                          + Thêm đáp án\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                    <!-- MS -->\r\n                    <div *ngSwitchCase=\"'MS'\">\r\n                      <div class=\"flex flex-col\">\r\n                        <div *ngFor=\"let ms of (isEditMode ? tempQuestion.choices : questionInfo.choices); let i=index\"\r\n                          class=\"flex my-2 items-center\">\r\n                          <input type=\"checkbox\" name=\"msChoices\" [disabled]=\"!isEditMode\"\r\n                            [checked]=\"ms && ms.isCorrected==1\"\r\n                            (change)=\"isEditMode ? setCorrectChoice(i,true) : null\" />\r\n                          <input *ngIf=\"isEditMode\" class=\"ml-2 border p-1 rounded\" [(ngModel)]=\"ms.choiceText\" />\r\n                          <span *ngIf=\"!isEditMode\" class=\"ml-2 select-none\" [innerHTML]=\"ms.choiceText\"></span>\r\n                          <button *ngIf=\"isEditMode\" class=\"ml-2 text-red-600 px-2\" (click)=\"removeChoice(i)\"\r\n                            [disabled]=\"tempQuestion.choices.length <= 2\">X</button>\r\n                        </div>\r\n                        <button *ngIf=\"isEditMode\" (click)=\"addChoice()\"\r\n                          class=\"bg-gray-300 px-2 py-1 rounded mt-1 w-max\">\r\n                          + Thêm đáp án\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                    <div *ngSwitchCase=\"'SA'\">\r\n                      <div *ngIf=\"!isEditMode\" class=\"bg-gray-100 rounded p-2 border\">\r\n                        <span class=\"text-gray-700 font-semibold\">Đáp án đúng:</span>\r\n                        <span class=\"ml-2\">{{ (questionInfo.choices && questionInfo.choices[0]?.choiceText) || 'Chưa có đáp án' }}</span>\r\n                      </div>\r\n                      <div *ngIf=\"isEditMode\">\r\n                        <input type=\"text\"\r\n                          class=\"block appearance-none w-full bg-gray-200 py-2 px-3 rounded shadow leading-tight focus:outline-none\"\r\n                          [(ngModel)]=\"tempQuestion.choices[0].choiceText\"\r\n                          placeholder=\"Nhập đáp án đúng (ví dụ: 42)\" />\r\n                      </div>\r\n                    </div>                    \r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <!-- End Đáp án -->\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <app-admin-footer></app-admin-footer>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Course } from '../../../models/course';\r\nimport { CourseService } from '../../../_services/course.service';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { Part } from '../../../models/part';\r\nimport { PartService } from '../../../_services/part.service';\r\nimport * as moment from 'moment';\r\nimport { Question } from '../../../models/question';\r\nimport { QuestionService } from '../../../_services/question.service';\r\nimport { PaginationDetail } from '../../../models/pagination/pagination-detail';\r\nimport { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport { Exam } from '../../../models/exam';\r\nimport { Intake } from '../../../models/intake';\r\nimport { IntakeService } from '../../../_services/intake.service';\r\nimport { ExamService } from '../../../_services/exam.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-add-test',\r\n  templateUrl: './add-test.component.html',\r\n  styleUrls: ['./add-test.component.scss']\r\n})\r\nexport class AddTestComponent implements OnInit {\r\n\r\n  courseList: Course[] = [];\r\n  selectedCourseId = -1;\r\n  partList: Part[] = [];\r\n  selectedPart = -1;\r\n  beginTime;\r\n  paginationDetail: PaginationDetail;\r\n  rfAdd: FormGroup;\r\n  questionList: Question[] = [];\r\n  selectedPartId = -1;\r\n  countQuestionSelected = 0;\r\n  totalPointQuestionSelected = 0;\r\n  checkedAll = false;\r\n  questionListSelected: Question[] = [];\r\n  questionDataJson: any[] = [];\r\n  intakeList: Intake[] = [];\r\n  selectedIntake = -1;\r\n\r\n  constructor(\r\n    private courseService: CourseService,\r\n    private fb: FormBuilder,\r\n    private partService: PartService,\r\n    private questionService: QuestionService,\r\n    private intakeService: IntakeService,\r\n    private examService: ExamService,\r\n    private toast: ToastrService,\r\n    private router: Router) {\r\n  }\r\n\r\n  get testTitle() {\r\n    return this.rfAdd.get('testTitle');\r\n  }\r\n\r\n  get timeBegin() {\r\n    return this.rfAdd.get('timeBegin');\r\n  }\r\n\r\n  get timeEnd() {\r\n    return this.rfAdd.get('timeEnd');\r\n  }\r\n\r\n  get timeDuration() {\r\n    return this.rfAdd.get('timeDuration');\r\n  }\r\n\r\n  get locked() {\r\n    return this.rfAdd.get('locked');\r\n  }\r\n\r\n  get isShuffle() {\r\n    return this.rfAdd.get('isShuffle');\r\n  }\r\n\r\n  get intake() {\r\n    return this.rfAdd.get('intake');\r\n  }\r\n  get maxPoint() {\r\n    return this.rfAdd.get('maxPoint');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.rfAdd = this.fb.group({\r\n      testTitle: [''],\r\n      timeBegin: [''],\r\n      timeEnd: [''],\r\n      timeDuration: [0],\r\n      locked: [false],\r\n      isShuffle: [false],\r\n      isLockScreen: [false],\r\n      intake: [-1],\r\n      maxPoint: [100] // ✅ Thêm dòng này, giá trị mặc định là 100\r\n    });\r\n\r\n\r\n    this.intakeService.getIntakeList().subscribe(res => {\r\n      this.intakeList = res;\r\n    });\r\n  }\r\n\r\n\r\n  onSubmit() {\r\n    if (!this.maxPoint.value || this.maxPoint.value < 1) {\r\n      this.toast.error('Vui lòng nhập tổng điểm tối đa hợp lệ (>=1)', 'Lỗi');\r\n      return;\r\n    }\r\n    if (this.getTotalPoint() > this.maxPoint.value) {\r\n      this.toast.error('Tổng điểm các câu hỏi vượt quá tổng điểm tối đa', 'Lỗi');\r\n      return;\r\n    }\r\n    // Các bước cũ giữ nguyên\r\n    this.questionDataJson.length = 0;\r\n    this.questionListSelected.forEach(item => {\r\n      this.questionDataJson.push({ questionId: item.id, point: item.point });\r\n    });\r\n\r\n    const newExam = new Exam(\r\n      this.testTitle.value,\r\n      this.timeDuration.value,\r\n      moment(this.timeBegin.value).format('YYYY-MM-DD HH:mm:ss'),\r\n      moment(this.timeEnd.value).format('YYYY-MM-DD HH:mm:ss'),\r\n      JSON.stringify(this.questionDataJson),\r\n      this.maxPoint.value // Thêm giá trị này nếu Exam constructor đã có (xem mục 5)\r\n    );\r\n\r\n    this.examService.createExam(\r\n      this.intake.value,\r\n      this.selectedPartId,\r\n      this.isShuffle.value,\r\n      this.locked.value,\r\n      this.rfAdd.get('isLockScreen').value,\r\n      newExam\r\n    ).subscribe(res => {\r\n      this.toast.success('Đã tạo bài kiểm tra', 'Thành công');\r\n      setTimeout(() => this.goToExamManagePage(), 1000);\r\n    });\r\n  }\r\n\r\n\r\n  changeCourse(event) {\r\n    this.selectedCourseId = event.target.value;\r\n    this.selectedPartId = -1;\r\n    if (this.selectedCourseId > 0) {\r\n      this.partService.getPartsByCourse(this.selectedCourseId).subscribe(res => {\r\n        this.partList = res;\r\n\r\n      });\r\n    }\r\n    console.log(this.selectedPartId);\r\n  }\r\n\r\n  getBeginTime(event) {\r\n\r\n    const date = moment(event.target.value).format('YYYY-MM-DD HH:mm:ss A');\r\n    console.log(date);\r\n  }\r\n\r\n  trackById(item, index) {\r\n    return item.id === index;\r\n  }\r\n\r\n  goToExamManagePage() {\r\n    this.router.navigate(['/admin/tests']);\r\n  }\r\n\r\n  changePart(event) {\r\n    this.selectedPartId = event.target.value;\r\n    if (this.selectedPartId > 0) {\r\n      this.questionService.getQuestionListByPartNotDeleted(0, 20, this.selectedPartId).subscribe(res => {\r\n        this.questionList = res.data;\r\n        this.paginationDetail = res.paginationDetails;\r\n        this.questionList.forEach(object => object.isSelected = false);\r\n        console.log(this.questionList);\r\n      });\r\n    } else {\r\n      this.selectedPartId = 0;\r\n    }\r\n\r\n  }\r\n\r\n  checkBoxAll(event) {\r\n    if (this.checkedAll === true) {\r\n      if (this.questionListSelected.length === 0) {\r\n        this.questionListSelected.push(...this.questionList);\r\n      } else if (this.questionListSelected.length === this.questionList.length) {\r\n        return;\r\n      } else {\r\n        this.questionList.forEach(item => {\r\n          const index = this.questionListSelected.findIndex(i => i.id === item.id);\r\n          if (index === -1) {\r\n            this.questionListSelected.push(item);\r\n          }\r\n        });\r\n      }\r\n    } else {\r\n      this.questionListSelected.length = 0;\r\n    }\r\n    this.questionList.forEach(obj => obj.isSelected = this.checkedAll);\r\n\r\n  }\r\n\r\n  getTotalPoint() {\r\n    return this.questionListSelected.reduce((total: number, currentQ: Question) => {\r\n      return total += currentQ.point;\r\n    }, 0);\r\n  }\r\n\r\n  changeChecked(ques: Question) {\r\n    if (ques.isSelected === true) {\r\n      this.questionListSelected.push(ques);\r\n      if (this.questionListSelected.length === this.questionList.length) {\r\n        this.checkedAll = true;\r\n      }\r\n    } else {\r\n      const index = this.questionListSelected.findIndex(item => item.id === ques.id);\r\n      this.questionListSelected.splice(index, 1);\r\n      this.checkedAll = false;\r\n    }\r\n\r\n  }\r\n\r\n  drop(event: CdkDragDrop<string[]>) {\r\n    moveItemInArray(this.questionListSelected, event.previousIndex, event.currentIndex);\r\n  }\r\n\r\n  changeIntake(event) {\r\n    if (event.target.value !== -1) {\r\n      this.courseService.getCourseListByIntakeId(event.target.value).subscribe(res => {\r\n        this.courseList = res;\r\n        this.selectedPartId = -1;\r\n      });\r\n    }\r\n  }\r\n\r\n  removeSelectedQuestion(ques: Question) {\r\n    const index = this.questionListSelected.findIndex(item => item.id === ques.id);\r\n    this.questionListSelected.splice(index, 1);\r\n    ques.isSelected = !ques.isSelected;\r\n    this.checkedAll = false;\r\n\r\n  }\r\n}\r\n","<div class=\"bg-blue-600 md:pt-32 pb-32 pt-12\">\r\n  <div class=\"px-4 md:px-10 mx-auto w-full\">\r\n  </div>\r\n</div>\r\n\r\n<div class=\" mx-auto w-full -m-24\">\r\n  <form novalidate (ngSubmit)=\"onSubmit()\" [formGroup]=\"rfAdd\">\r\n    <div class=\"flex flex-wrap mt-4 justify-center\">\r\n      <div class=\"w-full mb-12 xl:mb-0 px-4 max-w-5xl\">\r\n        <div class=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\r\n          <div class=\"rounded-t mb-0 px-4 py-3 border-0\">\r\n            <div class=\"flex flex-wrap items-center\">\r\n              <div class=\"relative flex justify-between w-full px-4 max-w-full flex-grow leading-8 mb-3\">\r\n                <h3 class=\"font-semibold text-2xl text-gray-800\">\r\n                  Tạo bài kiểm tra\r\n                </h3>\r\n                <button\r\n                  class=\"bg-blue-200 shadow-md hover:bg-blue-300 text-blue-600 border border-gray-400 transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1\"\r\n                  type=\"submit\"><span><i class=\"fa mr-1\"></i>Tạo bài kiểm tra</span>\r\n                </button>\r\n              </div>\r\n              <hr class=\"border w-full my-3\">\r\n              <div class=\"flex flex-wrap flex-col w-full\">\r\n\r\n                <div class=\"flex flex-wrap flex-row\">\r\n                  <div class=\"relative w-full px-4 max-w-full flex-flow flex-basis\">\r\n\r\n                    <p class=\"mx-3 my-3 text-gray-600 text-md text-blue-700 text-xl font-semibold\">Đối tượng tham gia\r\n                    </p>\r\n\r\n                    <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n                      <div class=\"md:w-full px-3\">\r\n                        <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\">\r\n                          Khoá học\r\n                        </label>\r\n                        <select formControlName=\"intake\"\r\n                          class=\"block appearance-none w-full bg-gray-200 py-2 px-3 my-1 mt-3 pr-4 rounded shadow leading-tight focus:outline-none\"\r\n                          (change)=\"changeIntake($event)\">\r\n                          <option value=\"-1\">-- Vui lòng chọn khóa học --</option>\r\n                          <option *ngFor=\"let intake of intakeList\" [value]=\"intake.id\">\r\n                            {{intake.name}}\r\n                          </option>\r\n                        </select>\r\n\r\n                      </div>\r\n                    </div>\r\n\r\n                  </div>\r\n                  <hr class=\"border w-full my-3\">\r\n                  <div class=\"relative w-full px-4 max-w-full flex-flow flex-basis\">\r\n\r\n                    <p class=\"mx-3 my-3 text-gray-600 text-md text-blue-700 text-xl font-semibold\">Thông tin chung</p>\r\n\r\n                    <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n                      <div class=\"md:w-full px-3\">\r\n                        <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\"\r\n                          for=\"test-title\">\r\n                          Đặt tiêu đề\r\n                        </label>\r\n                        <input\r\n                          class=\"appearance-none border rounded-md w-full py-3 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-blue-500\"\r\n                          id=\"test-title\" formControlName=\"testTitle\" type=\"text\"\r\n                          placeholder=\"Nhập tiêu đề cho bài kiểm tra\" autocomplete=\"off\" tabindex=\"1\" required>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n                      <div class=\"md:w-1/2 px-3\">\r\n                        <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\">\r\n                          Chọn môn học\r\n                        </label>\r\n                        <select tabindex=\"2\" name=\"course\" (change)=\"changeCourse($event)\"\r\n                          class=\"block appearance-none w-full bg-gray-200 py-2 px-3 my-1 mt-3 pr-4 rounded shadow leading-tight focus:outline-none\">\r\n                          <option value=\"-1\">-- Vui lòng chọn khóa học --</option>\r\n                          <option *ngFor=\"let course of courseList\" [value]=\"course.id\"\r\n                            [selected]=\"course.id === selectedCourseId\">{{course.name}}</option>\r\n\r\n                        </select>\r\n\r\n                      </div>\r\n                      <div class=\"md:w-1/2 px-3\">\r\n                        <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\">\r\n                          Nội dung\r\n                        </label>\r\n                        <select (change)=\"changePart($event)\" name=\"part\"\r\n                          class=\"block appearance-none w-full bg-gray-200 py-2 px-3 my-1 mt-3 pr-4 rounded shadow leading-tight focus:outline-none\">\r\n                          <option value=\"\">-- Vui lòng chọn phần --</option>\r\n                          <option *ngFor=\"let part of partList\" [selected]=\"part.id===selectedPartId\" [value]=\"part.id\">\r\n                            {{part.name}}</option>\r\n\r\n                        </select>\r\n\r\n                      </div>\r\n                    </div>\r\n\r\n                  </div>\r\n                  <hr class=\"border w-full my-3\">\r\n\r\n\r\n                  <div class=\"relative w-full px-4 max-w-full flex-flow flex-basis\">\r\n\r\n                    <p class=\"mx-3 my-3 text-gray-600 text-md text-blue-700 text-xl font-semibold\">Thiết lập thời\r\n                      gian</p>\r\n                    <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n                      <div class=\"md:w-1/3 px-3\">\r\n                        <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\">\r\n                          Thời gian mở\r\n                        </label>\r\n                        <input\r\n                          class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-blue-500\"\r\n                          type=\"datetime-local\" step=\"1\" formControlName=\"timeBegin\" autocomplete=\"off\" tabindex=\"1\"\r\n                          required>\r\n                      </div>\r\n\r\n                      <div class=\"md:w-1/3 px-3\">\r\n                        <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\">\r\n                          Thời gian đóng\r\n                        </label>\r\n                        <input\r\n                          class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-blue-500\"\r\n                          type=\"datetime-local\" step=\"1\" (input)=\"getBeginTime($event)\" formControlName=\"timeEnd\"\r\n                          autocomplete=\"off\" tabindex=\"1\" required>\r\n                      </div>\r\n                      <div class=\"md:w-1/3 px-3\">\r\n                        <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\">\r\n                          Thời gian làm bài (phút)\r\n                        </label>\r\n                        <input\r\n                          class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-blue-500\"\r\n                          type=\"number\" name=\"timeDuration\" formControlName=\"timeDuration\"\r\n                          (keypress)=\"$event.charCode >= 48\" min=\"1\" autocomplete=\"off\" tabindex=\"1\" required>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <hr class=\"border w-full my-3\">\r\n\r\n\r\n                  <div class=\"relative w-full px-4 max-w-full flex-flow flex-basis\">\r\n                    <p class=\"mx-3 my-3 text-gray-600 text-md text-blue-700 text-xl font-semibold\">Thiết lập khác</p>\r\n\r\n                    <div class=\"-mx-3 md:flex mb-2 w-full items-center\">\r\n                      <div class=\"px-3 flex-1\">\r\n                        <div class=\"radio-type flex-1\">\r\n                          <div class=\"radio-btn\">\r\n                            <input type=\"checkbox\" id=\"shuffle\" name=\"shuffle\" formControlName=\"isShuffle\" />\r\n                            <label for=\"shuffle\">Trộn câu hỏi</label>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"px-3 flex-1\">\r\n                        <div class=\"radio-type flex-1\">\r\n                          <div class=\"radio-btn\">\r\n                            <input type=\"checkbox\" id=\"lockScreen\" name=\"lockScreen\" formControlName=\"isLockScreen\" />\r\n                            <label for=\"lockScreen\">Khóa màn hình khi thi</label>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"px-3 flex flex-row justify-end ml-auto items-center\" style=\"min-width: 300px;\">\r\n                        <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2 mr-2\"\r\n                          for=\"maxPoint\">\r\n                          Tổng điểm tối đa <span class=\"text-red-500\">*</span>\r\n                        </label>\r\n                        <input type=\"number\"\r\n                          class=\"appearance-none border rounded-md w-32 py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-blue-500\"\r\n                          id=\"maxPoint\" formControlName=\"maxPoint\" min=\"1\" required\r\n                          [ngModel]=\"rfAdd.get('maxPoint').value\"\r\n                          (ngModelChange)=\"rfAdd.get('maxPoint').setValue($event)\" autocomplete=\"off\"\r\n                          placeholder=\"Nhập tổng điểm tối đa\">\r\n                        <div *ngIf=\"maxPoint.invalid && (maxPoint.dirty || maxPoint.touched)\"\r\n                          class=\"text-red-500 text-xs italic ml-2\">\r\n                          Tổng điểm tối đa phải lớn hơn hoặc bằng 1\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n\r\n                  <hr class=\"border w-full my-3\">\r\n                  <div class=\"relative w-full px-4 max-w-full flex-flow flex-basis\">\r\n                    <p class=\"mx-3 my-3 text-gray-600 text-md text-blue-700 text-xl font-semibold\">Chọn câu hỏi</p>\r\n                    <p *ngIf=\"selectedPartId===-1\" class=\"text-sm italic text-gray-800\">Vui lòng chọn môn học và nội\r\n                      dung.</p>\r\n                    <div class=\"block w-full overflow-scroll\" style=\"height: 500px\" *ngIf=\"selectedPartId>0\">\r\n                      <!-- Projects table -->\r\n                      <table\r\n                        class=\"items-center w-full bg-transparent border-collapse table-fixed user-list block lg:table overflow-x-auto overflow-y-auto\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th\r\n                              class=\"row-header row-checkbox px-6 bg-gray-100 text-gray-600 align-middle  border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0  font-semibold text-left\">\r\n                              <input type=\"checkbox\" name=\"allCheck\" [value]=\"checkedAll\" [(ngModel)]=\"checkedAll\"\r\n                                [ngModelOptions]=\"{standalone: true}\" (change)=\"checkBoxAll($event)\">\r\n                            </th>\r\n                            <th\r\n                              class=\"row-header row-question px-6 bg-gray-100 text-gray-600 align-middle  border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0  font-semibold text-left\">\r\n                              Câu hỏi\r\n                            </th>\r\n\r\n                            <th\r\n                              class=\"row-header row-type px-6 bg-gray-100 text-gray-600 align-middle  border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0  font-semibold text-left\">\r\n                              Loại câu\r\n                            </th>\r\n                          </tr>\r\n                        </thead>\r\n\r\n                        <tbody>\r\n                          <ng-container *ngFor=\"let ques of questionList; trackBy: trackById\">\r\n                            <tr class=\"border hover:bg-gray-300\">\r\n\r\n                              <td class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-md text-gray-500  p-4\">\r\n                                <input type=\"checkbox\" name=\"noneCheck\" [(ngModel)]=\"ques.isSelected\"\r\n                                  [ngModelOptions]=\"{standalone: true}\" (change)=\"changeChecked(ques)\">\r\n                              </td>\r\n\r\n                              <th class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs p-4 text-left\">\r\n                                <div [innerHTML]=\"ques.questionText\"></div>\r\n                              </th>\r\n\r\n                              \r\n                              <td class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs  p-4\">\r\n                                {{ques.questionType.description}}\r\n                              </td>\r\n\r\n                            </tr>\r\n                          </ng-container>\r\n                        </tbody>\r\n\r\n\r\n                      </table>\r\n                    </div>\r\n\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\r\n          <div class=\"rounded-t mb-0 px-4 py-3 border-0\">\r\n            <div class=\"flex flex-wrap items-center\">\r\n              <div class=\"relative flex flex-col w-full px-4 max-w-full flex-grow leading-8 mb-3\">\r\n                <p class=\"mx-3 my-3 text-gray-600 text-md text-blue-700 text-xl font-semibold\">\r\n                  Câu hỏi đã chọn\r\n                </p>\r\n                <div class=\"flex justify-between my-4 px-2 text-gray-800 font-bold\">\r\n                  <div>\r\n                    <span class=\"mx-1\">Số câu đã chọn:</span>\r\n                    <span class=\"mx-1 text-blue-700\">{{questionListSelected.length}}</span>\r\n                  </div>\r\n                  <div>\r\n                    <span class=\"text-red-500 bg-red-200 rounded px-2 py-1 text-sm\"\r\n                      *ngIf=\"getTotalPoint() > maxPoint.value\">Điểm số vượt quá {{maxPoint.value}}\r\n                    </span>\r\n                    <span class=\"mx-1\">Tổng điểm:</span>\r\n                    <span class=\"mx-1 text-blue-700\">{{getTotalPoint()}}/{{maxPoint.value}}</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div cdkDropList class=\"example-list\" (cdkDropListDropped)=\"drop($event)\">\r\n                  <div class=\"example-box\" *ngFor=\"let ques of questionListSelected; let i = index\" cdkDrag>\r\n                    <div class=\"example-custom-placeholder\" *cdkDragPlaceholder></div>\r\n                    <div class=\"w-full hover:bg-gray-300 flex flex-row items-center\">\r\n                      <div class=\"px-4\">\r\n                        <span class=\"text-gray-600 italic font-semibold text-lg\">#{{i+1}}</span>\r\n                      </div>\r\n                      <div class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs p-4 text-left md:w-1/2\">\r\n                        <div [innerHTML]=\"ques.questionText\"></div>\r\n                      </div>\r\n                      <div class=\"border-t-0 px-6 md:w-1/6 align-middle border-l-0 border-r-0 text-xs  p-4\">\r\n                        {{ques.questionType.description}}\r\n                      </div>\r\n\r\n                      <div class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs  p-4\">\r\n                        <input\r\n                          class=\"appearance-none border text-center text-xl rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-blue-500\"\r\n                          type=\"number\" (keypress)=\"$event.charCode >= 48\" min=\"1\" max=\"100\" autocomplete=\"off\"\r\n                          tabindex=\"1\" required [(ngModel)]=\"ques.point\" [ngModelOptions]=\"{standalone: true}\">\r\n                      </div>\r\n                      <div class=\"mx-2 cursor-pointer\" (click)=\"removeSelectedQuestion(ques)\"><span\r\n                          class=\"hover:bg-red-300 text-red-700 px-2 py-1 bg-red-200 rounded\"><i\r\n                            class=\"fa fa-minus\"></i></span></div>\r\n\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </div>\r\n\r\n    </div>\r\n  </form>\r\n  <app-admin-footer></app-admin-footer>\r\n</div>","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {ExamService} from '../../../_services/exam.service';\nimport {Exam} from '../../../models/exam';\nimport {ExamDetail} from '../../../models/exam-detail';\nimport {ToastrService} from 'ngx-toastr';\nimport {subscribeOn} from 'rxjs/operators';\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-detail-test',\n  templateUrl: './detail-test.component.html',\n  styleUrls: ['./detail-test.component.scss']\n})\nexport class DetailTestComponent implements OnInit {\n\n  examId: number;\n  exam: Exam;\n  question: ExamDetail[] = [];\n  showModalDelete = false;\n\n  now = moment(new Date()).format('YYYY-MM-DD HH:mm:ss');\n\n  constructor(private route: ActivatedRoute,\n              private examService: ExamService,\n              private router: Router,\n              private toast: ToastrService) {\n  }\n\n  ngOnInit(): void {\n    this.getExamDetail();\n  }\n  get isLockedScreen(): boolean {\n    return !!this.exam?.lockScreen;\n  }\n  \n  getExamDetail() {\n    this.examId = Number(this.route.snapshot.paramMap.get('id'));\n    this.examService.getExamById(this.examId).subscribe(res => {\n      this.exam = res;\n    });\n    this.examService.getExamQuestionDetail(this.examId).subscribe(data => {\n      this.question = data;\n    });\n  }\n\n  isAvailable() {\n    const beginDate = moment(this.exam.beginExam).format('YYYY-MM-DD HH:mm:ss');\n    if (moment(beginDate).isAfter(this.now)) {\n      return true;\n    }\n    return false;\n  }\n\n  closeModal() {\n    this.showModalDelete = false;\n  }\n\n\n  toggleModal() {\n    this.showModalDelete = !this.showModalDelete;\n  }\n\n  confirmDelete() {\n    this.examService.cancelExam(this.examId).subscribe(res => {\n      this.toast.success('Đã huỷ bài test', 'Thành công');\n      console.log('ok', res);\n      setTimeout(() => {\n        this.router.navigate(['/admin/tests']);\n      }, 1000);\n    }, error => {\n      this.toast.error('Không thể huỷ bài test', 'Lỗi');\n      console.log('loi: ', error);\n    });\n  }\n}\n","<div class=\"bg-blue-600 md:pt-32 pb-32 pt-12\">\r\n  <div class=\"px-4 md:px-10 mx-auto w-full\">\r\n    <a [routerLink]=\"['/admin/tests']\" class=\"text-white cursor-pointer hover:underline\"><i\r\n        class=\"fa fa-long-arrow-left\"></i><span class=\"mx-2\">Quay về danh sách test</span></a>\r\n\r\n  </div>\r\n</div>\r\n\r\n<div class=\" mx-auto w-full -m-24\" *ngIf=\"exam\">\r\n  <form>\r\n    <div class=\"flex flex-wrap mt-4 justify-center\">\r\n      <div class=\"w-full mb-12 xl:mb-0 px-4 max-w-5xl\">\r\n        <div class=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\r\n          <div class=\"rounded-t mb-0 px-4 py-3 border-0\">\r\n            <div class=\"flex flex-wrap items-center\">\r\n              <div class=\"relative flex justify-between w-full px-4 max-w-full flex-grow leading-8 mb-3\">\r\n                <h3 class=\"font-semibold text-2xl text-gray-800\">\r\n                  Chi tiết bài test <span class=\"text-gray-500\">#{{exam.id}}</span>\r\n                </h3>\r\n                <button *ngIf=\"!exam.canceled && isAvailable()\" (click)=\"toggleModal()\"\r\n                  class=\"px-2 py-1 rounded bg-gray-300 text-gray-700 hover:bg-gray-400\">\r\n                  Huỷ bài test\r\n                </button>\r\n                <span *ngIf=\"exam.canceled\" class=\"px-2 py-1 rounded bg-red-300 text-red-700\">Đã huỷ</span>\r\n              </div>\r\n              <hr class=\"border w-full my-3\">\r\n              <div class=\"flex flex-wrap flex-col w-full\">\r\n\r\n                <div class=\"flex flex-wrap flex-row\">\r\n                  <div class=\"relative w-full px-4 max-w-full flex-flow flex-basis\">\r\n\r\n                    <p class=\"mx-3 my-3 text-gray-600 text-md text-blue-700 text-xl font-semibold\">Đối tượng tham\r\n                      gia</p>\r\n\r\n                    <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n                      <div class=\"md:w-full px-3\">\r\n                        <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\">\r\n                          Khoá thực tập\r\n                        </label>\r\n                        <select name=\"intake\"\r\n                          class=\"block appearance-none w-full bg-gray-200 py-2 px-3 my-1 mt-3 pr-4 rounded shadow leading-tight focus:outline-none\">\r\n                          <option [disabled]=\"true\">{{exam.intake.name}}</option>\r\n\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n\r\n                  </div>\r\n                  <hr class=\"border w-full my-3\">\r\n                  <div class=\"relative w-full px-4 max-w-full flex-flow flex-basis\">\r\n\r\n                    <p class=\"mx-3 my-3 text-gray-600 text-md text-blue-700 text-xl font-semibold\">Thông tin chung</p>\r\n\r\n                    <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n                      <div class=\"md:w-full px-3\">\r\n                        <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\">\r\n                          Tiêu đề\r\n                        </label>\r\n\r\n                        <div><span class=\"px-2 py-1 bg-blue-200 text-blue-700 rounded\">{{exam.title}}</span></div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n                      <div class=\"md:w-1/2 px-3\">\r\n                        <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold my-2\">\r\n                          Môn học\r\n                        </label>\r\n                        <select tabindex=\"2\" name=\"course\"\r\n                          class=\"block appearance-none w-full bg-gray-200 py-2 px-3 my-1 mt-3 pr-4 rounded shadow leading-tight focus:outline-none\">\r\n                          <option [value]=\"exam.part.course.id\">{{exam.part.course.name}}</option>\r\n\r\n                        </select>\r\n\r\n                      </div>\r\n                      <div class=\"md:w-1/2 px-3\">\r\n                        <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold my-2\">\r\n                          Nội dung\r\n                        </label>\r\n                        <select name=\"part\"\r\n                          class=\"block appearance-none w-full bg-gray-200 py-2 px-3 my-1 mt-3 pr-4 rounded shadow leading-tight focus:outline-none\">\r\n                          <option [value]=\"exam.part.id\">{{exam.part.name}}</option>\r\n\r\n                        </select>\r\n\r\n                      </div>\r\n                    </div>\r\n\r\n                  </div>\r\n                  <hr class=\"border w-full my-3\">\r\n                  <div class=\"relative w-full px-4 max-w-full flex-flow flex-basis\">\r\n\r\n                    <p class=\"mx-3 my-3 text-gray-600 text-md text-blue-700 text-xl font-semibold\">Thiết lập thời\r\n                      gian</p>\r\n                    <div class=\"-mx-3 md:flex mb-2 w-full justify-around\">\r\n                      <div class=\"md:w-1/3 px-3\">\r\n                        <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\">\r\n                          Thời gian mở\r\n                        </label>\r\n                        <div>{{exam.beginExam | date: 'medium'}}</div>\r\n                      </div>\r\n\r\n                      <div class=\"md:w-1/3 px-3\">\r\n                        <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\">\r\n                          Thời gian đóng\r\n                        </label>\r\n                        <div>{{exam.finishExam | date: 'medium'}}</div>\r\n                      </div>\r\n                      <div class=\"md:w-1/3 px-3\">\r\n                        <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\">\r\n                          Thời gian làm bài (phút)\r\n                        </label>\r\n                        <div>{{exam.durationExam}}</div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <hr class=\"border w-full my-3\">\r\n                  <div class=\"relative w-full px-4 max-w-full flex-flow flex-basis\">\r\n                    <p class=\"mx-3 my-3 text-gray-600 text-md text-blue-700 text-xl font-semibold\">Thiết lập khác</p>\r\n                    <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n                      <div class=\"w-64 px-3\">\r\n                        <div class=\"radio-type flex-1\">\r\n                          <div class=\"radio-btn\">\r\n                            <input type=\"checkbox\" id=\"shuffle\" name=\"shuffle\" [checked]=\"exam.shuffle\"\r\n                              [disabled]=\"true\" />\r\n\r\n                            <label for=\"shuffle\">Trộn câu hỏi</label>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"w-64 px-3\">\r\n                        <div class=\"radio-type flex-1\">\r\n                          <div class=\"radio-btn\">\r\n                            <input type=\"checkbox\" id=\"lockScreen\" name=\"lockScreen\" [checked]=\"exam.lockScreen\"\r\n                              [disabled]=\"true\" />\r\n                            <label for=\"lockScreen\">Khóa màn hình khi thi</label>\r\n                            <span class=\"text-sm text-blue-700 font-semibold\">\r\n                              Tổng điểm tối đa: {{ exam.maxPoint !== undefined && exam.maxPoint !== null ? exam.maxPoint\r\n                              : 100 }}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\r\n          <div class=\"rounded-t mb-0 px-4 py-3 border-0\">\r\n            <div class=\"flex flex-wrap items-center\">\r\n              <div class=\"relative flex flex-col w-full px-4 max-w-full flex-grow leading-8 mb-3\">\r\n                <p class=\"mx-3 my-3 text-gray-600 text-md text-blue-700 text-xl font-semibold\">\r\n                  Câu hỏi đã chọn\r\n                </p>\r\n                <div class=\"flex justify-between my-4 px-2 text-gray-800 font-bold\">\r\n                  <div>\r\n                    <span class=\"mx-1\">Số câu đã chọn:</span>\r\n                    <span class=\"mx-1 text-blue-700\">{{question.length}}</span>\r\n                  </div>\r\n                </div>\r\n                <div class=\"example-list\">\r\n                  <div class=\"example-box\" *ngFor=\"let ques of question; let i = index\">\r\n                    <div class=\"w-full hover:bg-gray-300 flex flex-row items-center\">\r\n                      <div class=\"px-4 w-20\">\r\n                        <span class=\"text-gray-600 italic font-semibold text-lg\">#{{i + 1}}</span>\r\n                      </div>\r\n                      <div class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs p-4 text-left md:w-3/5\">\r\n                        <div [innerHTML]=\"ques.questionText\"></div>\r\n                      </div>\r\n\r\n                      \r\n                      <div class=\"border-t-0 px-6 md:w-1/6 align-middle text-center border-l-0 border-r-0 text-xs  p-4\">\r\n                        {{ques.questionType}}\r\n                      </div>\r\n\r\n                      <td class=\"border-t-0 px-6 align-middle text-right border-l-0 border-r-0 text-xs  p-4\">\r\n                        <div class=\"text-xl\">{{ques.point}}</div>\r\n                      </td>\r\n\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </div>\r\n\r\n    </div>\r\n  </form>\r\n  <div *ngIf=\"showModalDelete\"\r\n    class=\"fixed inset-0 overflow-auto z-50 outline-none focus:outline-none justify-center flex\">\r\n    <div class=\"relative w-4/5 my-5 mx-auto max-w-2xl\" style=\"margin-top: 2.5rem\">\r\n      <!--content-->\r\n      <div\r\n        class=\"border-0 rounded-lg shadow-lg relative flex flex-col w-full overflow-y-auto my-5 bg-white outline-none focus:outline-none\"\r\n        style=\"max-height: 90%\">\r\n        <!--header-->\r\n        <div class=\"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t\">\r\n          <h3 class=\"text-2xl font-semibold\">Huỷ bài test</h3>\r\n          <button\r\n            class=\"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none\"\r\n            (click)=\"closeModal()\">\r\n            <span\r\n              class=\"bg-transparent text-gray-700 opacity-5 h-3 w-3 text-base block outline-none focus:outline-none\">\r\n              <i class=\"fa fa-close\"></i>\r\n            </span>\r\n          </button>\r\n        </div>\r\n        <!--body-->\r\n        <div class=\"relative p-3\">\r\n          <div\r\n            class=\"my-4 px-8 text-gray-600 text-base leading-relaxed text-left flex-row flex flex-wrap justify-center lg:justify-start items-center\">\r\n            Bài test này sẽ được huỷ?\r\n          </div>\r\n        </div>\r\n        <!--footer-->\r\n        <div class=\"flex items-center justify-end p-6 border-t border-solid border-gray-300 rounded-b\">\r\n          <button\r\n            class=\"bg-white shadow-md hover:bg-red-500 hover:text-red-200 transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1\"\r\n            type=\"button\" (click)=\"confirmDelete()\"><span><i class=\"fa fa-trash mr-1\"></i>Có, huỷ ngay</span>\r\n          </button>\r\n          <button\r\n            class=\"shadow-md bg-gray-600 text-gray-100 hover:bg-gray-700 hover:text-gray-200 transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1\"\r\n            type=\"button\" (click)=\"closeModal()\"><span><i class=\"fa fa-window-close mr-1\"></i>Để xem lại</span>\r\n          </button>\r\n\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div *ngIf=\"showModalDelete\" class=\"fixed inset-0 z-40 bg-smoke-light\"></div>\r\n\r\n  <app-admin-footer></app-admin-footer>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { ExamService } from '../../_services/exam.service';\r\nimport { Exam } from '../../models/exam';\r\nimport { PaginationDetail } from '../../models/pagination/pagination-detail';\r\nimport { delay } from 'rxjs/operators';\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-manage-test',\r\n  templateUrl: './manage-test.component.html',\r\n  styleUrls: ['./manage-test.component.scss']\r\n})\r\nexport class ManageTestComponent implements OnInit {\r\n  examList: Exam[] = [];\r\n  paginationDetail: PaginationDetail;\r\n  skeleton = true;\r\n  now = moment(new Date()).format('YYYY-MM-DD HH:mm:ss');\r\n\r\n  pageOptions: any = [\r\n    { display: 20, num: 20 },\r\n    { display: 50, num: 50 },\r\n    { display: 100, num: 100 },\r\n    { display: 'Tất cả', num: '' },\r\n  ];\r\n  pageCountShowing = 20;\r\n  selectMode = false; // Trạng thái chọn/xóa\r\n  selectedExamIds: number[] = []; // Danh sách id các bài thi được chọn\r\n  allChecked = false; // Trạng thái checkbox \"chọn tất cả\"  \r\n  constructor(private examService: ExamService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.fetchExamList();\r\n  }\r\n\r\n  fetchExamList() {\r\n    this.examService.getAllExams(0, 20).subscribe(res => {\r\n      this.examList = res.data;\r\n      this.paginationDetail = res.paginationDetails;\r\n      this.skeleton = false;\r\n    });\r\n  }\r\n\r\n  trackById(item, index) {\r\n    return item.id === index;\r\n  }\r\n\r\n  changePageShow(value: any) {\r\n    this.pageCountShowing = value;\r\n    if (!value) {\r\n      this.skeleton = true;\r\n      this.examService.getAllExams(0, this.paginationDetail.totalCount).subscribe(res => {\r\n        this.examList = res.data;\r\n        this.paginationDetail = res.paginationDetails;\r\n        this.skeleton = false;\r\n      });\r\n    } else {\r\n      this.skeleton = true;\r\n      this.examService.getAllExams(0, value).subscribe(res => {\r\n        this.examList = res.data;\r\n        this.paginationDetail = res.paginationDetails;\r\n        this.skeleton = false;\r\n      });\r\n    }\r\n  }\r\n\r\n  getStatusExam(exam: Exam) {\r\n    const beginDate = moment(exam.beginExam).format('YYYY-MM-DD HH:mm:ss');\r\n    const finishDate = moment(exam.finishExam).format('YYYY-MM-DD HH:mm:ss');\r\n\r\n    if (moment(beginDate).isAfter(this.now)) {\r\n      return 0;\r\n    } else if (moment(finishDate).isBefore(this.now)) {\r\n      return -1;\r\n    }\r\n    return 1;\r\n  }\r\n\r\n  goPreviousPage() {\r\n    const isFirstPage: boolean = this.paginationDetail.isFirstPage;\r\n    if (!isFirstPage) {\r\n      this.examService.getAllExams(this.paginationDetail.previousPage.pageNumber, this.pageCountShowing)\r\n        .subscribe(res => {\r\n          this.examList = res.data;\r\n          this.paginationDetail = res.paginationDetails;\r\n        });\r\n    }\r\n\r\n  }\r\n\r\n  goNextPage() {\r\n    const isLastPage = !this.paginationDetail.nextPage.available;\r\n    if (!isLastPage) {\r\n      this.examService.getAllExams(this.paginationDetail.nextPage.pageNumber, this.pageCountShowing\r\n      ).subscribe(res => {\r\n        this.examList = res.data;\r\n        this.paginationDetail = res.paginationDetails;\r\n      });\r\n    }\r\n  }\r\n  enterSelectMode() {\r\n    this.selectMode = true;\r\n    this.selectedExamIds = [];\r\n    this.allChecked = false;\r\n  }\r\n  cancelSelectMode() {\r\n    this.selectMode = false;\r\n    this.selectedExamIds = [];\r\n    this.allChecked = false;\r\n  }\r\n  toggleExamSelection(examId: number, checked: boolean) {\r\n    if (checked) {\r\n      if (!this.selectedExamIds.includes(examId)) {\r\n        this.selectedExamIds.push(examId);\r\n      }\r\n    } else {\r\n      this.selectedExamIds = this.selectedExamIds.filter(id => id !== examId);\r\n    }\r\n    // Nếu bỏ chọn bất kỳ checkbox, bỏ chọn \"chọn tất cả\"\r\n    if (!checked) {\r\n      this.allChecked = false;\r\n    } else if (this.selectedExamIds.length === this.examList.length) {\r\n      this.allChecked = true;\r\n    }\r\n  }\r\n\r\n  toggleSelectAll(checked: boolean) {\r\n    this.allChecked = checked;\r\n    if (checked) {\r\n      this.selectedExamIds = this.examList.map(e => e.id);\r\n    } else {\r\n      this.selectedExamIds = [];\r\n    }\r\n  }\r\n  onDeleteSelectedExams() {\r\n    if (confirm(`Bạn chắc chắn muốn xóa ${this.selectedExamIds.length} bài thi đã chọn?`)) {\r\n      this.examService.deleteManyExams(this.selectedExamIds).subscribe(\r\n        res => {\r\n          this.fetchExamList();\r\n          this.cancelSelectMode();\r\n        },\r\n        err => {\r\n          alert('Xóa thất bại!');\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"bg-blue-600 md:pt-32 pb-32 pt-12\">\r\n  <div class=\"px-4 md:px-10 mx-auto w-full\">\r\n  </div>\r\n</div>\r\n\r\n<div class=\" mx-auto w-full -m-24\">\r\n\r\n  <div class=\"flex flex-wrap mt-4 justify-center\">\r\n    <div class=\"w-full mb-12 xl:mb-0 px-4 max-w-5xl\">\r\n      <div class=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\r\n        <div class=\"rounded-t mb-0 px-4 py-3 border-0\">\r\n          <div class=\"flex flex-wrap items-center\">\r\n            <div class=\"relative w-full px-4 max-w-full flex-grow leading-8 mb-3\">\r\n              <h3 class=\"font-semibold text-2xl text-gray-800\">\r\n                Danh sách bài kiểm tra\r\n              </h3>\r\n            </div>\r\n            <div class=\"flex flex-wrap flex-col w-full\">\r\n              <div class=\"flex flex-wrap flex-row\">\r\n\r\n                <div class=\"relative w-full px-4 max-w-full flex-flow flex-basis\">\r\n\r\n                  <span class=\"mx-3 text-gray-600 text-sm\">Hiển thị tối đa</span>\r\n                  <div class=\"inline-block relative max-w-xs w-20 mr-2\">\r\n                    <select\r\n                      class=\"block appearance-none w-full bg-white px-3 py-1 pr-4 rounded shadow leading-tight focus:outline-none text-sm\"\r\n                      (change)=\"changePageShow($event.target.value)\">\r\n                      <option *ngFor=\"let item of pageOptions\" [value]=\"item.num\" [selected]=\"item.num == 20\">\r\n                        {{item.display}}</option>\r\n\r\n                    </select>\r\n                    <div class=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\r\n                      <svg class=\"fill-current h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\r\n                        <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" />\r\n                      </svg>\r\n                    </div>\r\n                  </div>\r\n                  <a class=\"bg-white shadow-md hover:bg-blue-500 hover:text-white transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-2 rounded outline-none focus:outline-none mx-1 mb-1\"\r\n                    type=\"button\" [routerLink]=\"['./add-test']\"><span><i class=\"fa fa-book mr-1\"></i>Thêm mới</span>\r\n                  </a>\r\n                  <button *ngIf=\"!selectMode\"\r\n                    class=\"bg-white shadow-md hover:bg-red-500 hover:text-white transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-2 rounded outline-none focus:outline-none mx-1 mb-1\"\r\n                    (click)=\" enterSelectMode()\">\r\n                    <i class=\"fa fa-trash mr-1\"></i> Chọn bài thi để xóa\r\n                  </button>\r\n                  <div *ngIf=\"selectMode\" class=\"inline-block\">\r\n                    <button\r\n                      class=\"bg-red-600 shadow-md hover:bg-red-700 text-white transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mx-1 mb-1\"\r\n                      [disabled]=\"selectedExamIds.length === 0\" (click)=\"onDeleteSelectedExams()\">\r\n                      <i class=\"fa fa-trash mr-1\"></i> Xóa bài thi\r\n                    </button>\r\n                    <button\r\n                      class=\"bg-smoke-light shadow-md hover:bg-smoke-light hover:text-white transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mx-1 mb-1\"\r\n                      (click)=\"cancelSelectMode()\">\r\n                      <i class=\"fa fa-times mr-1\"></i> Hủy chọn\r\n                    </button>\r\n                  </div>\r\n\r\n                </div>\r\n              </div>\r\n              <!--              <form (ngSubmit)=\"searchUser(searchKeyWord)\">-->\r\n              <!--                <div class=\"p-2 flex justify-end\">-->\r\n              <!--                  <div class=\"bg-white flex items-center rounded-full shadow-md w-1/3\">-->\r\n\r\n              <!--                    <input [(ngModel)]=\"searchKeyWord\" name=\"search-input\" class=\"rounded-l-full w-full py-2 px-6 text-gray-700 leading-tight focus:outline-none\"-->\r\n              <!--                           id=\"search\" type=\"text\" placeholder=\"Nhập username hoặc email\" autocomplete=\"off\">-->\r\n\r\n              <!--                    <div class=\"p-1\">-->\r\n              <!--                      <button class=\"focus:outline-none flex items-center\" type=\"submit\">-->\r\n              <!--                        <i class=\"fa fa-search bg-blue-500 text-white rounded-full p-1 pt-2 truncate hover:bg-blue-400 focus:outline-none w-8 h-8 flex items-center justify-center\">-->\r\n              <!--                        </i>-->\r\n              <!--                      </button>-->\r\n\r\n              <!--                    </div>-->\r\n              <!--                  </div>-->\r\n              <!--                </div>-->\r\n              <!--              </form>-->\r\n\r\n            </div>\r\n\r\n\r\n          </div>\r\n        </div>\r\n        <div class=\"block w-full\">\r\n          <!-- Projects table -->\r\n          <table\r\n            class=\"items-center w-full bg-transparent border-collapse whitespace-no-wrap user-list block lg:table overflow-x-auto overflow-y-auto\">\r\n            <thead>\r\n              <tr>\r\n                <th *ngIf=\"selectMode\"\r\n                  class=\"row-title px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left w-40\">\r\n                  <div class=\"flex items-center gap-2\">\r\n                    <input type=\"checkbox\" [(ngModel)]=\"allChecked\" class=\"h-4 w-4\"\r\n                      (change)=\"toggleSelectAll($event.target.checked)\">\r\n                    <span class=\"font-semibold uppercase\">Chọn tất cả</span>\r\n                  </div>\r\n                </th>\r\n                <th\r\n                  class=\"row-title px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\r\n                  Tiêu đề\r\n                </th>\r\n\r\n                <th\r\n                  class=\"row-name px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\r\n                  Thời gian bắt đầu\r\n                </th>\r\n                <th\r\n                  class=\"row-name px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\r\n                  Trạng thái\r\n                </th>\r\n                <th\r\n                  class=\"row-name px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\r\n                  Intake\r\n                </th>\r\n\r\n                <th\r\n                  class=\"row-action px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              <ng-container *ngFor=\"let exam of examList; trackBy: trackById\">\r\n                <tr class=\"border hover:bg-gray-300\">\r\n                  <td *ngIf=\"selectMode\" class=\"px-6 py-3 flex items-center justify-center align-middle\">\r\n                    <input type=\"checkbox\" class=\"form-checkbox h-4 w-4 text-blue-600\"\r\n                      [checked]=\"selectedExamIds.includes(exam.id)\"\r\n                      (change)=\"toggleExamSelection(exam.id, $event.target.checked)\">\r\n                  </td>\r\n                  <td\r\n                    class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-md font-semibold text-gray-800 whitespace-no-wrap p-4\">\r\n                    <a [routerLink]=\"[exam.id, 'preview']\" [tooltip]=\"'Xem chi tiết'\" class=\"hover:text-blue-700\"><span\r\n                        *ngIf=\"exam.canceled\" class=\"mx-2 text-gray-600 text-sm\">(Đã huỷ)</span>{{exam.title}}</a>\r\n                  </td>\r\n                  <td\r\n                    class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-sm whitespace-no-wrap p-4 text-left\">\r\n                    {{exam.beginExam | date: 'medium'}}\r\n                  </td>\r\n\r\n                  <td class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\r\n                    <ng-container *ngIf=\"!exam.canceled && getStatusExam(exam)==0\">\r\n                      <span class=\"text-gray-700 bg-gray-200 rounded px-2 py-1\">Chưa bắt đầu</span>\r\n                    </ng-container>\r\n                    <ng-container *ngIf=\"!exam.canceled && getStatusExam(exam)==-1\">\r\n                      <span class=\"text-red-700 bg-red-200 rounded px-2 py-1\">Kết thúc</span>\r\n                    </ng-container>\r\n                    <ng-container *ngIf=\"!exam.canceled && getStatusExam(exam)==1\">\r\n                      <span class=\"text-green-700 bg-green-200 rounded px-2 py-1\">Đang diễn ra</span>\r\n                    </ng-container>\r\n                    <ng-container *ngIf=\"exam.canceled\">\r\n                      <span class=\"text-red-900 bg-red-400 rounded px-2 py-1\">Đã huỷ</span>\r\n                    </ng-container>\r\n\r\n                  </td>\r\n                  <td class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\r\n                    {{exam.intake.name}}\r\n                  </td>\r\n                  <td\r\n                    class=\"border-t-0 px-6 align-middle flex justify-between border-l-0 border-r-0 text-xs whitespace-no-wrap p-4 w-full\">\r\n\r\n                    <a [routerLink]=\"[exam.id, 'users']\" *ngIf=\"!exam.canceled\" [tooltip]=\"'Kết quả người dùng'\"\r\n                      class=\"bg-white shadow-md hover:bg-blue-500 hover:text-gray-200 cursor-pointer transition duration-200 ease-in-out text-xs font-bold uppercase rounded outline-none focus:outline-none px-2 py-1\">\r\n                      <span><i class=\"fa fa-users\"></i></span>\r\n                    </a>\r\n                  </td>\r\n\r\n                </tr>\r\n              </ng-container>\r\n            </tbody>\r\n\r\n\r\n          </table>\r\n          <ng-container *ngIf=\"skeleton\">\r\n            <app-table-skeleton [type]=\"'exam'\"></app-table-skeleton>\r\n            <app-table-skeleton [type]=\"'exam'\"></app-table-skeleton>\r\n            <app-table-skeleton [type]=\"'exam'\"></app-table-skeleton>\r\n          </ng-container>\r\n        </div>\r\n\r\n        <div *ngIf=\"examList.length!==0\"\r\n          class=\"px-4 py-3 bg-white border-t flex flex-row justify-between xs:flex-row items-center xs:justify-between\">\r\n          <span class=\"text-xs xs:text-sm text-gray-700 px-4\">\r\n            Hiển thị {{paginationDetail?.isLastPage ? paginationDetail?.totalCount - paginationDetail.pageCount + 1 :\r\n            paginationDetail?.pageNumber * paginationDetail?.pageCount + 1}}\r\n            đến {{paginationDetail?.isLastPage ? paginationDetail.totalCount : (paginationDetail?.pageNumber + 1) *\r\n            paginationDetail?.pageCount}}\r\n            trong số {{paginationDetail?.totalCount}} kết quả\r\n          </span>\r\n          <div class=\"inline-flex mt-2 px-4 xs:mt-0\">\r\n            <button\r\n              class=\"text-sm bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded-l focus:outline-none\"\r\n              (click)=\"goPreviousPage()\">\r\n              <span><i class=\"fa fa-arrow-left\"></i></span><span class=\"hidden md:inline ml-1 \">Trước</span>\r\n            </button>\r\n            <button\r\n              class=\"text-sm bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded-r focus:outline-none\"\r\n              (click)=\"goNextPage()\">\r\n              <span class=\"hidden md:inline mr-1\">Sau</span><span><i class=\"fa fa-arrow-right\"></i></span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <ng-container *ngIf=\"examList.length==0 && !skeleton\">\r\n          <div\r\n            class=\"px-4 py-3 bg-white border-t flex flex-row justify-between xs:flex-row items-center xs:justify-between\">\r\n            <p class=\"mx-auto text-gray-700 text-sm\">Nội dung chưa được tạo</p>\r\n          </div>\r\n        </ng-container>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <app-admin-footer></app-admin-footer>\r\n</div>","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {ExamService} from '../../../_services/exam.service';\nimport {ExamResult} from '../../../models/exam-result';\nimport {Location} from '@angular/common';\nimport {UserService} from '../../../_services/user.service';\nimport {UserAccount} from '../../../models/user-account';\n\n@Component({\n  selector: 'app-user-test-result',\n  templateUrl: './user-test-result.component.html',\n  styleUrls: ['./user-test-result.component.scss']\n})\nexport class UserTestResultComponent implements OnInit {\n\n  username: string;\n  examId: number;\n  result: ExamResult;\n  user: UserAccount;\n  maxPoint: number = 100; // ✅ Thêm biến này, mặc định 100\n\n  constructor(private route: ActivatedRoute,\n              private examService: ExamService,\n              private userService: UserService,\n              private location: Location) {\n  }\n\n  ngOnInit(): void {\n    this.getResult();\n  }\n\n  getResult() {\n    this.username = this.route.snapshot.paramMap.get('username');\n    this.examId = Number(this.route.snapshot.paramMap.get('id'));\n    this.examService.getResultExamByUser(this.examId, this.username).subscribe(res => {\n      this.result = res;\n      // ✅ Gán maxPoint từ backend, fallback 100 nếu không có\n      if (res && res.exam && res.exam.maxPoint !== undefined && res.exam.maxPoint !== null) {\n        this.maxPoint = res.exam.maxPoint;\n      } else {\n        this.maxPoint = 100;\n      }\n      // debug\n      console.log('Max Point:', this.maxPoint);\n      // debug questions\n      this.result.choiceList.forEach((ques, index) => {\n        console.log(`--- Question ${index + 1} ---`);\n        console.log('Question Text:', ques.question.questionText);\n        console.log('Choices:', ques.choices.map(c => ({\n          text: c.choice.choiceText,\n          isCorrected: c.choice.isCorrected,\n          isRealCorrect: c.isRealCorrect\n        })));\n      }); \n    });\n    this.userService.getUserInfo(this.username).subscribe(res => {\n      this.user = res.data;\n    });\n  }\n  getFailMax(): number {\n    return Math.floor(this.maxPoint * 0.49);\n  }\n  \n  getAverageMin(): number {\n    return Math.floor(this.maxPoint * 0.5);\n  }\n  getAverageMax(): number {\n    return Math.floor(this.maxPoint * 0.79);\n  }\n  getPassMin(): number {\n    return Math.floor(this.maxPoint * 0.8);\n  }\n  \n  goBack() {\n    this.location.back();\n  }\n}\n","<div class=\"bg-blue-600 md:pt-32 pb-32 pt-12\">\r\n  <div class=\"px-4 md:px-10 mx-auto w-full\">\r\n    <div (click)=\"goBack()\" class=\"text-white cursor-pointer hover:underline\"><i class=\"fa fa-long-arrow-left\"></i><span\r\n        class=\"mx-2\">Quay lại</span></div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\" mx-auto w-full -m-24\">\r\n  <div class=\"flex flex-wrap mt-4 justify-center\">\r\n    <div class=\"w-full mb-12 xl:mb-0 px-4 max-w-5xl\">\r\n      <div class=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\r\n        <div class=\"rounded-t mb-0 px-4 py-3 border-0\">\r\n          <div class=\"flex flex-wrap items-center\">\r\n            <div class=\"relative w-full px-4 max-w-full flex-grow leading-8 mb-3\">\r\n              <h3 class=\"my-3 mb-8 text-2xl text-gray-800\" *ngIf=\"result\">\r\n                Kết quả bài test - <span\r\n                  class=\"px-2 py-1 rounded bg-blue-200 text-blue-700\">{{result?.exam.title}}</span>\r\n              </h3>\r\n              <p class=\"text-2xl text-gray-700 my-4\">{{user?.profile?.lastName}} {{user?.profile?.firstName}}</p>\r\n              <p class=\"mb-3\"><span class=\"mx-2\"><i class=\"fa fa-clock-o\"></i></span>Thời gian làm bài:\r\n                {{result?.remainingTime | formatTime}} s</p>\r\n              <p class=\"mb-3\"><span class=\"mx-2\"><i class=\"fa fa-calendar\"></i></span>Ngày hoàn thành:\r\n                {{result?.userTimeFinish | date: 'medium'}}</p>\r\n            </div>\r\n\r\n\r\n          </div>\r\n\r\n        </div>\r\n        <div class=\"block w-full\">\r\n\r\n          <div class=\"w-full py-5\" *ngIf=\"result\">\r\n            <app-result-circle [current]=\"result?.totalPoint\" [max]=\"maxPoint\"></app-result-circle>\r\n            <div class=\"flex justify-center\">\r\n              <div class=\"inline-flex bg-gray-300 mt-5 py-2 mx-auto rounded-full \">\r\n                <span class=\"mx-5 fail flex items-center\">0-{{ getFailMax() }}</span>\r\n                <span class=\"mx-5 average flex items-center\">{{ getAverageMin() }}-{{ getAverageMax() }}</span>\r\n                <span class=\"mx-5 pass flex items-center\">{{ getPassMin() }}-{{ maxPoint }}</span>\r\n              </div>\r\n            </div>\r\n            <ng-container *ngFor=\"let ques of result.choiceList; let i = index\">\r\n              <div class=\"my-12 mx-4 flex flex-row\">\r\n                <div class=\"flex flex-col mx-4 mx-2 mb-3 pb-2\">\r\n                  <div class=\"w-48 bg-gray-300 rounded-md ml-0 flex flex-col  items-center\">\r\n                    <div class=\"font-bold text-gray-600 text-xl my-2\">Câu hỏi {{i + 1}}</div>\r\n                    \r\n                    <div class=\"py-2 text-gray-600\">{{ques.point}} điểm</div>\r\n                  </div>\r\n                  <div class=\"w-full text-center font-bold pr-2 bg-red-300 text-red-600 mt-2 py-2 rounded-md\"\r\n                    [ngClass]=\"ques?.isSelectedCorrected==true? 'bg-green-300 text-green-600': 'bg-red-300 text-red-600'\">\r\n                    {{ques?.isSelectedCorrected == true ? 'Đúng' : 'Sai'}}</div>\r\n\r\n                </div>\r\n\r\n                <div class=\"bg-gray-300 rounded-md shadow-lg px-8 py-6 w-full\">\r\n                  <div class=\"my-4\"><span class=\"font-bold\">Q {{i + 1}}: </span>\r\n                    <p class=\"select-none\" [innerHTML]=\"ques.question.questionText\"></p>\r\n                  </div>\r\n                  <div class=\"h-auto\">\r\n\r\n                    <!--        Answer-->\r\n                    <ng-container *ngFor=\"let userChoice of ques.choices\">\r\n                      <ng-container [ngSwitch]=\"ques.question.questionType.typeCode\">\r\n                        <ng-template [ngSwitchCase]=\"'TF'\">\r\n                          <div class=\"flex w-full\">\r\n                            <div class=\"radio-type flex-1 flex items-center\">\r\n                              <span class=\"text-2xl pr-2 w-8\">\r\n                                <ng-container *ngIf=\"userChoice.choice.choiceText=='True'\">\r\n                                  <i *ngIf=\"(userChoice.isRealCorrect==1 && userChoice.choice.isCorrected==1)||(userChoice.isRealCorrect==1 && userChoice.choice.isCorrected==0)\"\r\n                                    class=\"fa fa-check text-green-600\"></i>\r\n                                  <i *ngIf=\"userChoice.isRealCorrect==0 && userChoice.choice.isCorrected==1\"\r\n                                    class=\"fa fa-close text-red-600\"></i>\r\n                                </ng-container>\r\n                              </span>\r\n                              <div class=\"radio-btn w-full\">\r\n                                <input type=\"radio\" name=\"choicesTF-{{ques.question.id}}\" value=\"True\"\r\n                                  [checked]=\"userChoice.choice.choiceText=='True' && userChoice.choice.isCorrected==1\"\r\n                                  disabled=\"true\" />\r\n                                <label class=\"select-none\">Đúng</label>\r\n                              </div>\r\n                            </div>\r\n\r\n                            <div class=\"radio-type flex-1 flex items-center\">\r\n                              <span class=\"text-2xl pr-2 w-8\">\r\n                                <ng-container *ngIf=\"userChoice.choice.choiceText=='False'\">\r\n                                  <i *ngIf=\"(userChoice.isRealCorrect==1 && userChoice.choice.isCorrected==1)||(userChoice.isRealCorrect==1 && userChoice.choice.isCorrected==0)\"\r\n                                    class=\"fa fa-check text-green-600\"></i>\r\n                                  <i *ngIf=\"userChoice.isRealCorrect==0 && userChoice.choice.isCorrected==1\"\r\n                                    class=\"fa fa-close text-red-600\"></i>\r\n                                </ng-container>\r\n                              </span>\r\n                              <div class=\"radio-btn w-full\">\r\n                                <input type=\"radio\" id=\"false-{{ques.question.id}}\"\r\n                                  name=\"choicesTF-{{ques.question.id}}\" value=\"False\"\r\n                                  [checked]=\"userChoice.choice.choiceText=='False' && userChoice.choice.isCorrected==1\" />\r\n                                <label for=\"false-{{ques.question.id}}\" class=\"select-none\">Sai</label>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </ng-template>\r\n\r\n                        <ng-template [ngSwitchCase]=\"'MC'\">\r\n                          <div class=\"flex flex-col\">\r\n                            <div class=\"w-full my-1\">\r\n                              <div class=\"flex\">\r\n                                <div class=\"radio-type w-full flex items-center\">\r\n                                  <span class=\"text-2xl pr-2 w-8\">\r\n                                    <ng-container\r\n                                      *ngIf=\"(userChoice.isRealCorrect==1&& userChoice.choice.isCorrected==1) || userChoice.isRealCorrect==1\">\r\n                                      <i class=\"fa fa-check text-green-600\"></i>\r\n                                    </ng-container>\r\n                                    <ng-container\r\n                                      *ngIf=\"(userChoice.isRealCorrect!=userChoice.choice.isCorrected) && userChoice.isRealCorrect==0\">\r\n                                      <i class=\"fa fa-close text-red-600\"></i>\r\n                                    </ng-container>\r\n                                  </span>\r\n                                  <div class=\"radio-btn w-full\">\r\n                                    <input type=\"radio\" name=\"mcChoices-{{ques.question.id}}\"\r\n                                      [checked]=\"userChoice.choice.isCorrected==1\" disabled=\"true\">\r\n                                    <label class=\"select-none\" [innerHTML]=\"userChoice.choice.choiceText\"></label>\r\n                                  </div>\r\n                                </div>\r\n\r\n                              </div>\r\n\r\n                            </div>\r\n\r\n                          </div>\r\n                        </ng-template>\r\n                        <ng-template [ngSwitchCase]=\"'MS'\">\r\n                          <div class=\"flex flex-col\">\r\n                            <div class=\"w-full my-1\">\r\n                              <div class=\"flex my-1\">\r\n                                <div class=\"radio-type w-full flex items-center\">\r\n                                  <span class=\"text-2xl pr-2 w-8\">\r\n                                    <ng-container\r\n                                      *ngIf=\"(userChoice.isRealCorrect==1&& userChoice.choice.isCorrected==1) || userChoice.isRealCorrect==1\">\r\n                                      <i class=\"fa fa-check text-green-600\"></i>\r\n                                    </ng-container>\r\n                                    <ng-container\r\n                                      *ngIf=\"(userChoice.isRealCorrect!=userChoice.choice.isCorrected) && userChoice.isRealCorrect==0\">\r\n                                      <i class=\"fa fa-close text-red-600\"></i>\r\n                                    </ng-container>\r\n                                  </span>\r\n                                  <div class=\"check-box-btn w-full\">\r\n                                    <input type=\"checkbox\" name=\"msChoices-{{userChoice.choice.id}}\"\r\n                                      id=\"ms-{{userChoice.choice.id}}\" [checked]=\"userChoice.choice.isCorrected==1\"\r\n                                      disabled=\"true\">\r\n                                    <label class=\"check-box select-none\"\r\n                                      [innerHTML]=\"userChoice.choice.choiceText\"></label>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n\r\n                            </div>\r\n                          </div>\r\n                        </ng-template>\r\n                        <ng-template [ngSwitchCase]=\"'SA'\">\r\n                          <div class=\"flex flex-col\">\r\n                            <div class=\"w-full my-1\">\r\n                              <div class=\"flex items-center\">\r\n                                <span class=\"text-2xl pr-2 w-8\">\r\n                                  <ng-container>\r\n                                    <i *ngIf=\"ques.isSelectedCorrected\" class=\"fa fa-check text-green-600\"></i>\r\n                                    <i *ngIf=\"!ques.isSelectedCorrected\" class=\"fa fa-close text-red-600\"></i>\r\n                                  </ng-container>\r\n                                </span>\r\n                                <div class=\"w-full\">\r\n                                  <label class=\"block text-gray-600\">Đáp án của bạn:</label>\r\n                                  <span class=\"block bg-white px-2 py-1 rounded border\"\r\n                                    [ngClass]=\"ques.isSelectedCorrected ? 'border-green-500 text-green-700' : 'border-red-500 text-red-700'\">\r\n                                    {{userChoice.choice.choiceText}}\r\n                                  </span>\r\n                                </div>\r\n                              </div>\r\n                              <div class=\"flex items-center mt-2\">\r\n                                <span class=\"text-gray-500 text-xs mr-2\">Đáp án đúng:</span>\r\n                                <span class=\"bg-blue-100 px-2 py-1 rounded font-bold\">\r\n                                  {{ ques.question.choices[0]?.choiceText }}\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </ng-template>\r\n                      </ng-container>\r\n                    </ng-container>\r\n\r\n\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <app-admin-footer></app-admin-footer>\r\n</div>","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {ExamService} from '../../../_services/exam.service';\nimport {ExamResult} from '../../../models/exam-result';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport _ from 'lodash';\nimport {\n  ApexAxisChartSeries,\n  ApexChart,\n  ApexDataLabels,\n  ApexPlotOptions,\n  ApexStroke,\n  ApexTitleSubtitle,\n  ApexXAxis,\n  ApexYAxis,\n  ChartComponent\n} from 'ng-apexcharts';\nimport {ColorsService} from '../../../_services/colors.service';\nimport {ExamQuestionReport} from '../../../models/exam-question-report';\nimport {Location} from '@angular/common';\n\nexport interface ChartOptions {\n  series: ApexAxisChartSeries;\n  chart: ApexChart;\n  xAxis: ApexXAxis;\n  stroke: ApexStroke;\n  dataLabels: ApexDataLabels;\n  plotOptions: ApexPlotOptions;\n  yAxis: ApexYAxis;\n  colors: string[];\n  subtitle: ApexTitleSubtitle;\n}\n\n@Component({\n  selector: 'app-user-test',\n  templateUrl: './user-test.component.html',\n  styleUrls: ['./user-test.component.scss']\n})\nexport class UserTestComponent implements OnInit {\n  @ViewChild('chart') chart: ChartComponent;\n  public chartOptions: Partial<ChartOptions>;\n  examResults: ExamResult[] = [];\n  examId: number;\n  sortBy = false;\n  dataSort: ExamResult[] = [];\n  questionsReport: ExamQuestionReport[] = [];\n  skeleton = true;\n\n  constructor(\n    private examService: ExamService,\n    private route: ActivatedRoute,\n    private colorsService: ColorsService,\n    private router: Router,\n    private location: Location\n  ) {}\n\n  ngOnInit(): void {\n    this.examId = Number(this.route.snapshot.paramMap.get('id'));\n    this.getExamList();\n    this.getQuestionReport();\n  }\n\n  getPercent(x: number, size: number) {\n    if (!size || size === 0) return 0;\n    return Math.round((x / size) * 100);\n  }\n  \n\n  getQuestionReport() {\n    this.examService.getExamQuestionReport(this.examId).subscribe(data => {\n      this.questionsReport = data;\n      this.skeleton = false;\n    }, error => {\n      this.skeleton = false;\n    });\n  }\n  getFinishedUserCount(): number {\n    // Tùy backend quy ước examStatus: -1 = Hoàn thành (thường vậy)\n    return this.examResults.filter(e =>\n      e.examStatus === -1 &&\n      typeof e.totalPoint === 'number' &&\n      !isNaN(e.totalPoint)\n    ).length;\n  }\n  \n  getExamList() {\n    this.examService.getExamResultListByExamId(this.examId).subscribe(data => {\n      this.examResults = data;\n  \n      // Lọc user hợp lệ và điểm là số hợp lệ\n      const validResults = this.examResults.filter(\n        exam => exam.user && exam.user.profile && typeof exam.totalPoint === 'number' && !isNaN(exam.totalPoint)\n      );\n      // Sắp xếp giảm dần theo điểm, lấy top 10\n      this.dataSort = _.orderBy(validResults, 'totalPoint', 'desc').slice(0, 10);\n  \n      // Màu cố định (tuỳ ý bạn, thêm màu nếu >10 user)\n      const fixedColors = [\n        '#4CAF50', // xanh lá\n        '#2196F3', // xanh dương\n        '#FFC107', // vàng\n        '#E91E63', // hồng\n        '#9C27B0', // tím\n        '#FF5722', // cam\n        '#3F51B5', // xanh tím\n        '#009688', // teal\n        '#795548', // nâu\n        '#607D8B', // xám xanh\n      ];\n  \n      this.chartOptions = {\n        series: [{\n          name: 'Result',\n          data: this.dataSort.map(value => value.totalPoint ?? NaN)\n        }],\n        chart: {\n          type: 'bar',\n          height: 380\n        },\n        plotOptions: {\n          bar: {\n            barHeight: '100%',\n            distributed: true,\n            horizontal: true,\n            dataLabels: {\n              position: 'bottom'\n            }\n          }\n        },\n        colors: fixedColors.slice(0, this.dataSort.length), // Dùng đúng số màu cho số user\n        dataLabels: {\n          enabled: true,\n          textAnchor: 'start',\n          style: {\n            colors: ['#fff']\n          },\n          formatter(val, opt) {\n            // Nếu label bị undefined sẽ trả về chuỗi rỗng\n            const label = opt.w.globals.labels[opt.dataPointIndex] || '';\n            return label + ': ' + val + ' point';\n          },\n          offsetX: 0,\n          dropShadow: {\n            enabled: true\n          }\n        },\n        stroke: {\n          width: 1,\n          colors: ['#fff']\n        },\n        xAxis: {\n          categories: this.dataSort.map(val => \n            val.user?.profile\n              ? `${val.user.profile.lastName} ${val.user.profile.firstName}`\n              : '[No name]'\n          )\n        },\n        yAxis: {\n          labels: { show: false }\n        },\n        subtitle: {\n          text: 'Top 10 điểm số cao nhất',\n          align: 'center'\n        }\n      };\n  \n      // Log các giá trị để kiểm tra trực quan trên console\n      console.log('Data hiển thị trên biểu đồ:', this.dataSort);\n      console.log('chartOptions:', this.chartOptions);\n    });\n  }\n  \n  \n\n  trackById(index: number, item: ExamResult): any {\n    console.log('trackById', item?.user?.username ?? index);\n    return item?.user?.username ?? index;\n  }\n  \n  sortPoint() {\n    this.sortBy = !this.sortBy;\n    this.dataSort = _.orderBy(this.examResults, 'totalPoint', this.sortBy ? 'desc' : 'asc');\n  }\n  \n\n  goUserExamDetail(username: string, userProfile: string) {\n    this.router.navigate([`admin/tests/${this.examId}/users`, username]);\n  }\n\n  goDeTail(id: number) {\n    this.router.navigate(['admin/question-bank/question', id]);\n  }\n\n  goBack() {\n    this.location.back();\n  }\n}\n","<div class=\"bg-blue-600 md:pt-32 pb-32 pt-12\">\r\n  <div class=\"px-4 md:px-10 mx-auto w-full\">\r\n    <div (click)=\"goBack()\" class=\"text-white cursor-pointer hover:underline\"><i class=\"fa fa-long-arrow-left\"></i><span\r\n        class=\"mx-2\">Quay lại trang danh sách</span></div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\" mx-auto w-full -m-24\" *ngIf=\"examResults\">\r\n  <div class=\"flex flex-wrap mt-4 justify-center\">\r\n    <div class=\"w-full mb-12 xl:mb-0 px-4 max-w-5xl\">\r\n      <div class=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\r\n        <div class=\"rounded-t mb-0 px-4 py-3 border-0\">\r\n          <div class=\"flex flex-wrap items-center\">\r\n            <div class=\"relative w-full px-4 max-w-full flex-grow leading-8 mb-3\">\r\n              <h3 class=\"font-semibold text-2xl text-gray-800 mb-4\">\r\n                Kết quả bài test\r\n              </h3>\r\n              <p *ngIf=\"examResults[0]?.exam.title\">\r\n                <span class=\"px-2 py-1 rounded bg-blue-200 text-blue-700\">\r\n                  {{examResults[0]?.exam.title}}</span> - <a [routerLink]=\"['../preview']\"\r\n                  class=\"underline text-blue-700\">[xem chi tiết]</a>\r\n              </p>\r\n            </div>\r\n\r\n\r\n          </div>\r\n\r\n        </div>\r\n        <div class=\"text-center text-xl\">Danh sách 10 bài làm cao điểm nhất</div>\r\n        <ng-container *ngIf=\"chartOptions\">\r\n          <apx-chart [series]=\"chartOptions.series\" [chart]=\"chartOptions.chart\" [dataLabels]=\"chartOptions.dataLabels\"\r\n            [plotOptions]=\"chartOptions.plotOptions\" [stroke]=\"chartOptions.stroke\" [xaxis]=\"chartOptions.xAxis\"\r\n            [yaxis]=\"chartOptions.yAxis\" [colors]=\"chartOptions.colors\">\r\n          </apx-chart>\r\n        </ng-container>\r\n\r\n        <div class=\"px-8 text-xl my-4 font-semibold\">Kết quả chi tiết</div>\r\n        <div class=\"block w-full\">\r\n          <table\r\n            class=\"items-center w-full bg-transparent border-collapse whitespace-no-wrap user-list block lg:table overflow-x-auto overflow-y-auto\">\r\n            <thead>\r\n              <tr>\r\n                <th\r\n                  class=\"row-index px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\r\n                  #\r\n                </th>\r\n                <th\r\n                  class=\"row-title px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\r\n                  Họ tên\r\n                </th>\r\n\r\n                <th\r\n                  class=\"row-name px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\r\n                  Thời gian bắt đầu\r\n                </th>\r\n                <th\r\n                  class=\"row-name px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\r\n                  TG kết thúc\r\n                </th>\r\n                <th\r\n                  class=\"row-name text-center px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\r\n                  Trạng thái bài làm\r\n                </th>\r\n\r\n                <th\r\n                  class=\"row-action px-6 bg-gray-100 text-gray-600 text-right border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left hover:underline cursor-pointer hover:text-blue-600\"\r\n                  (click)=\"sortPoint()\">\r\n                  Điểm số\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              <ng-container *ngFor=\"let exam of dataSort; trackBy: trackById; let i=index\">\r\n                <tr class=\"border hover:bg-gray-300 cursor-pointer\"\r\n                  (click)=\"goUserExamDetail(exam.user.username, exam.user.profile.lastName+' '+exam.user.profile.firstName)\">\r\n                  <td\r\n                    class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-md font-semibold text-gray-500 whitespace-no-wrap p-4\">\r\n                    {{i + 1}}\r\n                  </td>\r\n                  <td\r\n                    class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-md font-semibold text-gray-800 whitespace-no-wrap p-4\">\r\n                    {{ exam.user?.profile?.lastName || '[No last name]' }} {{ exam.user?.profile?.firstName || '[No\r\n                    first name]' }}\r\n                  </td>\r\n                  <td\r\n                    class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-sm whitespace-no-wrap p-4 text-left\">\r\n                    {{exam.userTimeBegin | date: 'medium'}}\r\n                  </td>\r\n\r\n                  <td class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-sm whitespace-no-wrap p-4\">\r\n                    {{exam.userTimeFinish | date: 'medium'}}\r\n                  </td>\r\n                  <td\r\n                    class=\"border-t-0 text-center px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\r\n                    <ng-container [ngSwitch]=\"exam.examStatus\">\r\n                      <ng-template [ngSwitchCase]=\"0\"><span\r\n                          class=\"px-2 py-1 rounded-md text-yellow-700 bg-yellow-300\">Chưa bắt đầu</span>\r\n                      </ng-template>\r\n                      <ng-template [ngSwitchCase]=\"1\"><span\r\n                          class=\"px-2 py-1 rounded-md text-green-700 bg-green-300\">Đang thực hiện</span>\r\n                      </ng-template>\r\n                      <ng-template [ngSwitchCase]=\"-1\"><span class=\"px-2 py-1 rounded-md text-gray-700 bg-gray-300\">Hoàn\r\n                          thành</span>\r\n                      </ng-template>\r\n                      <ng-template [ngSwitchCase]=\"-2\"><span class=\"px-2 py-1 rounded-md text-red-700 bg-red-300\">Bỏ\r\n                          lỡ</span></ng-template>\r\n                    </ng-container>\r\n                  </td>\r\n                  <td\r\n                    class=\"border-t-0 px-6 text-right border-l-0 mr-2 border-r-0 text-md whitespace-no-wrap p-4 font-semibold text-gray-600\">\r\n                    {{exam.totalPoint}}\r\n                  </td>\r\n\r\n                </tr>\r\n              </ng-container>\r\n            </tbody>\r\n\r\n\r\n          </table>\r\n        </div>\r\n      </div>\r\n      <div class=\"block w-full\" *ngIf=\"questionsReport\">\r\n        <div class=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\r\n          <div class=\"rounded-t mb-0 px-4 py-3 border-0\">\r\n            <p class=\"px-8 text-xl my-4 font-semibold\">\r\n              Thống kê câu hỏi\r\n            </p>\r\n            <div class=\"block w-full\">\r\n              <!-- Projects table -->\r\n              <table\r\n                class=\"items-center table-fixed w-full bg-transparent border-collapse user-list block lg:table overflow-x-auto overflow-y-auto\">\r\n                <thead>\r\n                  <tr>\r\n                    <th\r\n                      class=\"row-id text-left px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 font-semibold text-left\">\r\n                      Id câu hỏi\r\n                    </th>\r\n\r\n                    <th\r\n                      class=\"row-question px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 font-semibold text-left\">\r\n                      Câu hỏi\r\n                    </th>\r\n\r\n                    <th\r\n                      class=\"row-num px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 font-semibold text-left\">\r\n                      Số người đúng\r\n                    </th>\r\n\r\n                    <th\r\n                      class=\"row-percent px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 font-semibold text-left\">\r\n                      Phần trăm đúng (%)\r\n                    </th>\r\n\r\n                  </tr>\r\n                </thead>\r\n\r\n                <tbody *ngIf=\"skeleton==false\">\r\n                  <ng-container *ngFor=\"let report of questionsReport; trackBy: trackById\">\r\n                    <tr class=\"border hover:bg-gray-300\">\r\n\r\n                      <th class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs  p-4 text-left\">\r\n                        {{report?.question.id}}\r\n\r\n                      </th>\r\n                      <th class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs  p-4 text-left\">\r\n                        <div [innerHTML]=\"report?.question?.questionText\"\r\n                          class=\"cursor-pointer hover:text-blue-800 text-md\" (click)=\"goDeTail(report.question.id)\">\r\n                        </div>\r\n                      </th>\r\n\r\n                      <th class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs  p-4 text-left\">\r\n                        {{report?.correctTotal}}\r\n\r\n                      </th>\r\n                      <th class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs  p-4 text-left\">\r\n                        {{ getPercent(report.correctTotal, getFinishedUserCount()) }} %\r\n\r\n                      </th>\r\n                    </tr>\r\n                  </ng-container>\r\n                </tbody>\r\n\r\n\r\n              </table>\r\n            </div>\r\n            <ng-container *ngIf=\"skeleton\">\r\n              <app-table-skeleton [type]=\"'question'\"></app-table-skeleton>\r\n              <app-table-skeleton [type]=\"'question'\"></app-table-skeleton>\r\n              <app-table-skeleton [type]=\"'question'\"></app-table-skeleton>\r\n\r\n\r\n            </ng-container>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n  <app-admin-footer></app-admin-footer>\r\n</div>","import { Component, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { UserService } from '../../../_services/user.service';\r\nimport { UserAccount } from '../../../models/user-account';\r\nimport { UserProfile } from '../../../models/user-profile';\r\nimport { PageResult } from '../../../models/page-result';\r\nimport { switchMap } from 'rxjs/operators';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { FileUploadComponent } from '../../../shared/file-upload/file-upload.component';\r\nimport { UploadFileService } from '../../../_services/upload-file.service';\r\nimport { IntakeService } from '../../../_services/intake.service';\r\nimport { Intake } from '../../../models/intake';\r\n\r\n@Component({\r\n  selector: 'app-add-user',\r\n  templateUrl: './add-user.component.html',\r\n  styleUrls: ['./add-user.component.scss']\r\n})\r\nexport class AddUserComponent implements OnInit {\r\n  showModalAdd = false;\r\n  rfAddUser: FormGroup;\r\n  @Output() usersAddOutput = new EventEmitter<PageResult<UserAccount>>();\r\n  @Input() active = false;\r\n  @Input() tabTitle: string;\r\n  // @ViewChild(FileUploadComponent) fileUpload: FileUploadComponent;\r\n  openTab = 1;\r\n  pageResult: PageResult<UserAccount>;\r\n  userExcelFile: any;\r\n  intakes: Intake[] = [];\r\n\r\n  userImportSuccess: UserAccount[] = [];\r\n  userTotal: number;\r\n\r\n  constructor(private userService: UserService,\r\n    private fb: FormBuilder,\r\n    private toast: ToastrService,\r\n    private uploadFileService: UploadFileService, private intakeService: IntakeService) {\r\n  }\r\n\r\n  get username() {\r\n    return this.rfAddUser.get('username');\r\n  }\r\n\r\n  get firstName() {\r\n    return this.rfAddUser.get('firstName');\r\n  }\r\n\r\n  get lastName() {\r\n    return this.rfAddUser.get('lastName');\r\n  }\r\n\r\n  get email() {\r\n    return this.rfAddUser.get('email');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.intakeService.getIntakeList().subscribe(data => {\r\n      this.intakes = data;\r\n    });\r\n\r\n    // Bỏ dòng reset cũ (nó không cần thiết ở đây)\r\n    // this.rfAddUser?.reset(this.rfAddUser.value);\r\n\r\n    this.rfAddUser = this.fb.group({\r\n      username: ['', [Validators.required, Validators.minLength(6)]],\r\n      email: ['', [\r\n        Validators.required,\r\n        Validators.email,\r\n        Validators.pattern('^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$')\r\n      ]],\r\n      password: ['', [Validators.required, Validators.minLength(6)]],\r\n      firstName: ['', Validators.required],\r\n      lastName: ['', Validators.required],\r\n      roleId: [1, Validators.required],\r\n      intakeId: [null]  // Thêm dòng này!\r\n    });\r\n\r\n  }\r\n\r\n\r\n  closeModal() {\r\n    this.showModalAdd = false;\r\n    this.rfAddUser.reset();\r\n    this.openTab = 1;\r\n    this.userTotal = 0;\r\n  }\r\n\r\n  onSubmit() {\r\n    const profile = new UserProfile(this.firstName.value, this.lastName.value);\r\n    const roleId = this.rfAddUser.get('roleId').value;\r\n    const password = this.rfAddUser.get('password').value;\r\n    const intakeId = this.rfAddUser.get('intakeId').value; // lấy intakeId nếu là student\r\n    const user: any = {\r\n      username: this.username.value,\r\n      email: this.email.value,\r\n      profile,\r\n      password,\r\n      roleId,\r\n      intakeId: roleId == 3 ? intakeId : null // chỉ gửi intakeId nếu là học viên\r\n    };\r\n\r\n    this.userService.addUser(user).subscribe((res: any) => {\r\n      // Sau khi tạo xong, lấy lại danh sách user\r\n      this.userService.getUserList(0, 20).subscribe(res2 => {\r\n        this.closeModal();\r\n        this.showSuccess();\r\n        this.pageResult = res2;\r\n        this.usersAddOutput.emit(this.pageResult);\r\n      });\r\n    });\r\n  }\r\n\r\n\r\n  toggleModalAdd() {\r\n    this.showModalAdd = !this.showModalAdd;\r\n  }\r\n\r\n  showSuccess() {\r\n    this.toast.success('Người dùng đã được tạo mới!', 'Thành công',);\r\n  }\r\n\r\n  toggleTabs($tabNumber: number) {\r\n    this.openTab = $tabNumber;\r\n  }\r\n\r\n  importExcelUser() {\r\n    this.uploadFileService.uploadUsersByExcel(this.userExcelFile).subscribe(res => {\r\n      this.userImportSuccess = res.data;\r\n      this.userTotal = res.userTotal;\r\n      console.log(this.userImportSuccess);\r\n      this.toast.success('Đã import danh sách user', 'Thành công');\r\n    });\r\n  }\r\n\r\n  getExcel(file) {\r\n    this.userExcelFile = file;\r\n  }\r\n}\r\n","<button\r\n  class=\"bg-white shadow-md hover:bg-blue-500 hover:text-white transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-2 rounded outline-none focus:outline-none mx-1 mb-1\"\r\n  type=\"button\" (click)=\"toggleModalAdd()\"><span><i class=\"fa fa-user-plus mr-1\"></i>Thêm người dùng</span>\r\n</button>\r\n\r\n<form novalidate (ngSubmit)=\"onSubmit()\" [formGroup]=\"rfAddUser\">\r\n  <div *ngIf=\"showModalAdd\"\r\n    class=\"fixed inset-0 overflow-auto z-50 outline-none focus:outline-none justify-center flex\">\r\n    <div class=\"relative w-11/12 my-5 mx-auto max-w-3xl\" style=\"margin-top: 2.5rem\">\r\n\r\n      <!--content-->\r\n      <div\r\n        class=\"border-0 rounded-lg shadow-lg relative flex flex-col w-full overflow-y-auto my-5 bg-white outline-none focus:outline-none\"\r\n        style=\"max-height: 90%\">\r\n        <!--header-->\r\n        <div class=\"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t\">\r\n          <h3 class=\"text-2xl font-semibold\">Thêm người dùng</h3>\r\n\r\n          <button\r\n            class=\"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none\"\r\n            (click)=\"closeModal()\">\r\n            <span\r\n              class=\"bg-transparent text-gray-700 opacity-5 h-3 w-3 text-base block outline-none focus:outline-none\">\r\n              <i class=\"fa fa-close\"></i>\r\n            </span>\r\n          </button>\r\n        </div>\r\n        <!--body-->\r\n        <div class=\"flex flex-wrap px-3\">\r\n          <div class=\"w-full\">\r\n            <ul class=\"flex mb-0 list-none flex-wrap pt-3 pb-4 flex-row\">\r\n              <li class=\"-mb-px mr-2 last:mr-0 flex-auto text-center\"><a\r\n                  class=\"text-xs font-bold uppercase px-5 py-3 hover:shadow-md rounded block leading-normal cursor-pointer\"\r\n                  (click)=\"toggleTabs(1)\"\r\n                  [ngClass]=\"{'text-blue-600 bg-white': openTab !== 1, 'text-white bg-blue-600': openTab === 1}\"> <i\r\n                    class=\"fa fa-user-circle text-base mr-1\"></i> Thông tin cá nhân </a></li>\r\n              <li class=\"-mb-px mr-2 last:mr-0 flex-auto text-center\"><a\r\n                  class=\"text-xs font-bold uppercase px-5 py-3 hover:shadow-md rounded block leading-normal cursor-pointer\"\r\n                  (click)=\"toggleTabs(2)\"\r\n                  [ngClass]=\"{'text-blue-600 bg-white': openTab !== 2, 'text-white bg-blue-600': openTab === 2}\"> <i\r\n                    class=\"fa fa-upload mr-1\"></i> Import </a></li>\r\n\r\n            </ul>\r\n            <div class=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 rounded\">\r\n              <div class=\"px-4 py-5 pb-0 flex-auto\">\r\n                <div class=\"tab-content tab-space\">\r\n                  <div [ngClass]=\"{'hidden': openTab !== 1, 'block': openTab === 1}\">\r\n                    <div class=\"relative\">\r\n                      <div\r\n                        class=\"my-4 px-8 text-gray-600 text-base leading-relaxed text-left flex-row flex flex-wrap justify-center lg:justify-start items-center\">\r\n                        <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n                          <div class=\"md:w-full px-3\">\r\n                            <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\"\r\n                              for=\"frm-add-username\">\r\n                              Tên đăng nhập\r\n                            </label>\r\n                            <input\r\n                              class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-green-500\"\r\n                              id=\"frm-add-username\" type=\"text\" placeholder=\"Nhập thông tin username\" autocomplete=\"off\"\r\n                              formControlName=\"username\" required>\r\n                            <p class=\"text-red-500 text-xs italic\"\r\n                              *ngIf=\"username?.hasError('required') && (username.dirty || username.touched)\">\r\n                              Username không được bỏ trống</p>\r\n                            <p class=\"text-red-500 text-xs italic\"\r\n                              *ngIf=\"username?.hasError('minlength') && (username?.dirty || username.touched)\">\r\n                              Username phải có ít nhất 6 kí tự</p>\r\n                            <p class=\"text-red-500 text-xs italic\"\r\n                              *ngIf=\"username?.hasError('usernameExists') && (username?.dirty || username.touched)\">\r\n                              Username đã tồn tại</p>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n                          <div class=\"md:w-1/2 px-3\">\r\n                            <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\"\r\n                              for=\"frm-add-last-name\">\r\n                              Họ, tên đệm\r\n                            </label>\r\n                            <input\r\n                              class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-green-500\"\r\n                              id=\"frm-add-last-name\" type=\"text\" placeholder=\"Nguyễn Văn\" autocomplete=\"off\"\r\n                              formControlName=\"lastName\" required>\r\n                            <p class=\"text-red-500 text-xs italic\"\r\n                              *ngIf=\"lastName?.hasError('required') && (lastName.dirty || lastName.touched)\">\r\n                              Họ, tên đệm không được bỏ trống</p>\r\n\r\n                          </div>\r\n                          <div class=\"md:w-1/2 px-3 mb-6 md:mb-0\">\r\n                            <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\"\r\n                              for=\"frm-add-first-name\">\r\n                              Tên\r\n                            </label>\r\n                            <input\r\n                              class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-green-500\"\r\n                              id=\"frm-add-first-name\" type=\"text\" placeholder=\"A\" autocomplete=\"off\"\r\n                              formControlName=\"firstName\" required>\r\n                            <p class=\"text-red-500 text-xs italic\"\r\n                              *ngIf=\"firstName?.hasError('required') && (firstName.dirty || firstName.touched)\">\r\n                              Tên không được bỏ trống</p>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n                          <div class=\"md:w-1/2 px-3\">\r\n                            <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\"\r\n                              for=\"frm-add-email\">\r\n                              Email\r\n                            </label>\r\n                            <input\r\n                              class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-green-500\"\r\n                              id=\"frm-add-email\" type=\"email\" placeholder=\"Nhập thông tin email\" autocomplete=\"off\"\r\n                              formControlName=\"email\" required>\r\n                            <p class=\"text-red-500 text-xs italic\"\r\n                              *ngIf=\"email?.hasError('required') && (email?.dirty || email?.touched)\">Email không được\r\n                              bỏ trống</p>\r\n                            <p class=\"text-red-500 text-xs italic\"\r\n                              *ngIf=\"email?.hasError('pattern') && (email?.dirty || email?.touched)\">Email không hợp lệ\r\n                            </p>\r\n                            <p class=\"text-red-500 text-xs italic\"\r\n                              *ngIf=\"email?.hasError('emailExists') && (email?.dirty || email.touched)\">\r\n                              Email đã tồn tại</p>\r\n                          </div>\r\n                          <div class=\"md:w-1/2 px-3\">\r\n                            <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\"\r\n                              for=\"frm-add-password\">\r\n                              Mật khẩu\r\n                            </label>\r\n                            <input\r\n                              class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-green-500\"\r\n                              id=\"frm-add-password\" type=\"password\" placeholder=\"Nhập mật khẩu\"\r\n                              formControlName=\"password\" required>\r\n                            <p class=\"text-red-500 text-xs italic\"\r\n                              *ngIf=\"rfAddUser.get('password').hasError('required') && (rfAddUser.get('password').dirty || rfAddUser.get('password').touched)\">\r\n                              Mật khẩu không được bỏ trống\r\n                            </p>\r\n                            <p class=\"text-red-500 text-xs italic\"\r\n                              *ngIf=\"rfAddUser.get('password').hasError('minlength') && (rfAddUser.get('password').dirty || rfAddUser.get('password').touched)\">\r\n                              Mật khẩu phải có ít nhất 6 ký tự\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <!-- div cho khối quyền người dùng xuống dòng-->\r\n                        <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n                          <div class=\"md:w-full px-3\">\r\n                            <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\">\r\n                              Quyền người dùng\r\n                            </label>\r\n                            <div class=\"flex flex-col space-y-3\">\r\n                              <label class=\"flex items-center\">\r\n                                <input type=\"radio\" formControlName=\"roleId\" [value]=\"1\" class=\"mr-2\" />\r\n                                Quản trị viên\r\n                              </label>\r\n                              <label class=\"flex items-center\">\r\n                                <input type=\"radio\" formControlName=\"roleId\" [value]=\"2\" class=\"mr-2\" />\r\n                                Giáo viên\r\n                              </label>\r\n                              <label class=\"flex items-center\">\r\n                                <input type=\"radio\" formControlName=\"roleId\" [value]=\"3\" class=\"mr-2\" />\r\n                                Học sinh\r\n                              </label>\r\n                            </div>\r\n                            <p class=\"text-red-500 text-xs italic\"\r\n                              *ngIf=\"rfAddUser.get('roleId').hasError('required') && rfAddUser.get('roleId').touched\">\r\n                              Vui lòng chọn quyền cho user!\r\n                            </p>\r\n                          </div>\r\n\r\n                          <!-- div cũ v2 -->\r\n\r\n                          <div class=\"-mx-3 md:flex mb-2 w-full\" *ngIf=\"rfAddUser.get('roleId').value == 3\">\r\n                            <div class=\"md:w-full px-3\">\r\n                              <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\">\r\n                                Chọn khoá thực tập (Intake)\r\n                              </label>\r\n                              <select formControlName=\"intakeId\"\r\n                                class=\"block appearance-none w-full bg-gray-200 py-2 px-3 my-1 mt-3 pr-4 rounded shadow leading-tight focus:outline-none\">\r\n                                <option [ngValue]=\"null\">-- Chọn khóa --</option>\r\n                                <option *ngFor=\"let intake of intakes\" [value]=\"intake.id\">{{ intake.name }}</option>\r\n                              </select>\r\n\r\n                              <p class=\"text-red-500 text-xs italic\"\r\n                                *ngIf=\"rfAddUser.get('roleId').value == 3 && !rfAddUser.get('intakeId').value && rfAddUser.get('intakeId').touched\">\r\n                                Vui lòng chọn khoá thực tập\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <!-- div cũ -->\r\n\r\n\r\n                      </div>\r\n                    </div>\r\n                    <!--footer-->\r\n                    <div class=\"flex items-center justify-end p-6 pb-0 border-t border-solid border-gray-300 rounded-b\">\r\n                      <button\r\n                        class=\"bg-white shadow-md hover:bg-blue-500 hover:text-blue-200 transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1\"\r\n                        type=\"submit\" [disabled]=\"!rfAddUser.valid\" *ngIf=\"rfAddUser.valid\"><span><i\r\n                            class=\"fa fa-user-plus mr-1\"></i>Tạo user</span>\r\n                      </button>\r\n                      <button\r\n                        class=\"shadow-md bg-gray-600 text-gray-100 hover:bg-gray-700 hover:text-gray-200 transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1\"\r\n                        type=\"button\" (click)=\"closeModal()\"><span><i class=\"fa fa-window-close mr-1\"></i>Đóng</span>\r\n                      </button>\r\n\r\n\r\n                    </div>\r\n                  </div>\r\n                  <div [ngClass]=\"{'hidden': openTab !== 2, 'block': openTab === 2}\">\r\n                    <div class=\"-mx-3 md:flex flex-col mb-2 w-full\">\r\n                      <div class=\"md:w-full px-3\">\r\n                        <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\">\r\n                          Tải lên một file excel (*.xlsx, *.xls)\r\n                        </label>\r\n                        <app-file-upload (fileUrlOutput)=\"getExcel($event)\"></app-file-upload>\r\n                      </div>\r\n                    </div>                   \r\n                    <!-- Nút tải mẫu Excel -->\r\n                    <div class=\"md:w-full px-3 mt-2\">\r\n                      <a\r\n                        href=\"assets/excel/user-import-template.xlsx\"\r\n                        download\r\n                        class=\"inline-flex items-center text-sm text-blue-600 font-medium bg-blue-100 px-4 py-2 rounded hover:bg-blue-200 transition\"\r\n                      >\r\n                        <i class=\"fa fa-download mr-2\"></i> Tải mẫu Excel\r\n                      </a>\r\n                      <p class=\"text-yellow-700 bg-yellow-100 text-xs px-3 py-2 mt-2 rounded\">\r\n                        <strong>Lưu ý:</strong> Vui lòng tải mẫu Excel để xem định dạng dữ liệu chính xác trước khi import.\r\n                      </p>\r\n                    </div>                   \r\n                    <div class=\"my-5 flex justify-end px-6\">\r\n                      <button\r\n                        class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded cursor-pointer\"\r\n                        type=\"button\" (click)=\"importExcelUser()\">Upload\r\n                      </button>\r\n                    </div>                   \r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</form>\r\n<div *ngIf=\"showModalAdd\" class=\"fixed inset-0 z-40 bg-smoke-light\"></div>","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {UserAccount} from '../../../models/user-account';\nimport {UserService} from '../../../_services/user.service';\nimport {PageResult} from '../../../models/page-result';\nimport {switchMap} from 'rxjs/operators';\nimport {ToastrService} from 'ngx-toastr';\n\n@Component({\n  selector: 'app-delete-user',\n  templateUrl: './delete-user.component.html',\n  styleUrls: ['./delete-user.component.scss']\n})\nexport class DeleteUserComponent implements OnInit {\n  @Input() userInfo: UserAccount;\n  @Output() usersOutput = new EventEmitter<PageResult<UserAccount>>();\n\n  pageResult: PageResult<UserAccount>;\n  showModalDelete = false;\n\n  constructor(private userService: UserService, private toastr: ToastrService) {\n  }\n\n  ngOnInit(): void {\n  }\n\n  closeModal() {\n    this.showModalDelete = false;\n  }\n\n  toggleModalDelete() {\n    this.showModalDelete = !this.showModalDelete;\n  }\n\n  confirmDelete(id: number) {\n    this.userInfo.deleted = !this.userInfo.deleted;\n    this.userService.deleteUser(id, !this.userInfo.deleted)\n      .pipe(switchMap(res => this.userService.getUserList(0, 20)))\n      .subscribe(res => {\n        this.closeModal();\n        this.showSuccess();\n        this.pageResult = res;\n        this.usersOutput.emit(this.pageResult);\n\n      });\n  }\n\n  showSuccess() {\n    this.toastr.success('Người dùng đã được xoá!', 'Thành công', );\n  }\n}\n","<button\n  class=\"bg-white shadow-md hover:bg-red-500 hover:text-red-200 transition duration-200 ease-in-out text-xs font-bold uppercase rounded outline-none focus:outline-none px-2 py-1\"\n  type=\"button\"\n  (click)=\"toggleModalDelete()\"><span><i class=\"fa fa-trash\"></i></span>\n</button>\n<div *ngIf=\"showModalDelete\"\n     class=\"fixed inset-0 overflow-auto z-50 outline-none focus:outline-none justify-center flex\">\n  <div class=\"relative w-4/5 my-5 mx-auto max-w-2xl\" style=\"margin-top: 2.5rem\">\n    <!--content-->\n    <div\n      class=\"border-0 rounded-lg shadow-lg relative flex flex-col w-full overflow-y-auto my-5 bg-white outline-none focus:outline-none\"\n      style=\"max-height: 90%\">\n      <!--header-->\n      <div class=\"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t\">\n        <h3 class=\"text-2xl font-semibold\">Thông tin người dùng</h3>\n        <button\n          class=\"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none\"\n          (click)=\"closeModal()\">\n              <span class=\"bg-transparent text-gray-700 opacity-5 h-3 w-3 text-base block outline-none focus:outline-none\">\n              <i class=\"fa fa-close\"></i>\n              </span>\n        </button>\n      </div>\n      <!--body-->\n      <div class=\"relative p-6 \">\n        <div class=\"my-4 px-8 text-gray-600 text-base leading-relaxed text-left flex-row flex flex-wrap justify-center lg:justify-start items-center\">\n          Người dùng <b class=\"mx-1 px-2 bg-gray-200 rounded\">{{userInfo?.username}}</b> sẽ được xoá tạm, bạn có thể khôi phục lại.\n        </div>\n      </div>\n      <!--footer-->\n      <div class=\"flex items-center justify-end p-6 border-t border-solid border-gray-300 rounded-b\">\n        <button\n          class=\"bg-white shadow-md hover:bg-red-500 hover:text-red-200 transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1\"\n          type=\"button\"\n          (click)=\"confirmDelete(userInfo.id)\"><span><i class=\"fa fa-trash mr-1\"></i>Có, xoá ngay</span>\n        </button>\n        <button\n          class=\"shadow-md bg-gray-600 text-gray-100 hover:bg-gray-700 hover:text-gray-200 transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1\"\n          type=\"button\"\n\n          (click)=\"closeModal()\"><span><i class=\"fa fa-window-close mr-1\"></i>Để xem lại</span>\n        </button>\n\n\n      </div>\n    </div>\n  </div>\n</div>\n<div *ngIf=\"showModalDelete\" class=\"fixed inset-0 z-40 bg-smoke-light\"></div>\n","import {Component, Input, OnInit, ViewChild} from '@angular/core';\nimport {UserAccount} from '../../../models/user-account';\n\n@Component({\n  selector: 'app-detail-user',\n  templateUrl: './detail-user.component.html',\n  styleUrls: ['./detail-user.component.scss']\n})\nexport class DetailUserComponent implements OnInit {\n\n  showModalDetail = false;\n  @Input() userInfo: UserAccount;\n\n  constructor() {\n  }\n\n  ngOnInit(): void {\n  }\n\n  closeModal() {\n    this.showModalDetail = false;\n  }\n\n  toggleModalDetail() {\n    this.showModalDetail = !this.showModalDetail;\n  }\n}\n","<button\n  class=\"bg-white shadow-md hover:bg-blue-500 hover:text-gray-200 transition duration-200 ease-in-out text-xs font-bold uppercase rounded outline-none focus:outline-none px-2 py-1\"\n  type=\"button\"\n  (click)=\"toggleModalDetail()\"><span><i class=\"fa fa-eye\"></i></span>\n</button>\n<div *ngIf=\"showModalDetail\"\n     class=\"fixed inset-0 overflow-auto z-50 outline-none focus:outline-none justify-center flex\">\n  <div class=\"relative w-4/5 my-5 mx-auto max-w-2xl\" style=\"margin-top: 2.5rem\">\n    <!--content-->\n    <div\n      class=\"border-0 rounded-lg shadow-lg relative flex flex-col w-full overflow-y-auto my-5 bg-white outline-none focus:outline-none\"\n      style=\"max-height: 90%\">\n      <!--header-->\n      <div class=\"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t\">\n        <h3 class=\"text-2xl font-semibold\">Thông tin người dùng</h3>\n        <button\n          class=\"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none\"\n          (click)=\"closeModal()\">\n              <span class=\"bg-transparent text-gray-700 opacity-5 h-3 w-3 text-base block outline-none focus:outline-none\">\n              <i class=\"fa fa-close\"></i>\n              </span>\n        </button>\n      </div>\n      <!--body-->\n      <div class=\"relative p-6 \">\n        <div class=\"my-4 px-8 text-gray-600 text-base leading-relaxed text-left flex-row flex flex-wrap justify-center lg:justify-start items-center\">\n          <div class=\"mx-3 mr-5 my-3 md-w-1/4\">\n            <img [src]=\"userInfo.profile?.image || '../../assets/images/avatar-default.png'\" class=\"rounded-full w-32 h-32 border\">\n\n          </div>\n          <div class=\"w-2/3 flex flex-col\">\n            <div class=\"w-full my-1 px-2 bg-gray-200 rounded px-3 py-1\"><i\n              class=\"fa fa-drivers-license mr-3\"></i><span>{{(userInfo.profile == null) ? 'Thiếu thông tin' : userInfo.profile.lastName + ' ' + userInfo.profile.firstName}}</span>\n            </div>\n            <div class=\"w-full my-1 px-2 bg-gray-200 rounded px-3 py-1\"><i\n              class=\"fa fa-user-circle mr-3\"></i><span>{{userInfo.username }}</span></div>\n            <div class=\"w-full my-1 px-2 bg-gray-200 rounded px-3 py-1\"><i\n              class=\"fa fa-envelope mr-3\"></i><span>{{userInfo.email ? userInfo.email : 'Chưa có email'}}</span></div>\n            <div class=\"w-full my-1 px-2 bg-gray-200 rounded px-3 py-1\"><i\n              class=\"fa fa-calendar mr-3\"></i><span>{{userInfo.createdDate}}</span></div>\n            <ng-container *ngIf=\"!userInfo.deleted else inactive\">\n              <div class=\"w-full my-1 px-2 bg-green-200 text-green-500 rounded px-3 py-1\"><i\n                class=\"fa fa-toggle-on mr-3\"></i><span>Đang hoạt động</span></div>\n            </ng-container>\n\n            <ng-template #inactive>\n              <div class=\"w-full my-1 px-2 bg-red-200 text-red-500 rounded px-3 py-1\"><i\n                class=\"fa fa-toggle-off mr-3\"></i><span>Tạm khoá</span></div>\n            </ng-template>\n\n          </div>\n        </div>\n      </div>\n      <!--footer-->\n      <div class=\"flex items-center justify-end p-6 border-t border-solid border-gray-300 rounded-b\">\n        <button\n          class=\"shadow-md bg-gray-600 text-gray-100 hover:bg-gray-700 hover:text-gray-200 transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1\"\n          type=\"button\"\n          (click)=\"closeModal()\"><span><i class=\"fa fa-window-close mr-1\"></i>Đóng</span>\n        </button>\n\n      </div>\n    </div>\n  </div>\n</div>\n<div *ngIf=\"showModalDetail\" class=\"fixed inset-0 z-40 bg-smoke-light\"></div>\n","import { AfterContentInit, AfterViewInit, Component, OnInit, ViewChild } from '@angular/core';\r\nimport { UserService } from '../../_services/user.service';\r\nimport { UserAccount } from '../../models/user-account';\r\nimport { PaginationDetail } from '../../models/pagination/pagination-detail';\r\nimport { delay, switchMap } from 'rxjs/operators';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { IntakeService } from '../../_services/intake.service';\r\nimport { TokenStorageService } from '../../_services/token-storage.service';\r\n\r\n@Component({\r\n  selector: 'app-manage-user',\r\n  templateUrl: './manage-user.component.html',\r\n  styleUrls: ['./manage-user.component.scss']\r\n})\r\nexport class ManageUserComponent implements OnInit, AfterContentInit {\r\n\r\n  userList: UserAccount[] = [];\r\n  paginationDetail: PaginationDetail;\r\n  skeleton = true;\r\n  pageOptions: any = [\r\n    { display: 20, num: 20 },\r\n    { display: 50, num: 50 },\r\n    { display: 100, num: 100 },\r\n    { display: 'Tất cả', num: '' },\r\n  ];\r\n  searchKeyWord = '';\r\n  pageCountShowing = 20;\r\n  selectedIntakeId: number | null = null;\r\n  intakeList: any[] = [];\r\n  selectMode = false;               // Chế độ chọn/xóa user\r\n  selectedUserIds: number[] = [];   // Danh sách id user đã chọn\r\n  allChecked = false;               // Checkbox chọn tất cả\r\n  currentUsername = '';             // Username tài khoản đang đăng nhập\r\n\r\n  constructor(\r\n    private userService: UserService,\r\n    private intakeService: IntakeService,\r\n    private toast: ToastrService,\r\n    private tokenStorageService: TokenStorageService // <-- Thêm dòng này!\r\n  ) { }\r\n\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.intakeService.getIntakeList().subscribe({\r\n      next: (data) => this.intakeList = data,\r\n      error: () => this.toast.error('Không lấy được danh sách lớp!')\r\n    });\r\n    this.fetchUserList();\r\n    this.currentUsername = this.tokenStorageService.getUser()?.username || '';\r\n  }\r\n\r\n\r\n  fetchUserList() {\r\n    // this.userService.searchUserListDeletedByPage(0, 20, this.searchKeyWord, false).subscribe(res => {\r\n    //   console.table(res);\r\n    //   this.userList = res.data;\r\n    //   this.paginationDetail = res.paginationDetails;\r\n    // }, error => {\r\n    //   console.error('Lỗi');\r\n    // });\r\n    this.userService.getUserList(0, 20).subscribe(res => {\r\n      this.userList = res.data;\r\n      this.paginationDetail = res.paginationDetails;\r\n      this.skeleton = false;\r\n    });\r\n  }\r\n\r\n  trackById(index: number, item) {\r\n    return item.id;\r\n  }\r\n\r\n  exportUserToExcel() {\r\n    this.userService.exportExcel(false).subscribe(blob => {\r\n      const link = document.createElement('a');\r\n      link.href = window.URL.createObjectURL(blob);\r\n      link.download = 'users.xlsx';\r\n      link.click();\r\n      window.URL.revokeObjectURL(link.href);\r\n    }, err => {\r\n      // Có thể hiện toast báo lỗi nếu cần\r\n      this.toast.error('Không thể xuất file!');\r\n    });\r\n  }\r\n\r\n\r\n  goPreviousPage() {\r\n    const isFirstPage: boolean = this.paginationDetail.isFirstPage;\r\n    if (!isFirstPage) {\r\n      this.userService.searchUserList(this.paginationDetail.previousPage.pageNumber, this.pageCountShowing, this.searchKeyWord)\r\n        .subscribe(res => {\r\n          this.userList = res.data;\r\n          this.paginationDetail = res.paginationDetails;\r\n          console.table(this.userList);\r\n        });\r\n    }\r\n\r\n  }\r\n\r\n  goNextPage() {\r\n    const isLastPage = !this.paginationDetail.nextPage.available;\r\n    if (!isLastPage) {\r\n      this.userService.searchUserList(this.paginationDetail.nextPage.pageNumber, this.pageCountShowing, this.searchKeyWord\r\n      ).subscribe(res => {\r\n        this.userList = res.data;\r\n        this.paginationDetail = res.paginationDetails;\r\n        console.table(this.paginationDetail);\r\n      });\r\n    }\r\n  }\r\n\r\n  fetchUsersAfterCRUD($event: any) {\r\n    this.userList = $event.data;\r\n    this.paginationDetail = $event.paginationDetails;\r\n  }\r\n\r\n  changePageShow(value: any) {\r\n    this.pageCountShowing = value;\r\n    if (!this.pageCountShowing) {\r\n      this.userService.getUserList(0, this.paginationDetail.totalCount).subscribe(res => {\r\n        this.userList = res.data;\r\n        this.paginationDetail = res.paginationDetails;\r\n      });\r\n    } else {\r\n      this.userService.getUserList(0, this.pageCountShowing).subscribe(res => {\r\n        this.userList = res.data;\r\n        this.paginationDetail = res.paginationDetails;\r\n      });\r\n    }\r\n  }\r\n\r\n  searchUser(searchKeyWord: string) {\r\n    this.userService.searchUserList(0, 20, searchKeyWord).subscribe(res => {\r\n      this.userList = res.data;\r\n      this.paginationDetail = res.paginationDetails;\r\n    });\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    console.log('after view init');\r\n  }\r\n\r\n  changeDeleted(user: UserAccount) {\r\n    user.deleted = !user.deleted;\r\n    this.userService.deleteUser(user.id, user.deleted)\r\n      .pipe(switchMap(res => this.userService.getUserList(0, 20)))\r\n      .subscribe(res => {\r\n        this.toast.success('Đã thay đổi trạng thái tài khoản', 'Thành công');\r\n      }, error => {\r\n        user.deleted = !user.deleted;\r\n        this.toast.error('Không thể thay đổi trạng thái', 'Lỗi');\r\n      });\r\n  }\r\n  onExportPasswords() {\r\n    if (!this.selectedIntakeId) {\r\n      this.toast.error('Bạn phải chọn lớp trước!');\r\n      return;\r\n    }\r\n    this.userService.generatePasswordsExcel(this.selectedIntakeId).subscribe(blob => {\r\n      const link = document.createElement('a');\r\n      link.href = window.URL.createObjectURL(blob);\r\n      link.download = 'student-passwords.xlsx';\r\n      link.click();\r\n      window.URL.revokeObjectURL(link.href);\r\n    });\r\n  }\r\n  onUpdatePasswords(file: File) {\r\n    if (!file) {\r\n      this.toast.error('Bạn cần chọn file!');\r\n      return;\r\n    }\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    this.userService.updatePasswordsFromExcel(formData).subscribe(\r\n      res => {\r\n        this.toast.success(res || 'Cập nhật thành công!');\r\n      },\r\n      err => {\r\n        this.toast.error('Lỗi cập nhật mật khẩu!');\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n\r\n  showForm = false;\r\n\r\n  toggleForm() {\r\n    this.showForm = !this.showForm;\r\n  }\r\n  enterSelectMode() {\r\n    this.selectMode = true;\r\n    this.selectedUserIds = [];\r\n    this.allChecked = false;\r\n  }\r\n\r\n  cancelSelectMode() {\r\n    this.selectMode = false;\r\n    this.selectedUserIds = [];\r\n    this.allChecked = false;\r\n  }\r\n\r\n  // Chọn tất cả user (trừ chính mình)\r\n  toggleSelectAll(checked: boolean) {\r\n    this.allChecked = checked;\r\n    if (checked) {\r\n      this.selectedUserIds = this.userList\r\n        .filter(u => u.username !== this.currentUsername)\r\n        .map(u => u.id);\r\n    } else {\r\n      this.selectedUserIds = [];\r\n    }\r\n  }\r\n\r\n  // Chọn từng user (trừ chính mình)\r\n  toggleSelectUser(userId: number, checked: boolean) {\r\n    if (checked) {\r\n      if (!this.selectedUserIds.includes(userId)) {\r\n        this.selectedUserIds.push(userId);\r\n      }\r\n    } else {\r\n      this.selectedUserIds = this.selectedUserIds.filter(id => id !== userId);\r\n    }\r\n    // Cập nhật trạng thái \"chọn tất cả\"\r\n    this.allChecked = this.selectedUserIds.length === this.userList.filter(u => u.username !== this.currentUsername).length;\r\n  }\r\n\r\n\r\n  onDeleteSelectedUsers() {\r\n    // Chặn xóa chính mình\r\n    const userSelf = this.userList.find(u => u.username === this.currentUsername);\r\n    if (userSelf && this.selectedUserIds.includes(userSelf.id)) {\r\n      this.toast.error('Bạn không thể xóa chính mình!');\r\n      return;\r\n    }\r\n    if (!confirm(`Bạn chắc chắn muốn xóa ${this.selectedUserIds.length} user?`)) return;\r\n\r\n    this.userService.deleteManyUsers(this.selectedUserIds).subscribe(\r\n      res => {\r\n        this.toast.success('Đã xóa user thành công!');\r\n        this.fetchUserList();\r\n        this.cancelSelectMode();\r\n      },\r\n      err => {\r\n        this.toast.error('Xóa user thất bại!');\r\n      }\r\n    );\r\n  }\r\n  getVietRoleName(roleName: string): string {\r\n    switch (roleName) {\r\n      case 'ROLE_ADMIN': return 'Quản trị viên';\r\n      case 'ROLE_LECTURER': return 'Giáo viên';\r\n      case 'ROLE_STUDENT': return 'Học sinh';\r\n      default: return roleName;\r\n    }\r\n  }\r\n\r\n\r\n  showSearchBar = false;\r\n\r\n}\r\n","<div class=\"bg-blue-600 md:pt-32 pb-32 pt-12\">\r\n  <div class=\"px-4 md:px-10 mx-auto w-full\">\r\n  </div>\r\n</div>\r\n<div class=\" mx-auto w-full -m-24\">\r\n\r\n  <div class=\"flex flex-wrap mt-4 justify-center\">\r\n    <div class=\"w-full mb-12 xl:mb-0 px-4 max-w-5xl\">\r\n      <div class=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\r\n        <div class=\"rounded-t mb-0 px-4 py-3 border-0\">\r\n          <div class=\"flex flex-wrap items-center\">\r\n            <div class=\"relative w-full px-4 max-w-full flex-grow leading-8 mb-3\">\r\n              <h3 class=\"font-semibold text-2xl text-gray-800\">\r\n                Tài khoản người dùng\r\n              </h3>\r\n            </div>\r\n            <div class=\"flex flex-wrap flex-col w-full\">\r\n              <div class=\"flex flex-wrap flex-row\">\r\n\r\n                <!-- <div class=\"relative w-full px-4 max-w-full flex-flow flex-basis\"> -->\r\n                <div class=\"relative w-full px-4 max-w-full flex-row flex-nowrap flex items-center\">\r\n\r\n                  <span class=\"mx-3 text-gray-600 text-sm\">Hiển thị </span>\r\n                  <div class=\"inline-block relative max-w-xs w-20 mr-2\">\r\n                    <select\r\n                      class=\"block appearance-none w-full bg-white px-3 py-1 pr-4 rounded shadow leading-tight focus:outline-none text-sm\"\r\n                      (change)=\"changePageShow($event.target.value)\">\r\n                      <option *ngFor=\"let item of pageOptions\" [value]=\"item.num\"\r\n                        [selected]=\"item.num == pageCountShowing\">{{item.display}}\r\n                      </option>\r\n                    </select>\r\n\r\n                    <div class=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\r\n                      <svg class=\"fill-current h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\r\n                        <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" />\r\n                      </svg>\r\n                    </div>\r\n                  </div>\r\n                  <button\r\n                    class=\"bg-white shadow-md hover:bg-green-500 hover:text-white transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-2 rounded outline-none focus:outline-none mx-1 mb-1\"\r\n                    type=\"button\" (click)=\"exportUserToExcel()\">\r\n                    <span><i class=\"fa fa-file-excel-o mx-1\"></i>Xuất file</span>\r\n                  </button>\r\n\r\n                  <button (click)=\"toggleForm()\"\r\n                    class=\"bg-white shadow-md hover:bg-blue-500 hover:text-white transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-2 rounded outline-none focus:outline-none mx-1 mb-1\"\r\n                    type=\"button\">\r\n                    Cập nhật mật khẩu học viên\r\n                  </button>\r\n                  <!-- Thêm -->\r\n                  <app-add-user (usersAddOutput)=\"fetchUsersAfterCRUD($event)\"></app-add-user>\r\n\r\n\r\n\r\n                  <!-- Modal overlay + form -->\r\n                  <div *ngIf=\"showForm\" class=\"fixed inset-0 flex items-center justify-center z-50\">\r\n                    <!-- Overlay mờ nền -->\r\n                    <div class=\"fixed inset-0\" style=\"background:rgba(22, 22, 22, 0.5);\"></div>\r\n\r\n                    <!-- Modal content -->\r\n                    <div class=\"bg-white rounded-lg shadow-xl w-full max-w-2xl p-8 relative z-10\">\r\n                      <!-- Modal header with title and close button -->\r\n                      <div class=\"flex items-center justify-between mb-8\">\r\n                        <h2 class=\"text-2xl font-bold text-center w-full\">Cập nhật mật khẩu học viên</h2>\r\n                        <button (click)=\"toggleForm()\"\r\n                          class=\"ml-4 text-gray-400 hover:text-red-500 text-2xl font-bold focus:outline-none\"\r\n                          aria-label=\"Đóng\" type=\"button\">\r\n                          ×\r\n                        </button>\r\n                      </div>\r\n                      <form (submit)=\"$event.preventDefault()\">\r\n                        <div class=\"flex flex-col gap-6\">\r\n                          <!-- Dòng chọn lớp + xuất file -->\r\n                          <div class=\"flex flex-col md:flex-row md:items-center gap-4\">\r\n                            <label class=\"min-w-[90px] font-medium\"> </label>\r\n                            <select [(ngModel)]=\"selectedIntakeId\" name=\"intakeSelect\"\r\n                              class=\"form-select w-60 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-300 transition\">\r\n                              <option [ngValue]=\"null\">-- Chọn lớp --</option>\r\n                              <option *ngFor=\"let intake of intakeList\" [ngValue]=\"intake.id\">\r\n                                {{intake.name}} ({{intake.intakeCode}})\r\n                              </option>\r\n                            </select>\r\n\r\n                            <button type=\"button\" (click)=\"onExportPasswords()\"\r\n                              class=\"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded shadow transition\">\r\n                              Sinh mật khẩu & Xuất file\r\n                            </button>\r\n                          </div>\r\n\r\n                          <!-- Dòng chọn file + cập nhật file -->\r\n                          <div class=\"flex flex-col md:flex-row md:items-center gap-4\">\r\n                            <label class=\"min-w-[90px] font-medium\"> </label>\r\n                            <input type=\"file\" #passwordFile\r\n                              accept=\".xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\r\n                              class=\"border border-gray-300 rounded px-3 py-2 bg-white\" />\r\n                            <button type=\"button\" (click)=\"onUpdatePasswords(passwordFile.files[0])\"\r\n                              class=\"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded shadow transition\">\r\n                              Cập nhật mật khẩu từ file\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </form>\r\n                      <!-- Nút Đóng ở dưới cùng form -->\r\n                      <div class=\"flex justify-end mt-8\">\r\n                        <button type=\"button\" (click)=\"toggleForm()\"\r\n                          class=\"bg-gray-400 hover:bg-red-400 text-white font-bold px-6 py-2 rounded shadow transition\">\r\n                          Đóng\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <button *ngIf=\"!selectMode\"\r\n                    class=\"bg-white shadow-md hover:bg-red-700 hover:text-white transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-2 rounded outline-none focus:outline-none mx-1 mb-1\"\r\n                    (click)=\"enterSelectMode()\">\r\n                    <i class=\"fa fa-trash mr-1\"></i> Xóa người dùng\r\n                  </button>\r\n                  <div *ngIf=\"selectMode\" class=\"flex flex-row gap-2 my-2 \">\r\n                    <button\r\n                      class=\"bg-red-600 shadow-md hover:bg-red-700 text-white transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mx-1 mb-1\"\r\n                      [disabled]=\"selectedUserIds.length === 0\" (click)=\"onDeleteSelectedUsers()\">\r\n                      Xóa ({{selectedUserIds.length}}) người dùng\r\n                    </button>\r\n                    <button\r\n                      class=\"bg-smoke-light shadow-md hover:bg-smoke-light hover:text-white transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mx-1 mb-1\"\r\n                      (click)=\"cancelSelectMode()\">\r\n                      Hủy chọn\r\n                    </button>\r\n                  </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n                </div>\r\n              </div>\r\n              <!-- Search Collapsed - chỉ hiện icon khi chưa mở -->\r\n              <div class=\"p-2 flex justify-end\">\r\n                <div *ngIf=\"!showSearchBar\" class=\"flex items-center\">\r\n                  <button (click)=\"showSearchBar = true\"\r\n                    class=\"bg-blue-500 hover:bg-blue-400 text-white rounded-full p-2 shadow-md transition\">\r\n                    <i class=\"fa fa-search text-xl\"></i>\r\n                  </button>\r\n                </div>\r\n                <form *ngIf=\"showSearchBar\" (ngSubmit)=\"searchUser(searchKeyWord)\" class=\"w-full flex justify-end\">\r\n                  <div class=\"bg-white flex items-center rounded-full shadow-md w-1/3 transition-all duration-300\">\r\n                    <input [(ngModel)]=\"searchKeyWord\" name=\"search-input\"\r\n                      class=\"rounded-l-full w-full py-2 px-6 text-gray-700 leading-tight focus:outline-none\" id=\"search\"\r\n                      type=\"text\" placeholder=\"Nhập username hoặc email\" autocomplete=\"off\" autofocus>\r\n                    <div class=\"p-1 flex gap-1\">\r\n                      <button class=\"focus:outline-none flex items-center\" type=\"submit\">\r\n                        <i\r\n                          class=\"fa fa-search bg-blue-500 text-white rounded-full p-1 pt-2 w-8 h-8 flex items-center justify-center\"></i>\r\n                      </button>\r\n                      <button type=\"button\" (click)=\"showSearchBar = false\"\r\n                        class=\"focus:outline-none text-gray-400 hover:text-red-500 text-xl ml-2\">&times;</button>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n\r\n\r\n\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"block w-full\">\r\n          <!-- Projects table -->\r\n          <table\r\n            class=\"items-center w-full bg-transparent border-collapse whitespace-no-wrap user-list block lg:table overflow-x-auto overflow-y-auto\">\r\n            <thead>\r\n              <tr>\r\n                <th *ngIf=\"selectMode\" class=\"px-4 py-3 bg-gray-100\"\r\n                  class=\"row-title px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left w-40\">\r\n                  <input class=\"h-4 w-4\" type=\"checkbox\" [checked]=\"allChecked\"\r\n                    (change)=\"toggleSelectAll($event.target.checked)\" />\r\n                  Chọn tất cả\r\n                </th>\r\n                <th\r\n                  class=\"row-username px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\r\n                  Tên đăng nhập\r\n                </th>\r\n\r\n                <th\r\n                  class=\"row-name px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\r\n                  Tên hiển thị\r\n                </th>\r\n                <th\r\n                  class=\"row-email px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\r\n                  Email\r\n                </th>\r\n                <th\r\n                  class=\"row-role px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\r\n                  Vai trò\r\n                </th>\r\n                <th\r\n                  class=\"row-active text-center px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\r\n                  Trạng thái\r\n                </th>\r\n                <th\r\n                  class=\"row-action px-6 bg-gray-100 text-gray-600 align-middle border border-solid border-gray-200 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-no-wrap font-semibold text-left\">\r\n                  Chức năng\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody *ngIf=\"skeleton==false\">\r\n              <ng-container *ngFor=\"let user of userList; trackBy: trackById\">\r\n                <tr class=\"border hover:bg-gray-300\" [ngClass]=\"{'bg-gray-400': user?.deleted}\">\r\n                  <!-- CHECKBOX CHỌN USER: chỉ hiển thị khi selectMode -->\r\n                  <td *ngIf=\"selectMode\" class=\"px-4 py-2 text-center\">\r\n                    <input type=\"checkbox\" [checked]=\"selectedUserIds.includes(user.id)\" class=\"h-4 w-4\"\r\n                      (change)=\"toggleSelectUser(user.id, $event.target.checked)\"\r\n                      [disabled]=\"user.username === currentUsername\" />\r\n                  </td>\r\n                  <th\r\n                    class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4 text-left\">\r\n                    {{user.username}}\r\n                  </th>\r\n\r\n                  <td class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\r\n                    {{user?.profile?.lastName + \" \" + user?.profile?.firstName}}\r\n                  </td>\r\n                  <td class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4 w-1/3\">\r\n                    {{user.email}}\r\n                  </td>\r\n                  <td class=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-no-wrap p-4\">\r\n                    {{ user.roles && user.roles.length ? getVietRoleName(user.roles[0].name) : '' }}\r\n                  </td>\r\n                  <td\r\n                    class=\"border-t-0 text-center px-6 align-middle  border-l-0 border-r-0 text-xs whitespace-no-wrap p-4 w-1/3\">\r\n                    <span class=\"text-2xl cursor-pointer\" (click)=\"changeDeleted(user)\"><i\r\n                        [ngClass]=\"user.deleted? 'fa fa-toggle-off text-gray-700': 'fa fa-toggle-on text-green-700'\"></i></span>\r\n                  </td>\r\n\r\n                  <td\r\n                    class=\"border-t-0 px-6 align-middle flex justify-between border-l-0 border-r-0 text-xs whitespace-no-wrap p-4 w-full\">\r\n                    <app-detail-user class=\"mx-1\" [userInfo]=\"user\" tooltip=\"Xem chi tiết\" placement=\"top\"\r\n                      show-delay=\"100\" hide-delay=\"100\"></app-detail-user>\r\n                    <app-update-user [userInfo]=\"user\" (usersOutput)=\"fetchUsersAfterCRUD($event)\"\r\n                      tooltip=\"Cập nhật thông tin\" placement=\"top\" show-delay=\"100\" hide-delay=\"100\"></app-update-user>\r\n                    <!--                  <app-delete-user class=\"mx-1\" [userInfo]=\"user\"-->\r\n                    <!--                                   (usersOutput)=\"fetchUsersAfterCRUD($event)\" tooltip=\"Xoá người dùng\" placement=\"top\"-->\r\n                    <!--                                   show-delay=\"100\" hide-delay=\"100\"></app-delete-user>-->\r\n                  </td>\r\n\r\n                </tr>\r\n              </ng-container>\r\n            </tbody>\r\n\r\n          </table>\r\n        </div>\r\n\r\n        <div *ngIf=\"userList.length!==0\"\r\n          class=\"px-4 py-3 bg-white border-t flex flex-row justify-between xs:flex-row items-center xs:justify-between\">\r\n          <span class=\"text-xs xs:text-sm text-gray-700 px-4\">\r\n            Hiển thị {{paginationDetail?.isLastPage ? paginationDetail?.totalCount - paginationDetail.pageCount + 1 :\r\n            paginationDetail?.pageNumber * paginationDetail?.pageCount + 1}}\r\n            đến {{paginationDetail?.isLastPage ? paginationDetail.totalCount : (paginationDetail?.pageNumber + 1) *\r\n            paginationDetail?.pageCount}}\r\n            trong số {{paginationDetail?.totalCount}} kết quả\r\n          </span>\r\n          <div class=\"inline-flex mt-2 px-4 xs:mt-0\">\r\n            <button\r\n              class=\"text-sm bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded-l focus:outline-none\"\r\n              (click)=\"goPreviousPage()\">\r\n              <span><i class=\"fa fa-arrow-left\"></i></span><span class=\"hidden md:inline ml-1 \">Trước</span>\r\n            </button>\r\n            <button\r\n              class=\"text-sm bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded-r focus:outline-none\"\r\n              (click)=\"goNextPage()\">\r\n              <span class=\"hidden md:inline mr-1\">Sau</span><span><i class=\"fa fa-arrow-right\"></i></span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <ng-container *ngIf=\"userList.length==0 && skeleton==false\">\r\n          <div\r\n            class=\"px-4 py-3 bg-white border-t flex flex-row justify-between xs:flex-row items-center xs:justify-between\">\r\n            <p class=\"mx-auto text-gray-700 text-sm\">Nội dung không có để hiển thị</p>\r\n          </div>\r\n        </ng-container>\r\n        <ng-container *ngIf=\"skeleton\">\r\n          <app-table-skeleton [type]=\"'user'\"></app-table-skeleton>\r\n          <app-table-skeleton [type]=\"'user'\"></app-table-skeleton>\r\n          <app-table-skeleton [type]=\"'user'\"></app-table-skeleton>\r\n\r\n        </ng-container>\r\n\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <app-admin-footer></app-admin-footer>\r\n</div>","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {UserAccount} from '../../../models/user-account';\nimport {AbstractControl, FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {UserService} from '../../../_services/user.service';\nimport {ToastrService} from 'ngx-toastr';\nimport {UserProfile} from '../../../models/user-profile';\nimport {switchMap} from 'rxjs/operators';\nimport {PageResult} from '../../../models/page-result';\nimport {UserUpdate} from '../../../models/user-update';\n\n@Component({\n  selector: 'app-update-user',\n  templateUrl: './update-user.component.html',\n  styleUrls: ['./update-user.component.scss']\n})\nexport class UpdateUserComponent implements OnInit {\n\n  @Input() userInfo: UserAccount;\n  showModalUpdate = false;\n  rfUpdateUser: FormGroup;\n  @Output() usersOutput = new EventEmitter<PageResult<UserAccount>>();\n  pageResult: PageResult<UserAccount>;\n  showLoading = false;\n  user: UserAccount;\n\n  constructor(private fb: FormBuilder, private userService: UserService, private toast: ToastrService) {\n  }\n\n  get f() {\n    return this.rfUpdateUser.controls;\n  }\n\n  get username() {\n    return this.rfUpdateUser.get('username');\n  }\n\n  get password() {\n    return this.rfUpdateUser.get('password');\n  }\n\n  get confirmPass() {\n    return this.rfUpdateUser.get('confirmPass');\n  }\n\n  get firstName() {\n    return this.rfUpdateUser.get('firstName');\n  }\n\n  get lastName() {\n    return this.rfUpdateUser.get('lastName');\n  }\n\n  get email() {\n    return this.rfUpdateUser.get('email');\n  }\n\n  ngOnInit(): void {\n    this.user = Object.assign({}, this.userInfo);\n    this.initForm();\n  }\n\n  passwordConfirming(c: AbstractControl): { invalid: boolean } {\n    if (c.get('password').value !== c.get('confirmPass').value) {\n      return {invalid: true};\n    }\n  }\n\n  toggleModalUpdate() {\n    this.user = Object.assign({}, this.userInfo);\n    this.initForm();\n    this.showModalUpdate = !this.showModalUpdate;\n  }\n\n  initForm() {\n    this.rfUpdateUser = this.fb.group({\n      username: [{value: this.user.username, disabled: true}],\n      email: [this.userInfo.email, {\n        validators: [Validators.required, Validators.email, Validators.pattern('^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$')],\n        asyncValidators: [this.userService.validateEmailUpdate(this.user.id)],\n        updateOn: 'blur'\n      }],\n      firstName: [this.user.profile?.firstName, Validators.required],\n      lastName: [this.user.profile?.lastName, Validators.required],\n      password: [null, Validators.pattern('^(?=.*[\\\\d])(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*])[\\\\w!@#$%^&*]{8,}$')],\n      confirmPass: [null]\n    }, {validator: this.passwordConfirming});\n  }\n\n\n  onSubmit() {\n    console.log('eew');\n    const profile = new UserProfile(this.firstName.value, this.lastName.value);\n    const userUpdate: UserUpdate = new UserUpdate(this.username.value, this.email.value, this.password.value, profile);\n    this.showLoading = true;\n    this.userService.updateUser(this.userInfo.id, userUpdate)\n      .pipe(switchMap(res => this.userService.getUserList(0, 20)))\n      .subscribe(res => {\n        this.showLoading = false;\n        this.closeModal();\n        this.showSuccess();\n        this.pageResult = res;\n        this.usersOutput.emit(this.pageResult);\n      });\n  }\n\n  closeModal() {\n    this.showModalUpdate = false;\n  }\n\n\n  private showSuccess() {\n    this.toast.success('Người dùng đã được cập nhật!', 'Thành công');\n  }\n}\n","<button\r\n  class=\"bg-white shadow-md hover:bg-blue-500 hover:text-gray-200 transition duration-200 ease-in-out text-xs font-bold uppercase rounded outline-none focus:outline-none px-2 py-1\"\r\n  type=\"button\" (click)=\"toggleModalUpdate()\"><span><i class=\"fa fa-edit\"></i></span>\r\n</button>\r\n<form novalidate (ngSubmit)=\"onSubmit()\" [formGroup]=\"rfUpdateUser\">\r\n  <div *ngIf=\"showModalUpdate\"\r\n    class=\"fixed inset-0 overflow-auto z-50 outline-none focus:outline-none justify-center flex\">\r\n\r\n\r\n    <div class=\"relative w-4/5 my-5 mx-auto max-w-2xl\" style=\"margin-top: 2.5rem\">\r\n      <!--content-->\r\n      <div\r\n        class=\"border-0 rounded-lg shadow-lg relative flex flex-col w-full overflow-y-auto my-5 bg-white outline-none focus:outline-none\"\r\n        style=\"max-height: 90%\">\r\n        <!--header-->\r\n        <div class=\"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t\">\r\n          <h3 class=\"text-2xl font-semibold\">Cập nhật thông tin người dùng</h3>\r\n          <button\r\n            class=\"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none\"\r\n            (click)=\"closeModal()\">\r\n            <span\r\n              class=\"bg-transparent text-gray-700 opacity-5 h-3 w-3 text-base block outline-none focus:outline-none\">\r\n              <i class=\"fa fa-close\"></i>\r\n            </span>\r\n          </button>\r\n        </div>\r\n        <!--body-->\r\n        <div class=\"relative\">\r\n          <div\r\n            class=\"my-4 px-8 text-gray-600 text-base leading-relaxed text-left flex-row flex flex-wrap justify-center lg:justify-start items-center\">\r\n            <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n              <div class=\"md:w-full px-3\">\r\n                <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\"\r\n                  for=\"frm-add-username\">\r\n                  Tên đăng nhập\r\n                </label>\r\n                <input\r\n                  class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-400 leading-tight outline-none focus:border-green-500\"\r\n                  id=\"frm-add-username\" type=\"text\" autocomplete=\"off\" formControlName=\"username\" disabled>\r\n\r\n              </div>\r\n            </div>\r\n            <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n              <div class=\"md:w-1/2 px-3\">\r\n                <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\"\r\n                  for=\"frm-add-last-name\">\r\n                  Họ, tên đệm\r\n                </label>\r\n                <input\r\n                  class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-green-500\"\r\n                  id=\"frm-add-last-name\" type=\"text\" placeholder=\"Nguyễn Văn\" autocomplete=\"off\"\r\n                  formControlName=\"lastName\" required>\r\n                <p class=\"text-red-500 text-xs italic\"\r\n                  *ngIf=\"lastName?.hasError('required') && (lastName.dirty || lastName.touched)\">\r\n                  Họ, tên đệm không được bỏ trống</p>\r\n\r\n              </div>\r\n              <div class=\"md:w-1/2 px-3 mb-6 md:mb-0\">\r\n                <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\"\r\n                  for=\"frm-add-first-name\">\r\n                  Tên\r\n                </label>\r\n                <input\r\n                  class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-green-500\"\r\n                  id=\"frm-add-first-name\" type=\"text\" placeholder=\"A\" autocomplete=\"off\" formControlName=\"firstName\"\r\n                  required>\r\n                <p class=\"text-red-500 text-xs italic\"\r\n                  *ngIf=\"firstName?.hasError('required') && (firstName.dirty || firstName.touched)\">\r\n                  Tên không được bỏ trống</p>\r\n              </div>\r\n\r\n            </div>\r\n\r\n            <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n              <div class=\"md:w-full px-3\">\r\n                <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\" for=\"email\">\r\n                  Email\r\n                </label>\r\n                <input\r\n                  class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-green-500\"\r\n                  id=\"email\" type=\"email\" placeholder=\"Nhập thông tin email\" autocomplete=\"off\" formControlName=\"email\"\r\n                  required>\r\n                <p class=\"text-red-500 text-xs italic\"\r\n                  *ngIf=\"email?.hasError('required') && (email?.dirty || email?.touched)\">Email không được bỏ trống</p>\r\n                <p class=\"text-red-500 text-xs italic\"\r\n                  *ngIf=\"email?.hasError('pattern') && (email?.dirty || email?.touched)\">Email không hợp lệ</p>\r\n                <p class=\"text-red-500 text-xs italic\"\r\n                  *ngIf=\"email?.hasError('emailExists') && (email?.dirty || email.touched)\">\r\n                  Email đang thuộc tài khoản khác</p>\r\n              </div>\r\n            </div>\r\n            <div class=\"-mx-3 md:flex mb-2 w-full\">\r\n              <div class=\"md:w-1/2 px-3\">\r\n                <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\"\r\n                  for=\"frm-add-password\">\r\n                  Mật khẩu\r\n                </label>\r\n                <input\r\n                  class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-green-500\"\r\n                  id=\"frm-add-password\" type=\"password\" placeholder=\"********\" autocomplete=\"off\"\r\n                  formControlName=\"password\">\r\n\r\n\r\n              </div>\r\n              <div class=\"md:w-1/2 px-3 mb-6 md:mb-0\">\r\n                <label class=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\"\r\n                  for=\"confirm-password\">\r\n                  Nhập lại mật khẩu\r\n                </label>\r\n                <input\r\n                  class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-green-500\"\r\n                  id=\"confirm-password\" type=\"password\" placeholder=\"********\" autocomplete=\"off\"\r\n                  formControlName=\"confirmPass\">\r\n\r\n              </div>\r\n\r\n\r\n            </div>\r\n            <div class=\"pass-validation\">\r\n              <ul>\r\n                <li class=\"text-red-500 text-xs italic\" *ngIf=\"password?.hasError('pattern') && password?.dirty\">Mật\r\n                  khẩu cần có ít nhất 8 kí tự, bao gồm chữ cái và số, hoa, thường</li>\r\n                <li class=\"text-red-500 text-xs italic\" *ngIf=\"rfUpdateUser.hasError('invalid') && confirmPass.dirty\">\r\n                  Mật khẩu không trùng khớp</li>\r\n              </ul>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!--footer-->\r\n        <div class=\"flex items-center justify-end p-6 border-t border-solid border-gray-300 rounded-b\">\r\n          <button\r\n            class=\"bg-white shadow-md hover:bg-blue-500 hover:text-blue-200 transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1\"\r\n            type=\"submit\" [disabled]=\"!rfUpdateUser.valid\" *ngIf=\"rfUpdateUser.valid\"><span><i\r\n                class=\"fa fa-refresh mr-1\" [ngClass]=\"{'fa-spin': showLoading}\"></i>Cập nhật</span>\r\n          </button>\r\n          <button\r\n            class=\"shadow-md bg-gray-600 text-gray-100 hover:bg-gray-700 hover:text-gray-200 transition duration-200 ease-in-out text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1\"\r\n            type=\"button\" (click)=\"closeModal()\"><span><i class=\"fa fa-window-close mr-1\"></i>Đóng</span>\r\n          </button>\r\n\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n  </div>\r\n</form>\r\n<div *ngIf=\"showModalUpdate\" class=\"fixed inset-0 z-40 bg-smoke-light\"></div>","import {Component, OnInit} from '@angular/core';\nimport {TokenStorageService} from '../../_services/token-storage.service';\nimport {UserRole} from '../../models/user-role.enum';\n\n@Component({\n  selector: 'app-nav-sidebar',\n  templateUrl: './nav-sidebar.component.html',\n  styleUrls: ['./nav-sidebar.component.scss']\n})\nexport class NavSidebarComponent implements OnInit {\n\n  collapseShow = 'hidden';\n  userCollapseShow = false;\n  questionBankCollapseShow = false;\n  userRoles: string[] = [];\n  roleAdmin: boolean;\n  roleLecturer: boolean;\n\n  constructor(private tokenStorageService: TokenStorageService) {\n  }\n\n  ngOnInit() {\n    this.userRoles = this.tokenStorageService.getUser().roles;\n    if (this.userRoles.includes(UserRole.ROLE_ADMIN.toString())) {\n      this.roleAdmin = true;\n    } else if (this.userRoles.includes(UserRole.ROLE_LECTURER.toString())) {\n      this.roleLecturer = false;\n    } else if (this.userRoles.includes(UserRole.ROLE_STUDENT.toString())) {\n      this.tokenStorageService.signOut();\n      window.location.reload();\n    }\n  }\n\n  toggleCollapseShow(classes) {\n    this.collapseShow = classes;\n  }\n\n  userCollapse() {\n    this.userCollapseShow = !this.userCollapseShow;\n  }\n\n  questionBankCollapse() {\n    this.questionBankCollapseShow = !this.questionBankCollapseShow;\n  }\n}\n","<nav\r\n  class=\"md:left-0 md:block md:fixed md:top-0 md:bottom-0 md:overflow-y-auto md:flex-row md:flex-no-wrap md:overflow-hidden shadow-xl bg-white flex flex-wrap items-center justify-between relative md:w-64 z-10 py-4 px-6\">\r\n  <div\r\n    class=\"md:flex-col md:items-stretch md:min-h-full md:flex-no-wrap px-0 flex flex-wrap items-center justify-between w-full mx-auto\">\r\n    <!-- Toggler -->\r\n    <button\r\n      class=\"cursor-pointer text-black opacity-50 md:hidden px-3 py-1 text-xl leading-none bg-transparent rounded border border-solid border-transparent\"\r\n      type=\"button\" (click)=\"toggleCollapseShow('bg-white m-2 py-3 px-6')\">\r\n      <i class=\"fa fa-bars\"></i>\r\n    </button>\r\n    <!-- Brand -->\r\n    <a class=\"md:block text-left md:pb-2 text-gray-700 mr-0 inline-block whitespace-no-wrap text-xl uppercase font-bold p-4 px-0\"\r\n      href=\"javascript:void(0)\">\r\n      Kiểm tra online\r\n    </a>\r\n\r\n    <!-- User -->\r\n    <ul class=\"md:hidden items-center flex flex-wrap list-none\">\r\n      <!--      <li class=\"inline-block relative\">-->\r\n      <!--        <app-notification-dropdown></app-notification-dropdown>-->\r\n      <!--      </li>-->\r\n      <li class=\"inline-block relative\">\r\n        <app-user-dropdown></app-user-dropdown>\r\n      </li>\r\n    </ul>\r\n    <!-- Collapse -->\r\n    <div\r\n      class=\"md:flex md:flex-col md:items-stretch md:opacity-100 md:relative md:mt-4 md:shadow-none shadow absolute top-0 left-0 right-0 z-40 overflow-y-auto overflow-x-hidden h-auto items-center flex-1 rounded\"\r\n      [ngClass]=\"collapseShow\">\r\n      <!-- Collapse header -->\r\n      <div class=\"md:min-w-full md:hidden block pb-4 mb-4 border-b border-solid border-gray-300\">\r\n        <div class=\"flex flex-wrap\">\r\n          <div class=\"w-6/12\">\r\n            <a class=\"md:block text-left md:pb-2 text-gray-700 mr-0 inline-block whitespace-no-wrap text-sm uppercase font-bold p-4 px-0\"\r\n              [routerLink]=\"['/']\">\r\n              Trang chủ\r\n            </a>\r\n          </div>\r\n          <div class=\"w-6/12 flex justify-end\">\r\n            <button type=\"button\"\r\n              class=\"cursor-pointer text-black opacity-50 md:hidden px-3 py-1 text-xl leading-none bg-transparent rounded border border-solid border-transparent\"\r\n              (click)=\"toggleCollapseShow('hidden')\">\r\n              <i class=\"fa fa-times\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- Form -->\r\n      <form class=\"mt-6 mb-4 md:hidden\">\r\n        <div class=\"mb-3 pt-0\">\r\n          <input type=\"text\" placeholder=\"Search\"\r\n            class=\"px-3 py-2 h-12 border border-solid  border-gray-600 placeholder-gray-400 text-gray-700 bg-white rounded text-base leading-snug shadow-none outline-none focus:outline-none w-full font-normal\" />\r\n        </div>\r\n      </form>\r\n      <!-- Navigation -->\r\n      <ul class=\"md:flex-col md:min-w-full flex flex-col list-none\">\r\n        <li class=\"items-center group rounded transition duration-200 ease-in-out hover:bg-blue-500 hover:shadow-lg\">\r\n          <a [routerLink]=\"['dashboard']\" routerLinkActive=\"text-blue-500\"\r\n            class=\"text-gray-800 group-hover:text-white text-sm uppercase py-3 font-bold block rounded transition duration-200\">\r\n            <i class=\"fa fa-tv mr-2 text-sm group-hover:text-white\"></i>\r\n            Bảng điều khiển\r\n          </a>\r\n        </li>\r\n\r\n        <li class=\"items-center group rounded transition duration-200 ease-in-out hover:bg-blue-500 hover:shadow-lg\">\r\n          <a [routerLink]=\"['users']\" routerLinkActive=\"text-blue-500\"\r\n            class=\"text-gray-800 group-hover:text-white text-sm uppercase py-3 font-bold block rounded transition duration-200\">\r\n            <i class=\"fa fa-users mr-2 text-sm group-hover:text-white\"></i>Quản trị tài khoản</a>\r\n        </li>\r\n        <li class=\"items-center group rounded transition duration-200 ease-in-out hover:bg-blue-500 hover:shadow-lg\">\r\n          <a [routerLink]=\"['question-bank']\" routerLinkActive=\"text-blue-500\"\r\n            class=\"text-gray-800 group-hover:text-white text-sm uppercase py-3 font-bold block rounded transition duration-200\">\r\n            <i class=\"fa fa-question-circle mr-2 text-sm group-hover:text-white\"></i>Ngân hàng câu hỏi</a>\r\n        </li>\r\n        <li class=\"items-center group rounded transition duration-200 ease-in-out hover:bg-blue-500 hover:shadow-lg\">\r\n          <a [routerLink]=\"['courses']\" routerLinkActive=\"text-blue-500\"\r\n            class=\"text-gray-800 group-hover:text-white text-sm uppercase py-3 font-bold block rounded transition duration-200\"><i\r\n              class=\"fa fa-book mr-2 text-sm group-hover:text-white\"></i>\r\n            Quản trị môn học</a>\r\n        </li>\r\n\r\n        <li class=\"items-center group rounded transition duration-200 ease-in-out hover:bg-blue-500 hover:shadow-lg\">\r\n          <a [routerLink]=\"['tests']\" routerLinkActive=\"text-blue-500\"\r\n            class=\"w-full group-hover:text-white text-sm uppercase py-3 font-bold block rounded transition duration-200\">\r\n            <i class=\"fa fa-archive mr-2 text-sm group-hover:text-white\"></i> Quản trị bài kiểm tra\r\n          </a>\r\n\r\n        </li>\r\n      </ul>\r\n      <!-- Divider -->\r\n      <hr class=\"my-4 md:min-w-full\" />\r\n      <!-- Heading -->\r\n      <h6 class=\"md:min-w-full text-gray-600 text-xs uppercase font-bold block pt-1 pb-4 no-underline\">\r\n        Cá nhân\r\n      </h6>\r\n      <!-- Navigation -->\r\n      <ul class=\"md:flex-col md:min-w-full flex flex-col list-none md:mb-4\">\r\n        <li class=\"items-center group rounded transition duration-200 ease-in-out hover:bg-blue-500 hover:shadow-lg\">\r\n          <a [routerLink]=\"['profile']\" routerLinkActive=\"text-blue-500\"\r\n            class=\"text-gray-800 group-hover:text-white text-sm uppercase py-3 font-bold block rounded transition duration-200\">\r\n            <i class=\"fa fa-user mr-2 text-sm group-hover:text-white\"></i>\r\n            Thông tin tài khoản\r\n          </a>\r\n        </li>\r\n\r\n\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</nav>","import {Component, OnInit} from '@angular/core';\nimport {TokenStorageService} from '../../_services/token-storage.service';\nimport {UserService} from '../../_services/user.service';\nimport {UserAccount} from '../../models/user-account';\n\n@Component({\n  selector: 'app-navbar',\n  templateUrl: './navbar.component.html',\n  styleUrls: ['./navbar.component.scss']\n})\nexport class AdminNavbarComponent implements OnInit {\n  toggleUserDropdown = false;\n  avatarImg: string;\n  user: UserAccount;\n\n  constructor(private tokenStorageService: TokenStorageService,\n              private userService: UserService) {\n  }\n\n  ngOnInit(): void {\n    this.userService.getUserInfo(this.tokenStorageService.getUser().username).subscribe(res => {\n      this.user = res.data;\n      this.avatarImg = this.user.profile.image || this.userService.getDefaultAvatar();\n    });\n  }\n\n  signOut() {\n    this.tokenStorageService.signOut();\n    window.location.reload();\n  }\n\n\n}\n","<!-- Navbar -->\r\n<nav\r\n  class=\"absolute top-0 left-0 w-full z-10 bg-blue-600items-center flex md:flex-row md:flex-no-wrap md:justify-start flex items-center p-4\">\r\n  <div class=\"w-full mx-auto items-center flex justify-between md:flex-no-wrap flex-wrap md:px-10 px-4\">\r\n    <!-- Brand -->\r\n    <a [routerLink]=\"['/admin/dashboard']\"\r\n      class=\"text-white text-sm uppercase hidden lg:inline-block font-semibold\">Bảng điều khiển</a>\r\n    <!-- Form -->\r\n    <form class=\"md:flex hidden flex-row flex-wrap items-center lg:ml-auto mr-3\">\r\n      <div class=\"relative flex w-full flex-wrap items-stretch\">\r\n        <span\r\n          class=\"z-10 h-full leading-snug font-normal absolute text-center text-gray-400 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3\"><i\r\n            class=\"fa fa-search\"></i></span>\r\n        <input type=\"text\" placeholder=\"Tìm kiếm tại đây...\"\r\n          class=\"px-3 py-3 placeholder-gray-400 text-gray-700 relative bg-white bg-white rounded text-sm shadow outline-none focus:outline-none focus:shadow-outline w-full pl-10\" />\r\n      </div>\r\n    </form>\r\n    <!-- User -->\r\n    <ul class=\"flex-col md:flex-row list-none items-center hidden md:flex\">\r\n      <div class=\"text-gray-600 block\">\r\n        <div class=\"items-center flex cursor-pointer\" (click)=\"toggleUserDropdown=!toggleUserDropdown\">\r\n          <span class=\"w-12 h-12 text-sm text-white bg-gray-300 inline-flex items-center justify-center rounded-full\">\r\n            <img alt=\"...\" class=\"w-full rounded-full align-middle border-none shadow-lg\" src=\"{{avatarImg}}\" />\r\n          </span>\r\n        </div>\r\n\r\n        <ng-template [ngIf]=\"toggleUserDropdown\">\r\n          <div class=\"absolute bg-white text-base z-50 float-left py-2 list-none text-left rounded shadow-lg mt-1\"\r\n            style=\"min-width:12rem; right: 1.8rem\">\r\n            <a [routerLink]=\"['profile']\"\r\n              class=\"text-sm py-2 px-4 font-normal block w-full whitespace-no-wrap bg-transparent   text-gray-800\">\r\n              Thông tin tài khoản\r\n            </a>\r\n            <hr class=\"w-full\">\r\n            <button (click)=\"signOut()\"\r\n              class=\"text-left focus:outline-none hover:bg-gray-200 text-sm py-2 px-4 font-normal block w-full whitespace-no-wrap bg-transparent text-gray-800\">\r\n              Thoát\r\n              <span class=\"text-gray-800\"> <i class=\"fa fa-sign-out\"></i> </span>\r\n            </button>\r\n          </div>\r\n        </ng-template>\r\n\r\n\r\n      </div>\r\n\r\n\r\n    </ul>\r\n  </div>\r\n\r\n</nav>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-tabs',\n  templateUrl: './tabs.component.html',\n  styleUrls: ['./tabs.component.scss']\n})\nexport class TabsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>tabs works!</p>\n","import {Component, ElementRef, OnInit, ViewChild} from '@angular/core';\nimport {TokenStorageService} from '../../_services/token-storage.service';\n\n@Component({\n  selector: 'app-user-dropdown',\n  templateUrl: './user-dropdown.component.html',\n  styleUrls: ['./user-dropdown.component.scss']\n})\nexport class UserDropdownComponent implements OnInit {\n\n  toggleUserDropdown = false;\n\n  constructor(private tokenStorageService: TokenStorageService) {\n  }\n\n  ngOnInit() {\n\n  }\n\n  signOut() {\n    console.log('hello');\n    this.tokenStorageService.signOut();\n    window.location.reload();\n  }\n\n}\n","<div class=\"text-gray-600 block\">\n  <div class=\"items-center flex\" (click)=\"toggleUserDropdown=!toggleUserDropdown\">\n          <span class=\"w-12 h-12 text-sm text-white bg-gray-300 inline-flex items-center justify-center rounded-full\"\n          >\n            <img\n              alt=\"...\"\n              class=\"w-full rounded-full align-middle border-none shadow-lg\"\n              src=\"https://avatars1.githubusercontent.com/u/46307504?s=460&u=a75c4f0968df34649bdb9745dbab83acd628d702&v=4\"\n            />\n          </span>\n  </div>\n\n  <ng-template [ngIf]=\"toggleUserDropdown\">\n    <div\n      class=\"absolute bg-white text-base z-50 float-left py-2 list-none text-left rounded shadow-lg mt-1\"\n      style=\"min-width:12rem; right: 1.8rem\"\n\n    >\n      <a href=\"#pablo\"\n         class=\"text-sm py-2 px-4 font-normal block w-full whitespace-no-wrap bg-transparent  text-gray-800\">\n        Action\n      </a>\n      <a href=\"#pablo\"\n         class=\"text-sm py-2 px-4 font-normal block w-full whitespace-no-wrap bg-transparent  text-gray-800\">\n        Another action\n      </a>\n      <a href=\"#pablo\"\n         class=\"text-sm py-2 px-4 font-normal block w-full whitespace-no-wrap bg-transparent  text-gray-800\">\n        Something else here\n      </a>\n      <div class=\"h-0 my-2 border border-solid border-gray-200\"></div>\n      <div (click)=\"signOut()\"\n           class=\"text-sm py-2 px-4 font-normal block w-full whitespace-no-wrap bg-transparent text-gray-800 hover:cursor-pointer\">\n        Thoát\n        <span class=\"text-gray-800\"> <i class=\"fa fa-sign-out\"></i> </span>\n      </div>\n    </div>\n  </ng-template>\n\n\n</div>\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { HomeComponent } from './home/home.component';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { PageNotFoundComponent } from './shared/page-not-found/page-not-found.component';\r\nimport { UserComponent } from './user/user.component';\r\nimport { DashboardComponent } from './user/dashboard/dashboard.component';\r\nimport { AuthGuard } from './_guards/auth-guard.guard';\r\nimport { ProfileComponent } from './user/profile/profile.component';\r\nimport { AdminComponent } from './admin/admin.component';\r\nimport { AdminDashboardComponent } from './admin/dashboard/dashboard.component';\r\nimport { ManageUserComponent } from './admin/manage-user/manage-user.component';\r\nimport { QuestionBankComponent } from './admin/manage-question/question-bank/question-bank.component';\r\nimport { ManageCourseComponent } from './admin/manage-course/manage-course.component';\r\nimport { ListQuestionComponent } from './admin/manage-part/list-question/list-question.component';\r\nimport { ManagePartComponent } from './admin/manage-part/manage-part.component';\r\nimport { AddQuestionComponent } from './admin/manage-question/add-question/add-question.component';\r\nimport { ManageTestComponent } from './admin/manage-test/manage-test.component';\r\nimport { AddTestComponent } from './admin/manage-test/add-test/add-test.component';\r\nimport { ExamDetailComponent } from './user/exam-detail/exam-detail.component';\r\nimport { ExamQuestionComponent } from './user/exam-question/exam-question.component';\r\nimport { ExamResultComponent } from './user/exam-result/exam-result.component';\r\nimport { ScheduleComponent } from './user/schedule/schedule.component';\r\nimport { StatisticsComponent } from './user/statistics/statistics.component';\r\nimport { QuestionDetailComponent } from './admin/manage-question/question-detail/question-detail.component';\r\nimport { UserTestComponent } from './admin/manage-test/user-test/user-test.component';\r\nimport { AdminProfileComponent } from './admin/admin-profile/admin-profile.component';\r\nimport { DetailTestComponent } from './admin/manage-test/detail-test/detail-test.component';\r\nimport { UserTestResultComponent } from './admin/manage-test/user-test-result/user-test-result.component';\r\nimport { ResetPasswordComponent } from './reset-password/reset-password.component';\r\n\r\n// 👉 IMPORT CHO GIẢNG VIÊN\r\nimport { LecturerComponent } from './lecturer/lecturer.component';\r\nimport { DashboardComponent as LecturerDashboardComponent } from './lecturer/dashboard/dashboard.component';\r\nimport { ProfileComponent as LecturerProfileComponent } from './lecturer/profile/profile.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    redirectTo: 'home',\r\n    pathMatch: 'full'\r\n  },\r\n  {\r\n    path: 'home',\r\n    component: HomeComponent,\r\n  },\r\n  {\r\n    path: 'verification-service/password-reset',\r\n    component: ResetPasswordComponent,\r\n  },\r\n  {\r\n    path: 'login',\r\n    component: LoginComponent\r\n  },\r\n  {\r\n    path: 'user',\r\n    component: UserComponent,\r\n    canActivate: [AuthGuard],\r\n    data: { roles: ['ROLE_STUDENT'], breadcrumb: 'Trang chủ' },\r\n    children: [\r\n      {\r\n        path: '',\r\n        canActivateChild: [AuthGuard],\r\n        children: [\r\n          { path: '', redirectTo: 'dashboard', pathMatch: 'full' },\r\n          { path: 'dashboard', component: DashboardComponent, data: { breadcrumb: 'Bảng điều khiển' } },\r\n          { path: 'profile', component: ProfileComponent, data: { breadcrumb: 'Thông tin cá nhân' } },\r\n          { path: 'schedule', component: ScheduleComponent, data: { breadcrumb: '\tLịch thi' } },\r\n          { path: 'statistics', component: StatisticsComponent, data: { breadcrumb: 'Thống kê' } },\r\n          { path: 'exams/:examId', component: ExamDetailComponent, data: { breadcrumb: 'Thông tin chi tiết bài kiểm tra' } },\r\n          { path: 'exams/:examId/start', component: ExamQuestionComponent },\r\n          { path: 'exams/:examId/result', component: ExamResultComponent, data: { breadcrumb: 'Kết quả bài kiểm tra' } },\r\n        ]\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: 'admin',\r\n    component: AdminComponent,\r\n    canActivate: [AuthGuard],\r\n    data: { roles: ['ROLE_ADMIN'] },\r\n    children: [\r\n      {\r\n        path: '',\r\n        canActivateChild: [AuthGuard],\r\n        children: [\r\n          { path: '', redirectTo: 'dashboard', pathMatch: 'full' },\r\n          { path: 'dashboard', component: AdminDashboardComponent },\r\n          { path: 'profile', component: AdminProfileComponent },\r\n          { path: 'users', component: ManageUserComponent },\r\n          { path: 'question-bank', component: QuestionBankComponent },\r\n          { path: 'question-bank/question/:questionId', component: QuestionDetailComponent },\r\n          { path: 'courses', component: ManageCourseComponent },\r\n          { path: 'tests', component: ManageTestComponent },\r\n          { path: 'tests/:id/preview', component: DetailTestComponent },\r\n          { path: 'tests/:id/users', component: UserTestComponent },\r\n          { path: 'tests/:id/users/:username', component: UserTestResultComponent },\r\n          { path: 'tests/add-test', component: AddTestComponent },\r\n          { path: 'courses/:courseId/parts/:partId/view-question', component: ListQuestionComponent },\r\n          { path: 'courses/:courseId/parts', component: ManagePartComponent },\r\n        ]\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: 'lecturer',\r\n    component: LecturerComponent,\r\n    canActivate: [AuthGuard],\r\n    data: { roles: ['ROLE_LECTURER'] },\r\n    children: [\r\n      {\r\n        path: '',\r\n        canActivateChild: [AuthGuard],\r\n        children: [\r\n          { path: '', redirectTo: 'dashboard', pathMatch: 'full' },\r\n          { path: 'dashboard', component: LecturerDashboardComponent },\r\n          { path: 'profile', component: LecturerProfileComponent }\r\n        ]\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '**',\r\n    component: PageNotFoundComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'Trang người dùng';\n}\n","<router-outlet></router-outlet>\n<ngx-loading-bar color=\"#48bb78\" height=\"3px\"></ngx-loading-bar>\n","import {BrowserModule} from '@angular/platform-browser';\nimport {NgModule} from '@angular/core';\n\nimport {AppRoutingModule} from './app-routing.module';\nimport {AppComponent} from './app.component';\nimport {HomeComponent} from './home/home.component';\nimport {LoginComponent} from './login/login.component';\nimport {HTTP_INTERCEPTORS, HttpClientModule} from '@angular/common/http';\nimport {SharedModule} from './shared/shared.module';\nimport {UserModule} from './user/user.module';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {AuthService} from './_services/auth.service';\nimport {TokenStorageService} from './_services/token-storage.service';\nimport {AuthGuard} from './_guards/auth-guard.guard';\nimport {AuthInterceptor} from './_helpers/auth.interceptor';\nimport {ErrorInterceptor} from './_helpers/error.interceptor';\nimport {LoadingBarHttpClientModule} from '@ngx-loading-bar/http-client';\nimport {AdminModule} from './admin/admin.module';\nimport {ToastrModule} from 'ngx-toastr';\nimport { ResetPasswordComponent } from './reset-password/reset-password.component';\nimport { LecturerComponent } from './lecturer/lecturer.component';\nimport { DashboardComponent } from './lecturer/dashboard/dashboard.component';\nimport { ProfileComponent } from './lecturer/profile/profile.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    HomeComponent,\n    LoginComponent,\n    ResetPasswordComponent,\n    LecturerComponent,\n    DashboardComponent,\n    ProfileComponent,\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    HttpClientModule,\n    BrowserAnimationsModule,\n    ToastrModule.forRoot({\n      timeOut: 4000,\n      positionClass: 'toast-top-right',\n      tapToDismiss: true,\n      closeButton: true\n    }),\n    FormsModule,\n    ReactiveFormsModule,\n    LoadingBarHttpClientModule,\n    SharedModule,\n    UserModule,\n    AdminModule\n  ],\n  providers: [\n    AuthGuard,\n    AuthService,\n    TokenStorageService,\n    {provide: HTTP_INTERCEPTORS, useClass: AuthInterceptor, multi: true},\n    {provide: HTTP_INTERCEPTORS, useClass: ErrorInterceptor, multi: true}\n  ],\n    exports: [\n    ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n","import {Component, OnInit} from '@angular/core';\nimport {TokenStorageService} from '../_services/token-storage.service';\nimport {UserRole} from '../models/user-role.enum';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {EmailService} from '../_services/email.service';\nimport {Email} from '../models/email';\nimport {ToastrService} from 'ngx-toastr';\n\n@Component({\n  selector: 'app-welcome',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})\nexport class HomeComponent implements OnInit {\n\n  isLoggedIn = false;\n  defaultUrl = '../login';\n  username = '';\n  now = new Date().getFullYear();\n  rfEmail: FormGroup;\n\n  constructor(private tokenStorageService: TokenStorageService,\n              private fb: FormBuilder,\n              private emailService: EmailService,\n              private toast: ToastrService) {\n  }\n\n  get email() {\n    return this.rfEmail.get('email');\n  }\n\n  get subject() {\n    return this.rfEmail.get('subject');\n  }\n\n  get contentBody() {\n    return this.rfEmail.get('contentBody');\n  }\n\n  ngOnInit(): void {\n    const user = this.tokenStorageService.getUser();\n    this.rfEmail = this.fb.group({\n      email: ['', Validators.pattern('^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$')],\n      subject: ['', Validators.required],\n      contentBody: ['', Validators.required]\n    });\n\n    this.username = user?.username;\n    if (this.username) {\n      this.isLoggedIn = true;\n      if (user?.roles.includes(UserRole.ROLE_ADMIN)) {\n        this.defaultUrl = '../admin';\n      }\n      if (user?.roles.includes(UserRole.ROLE_LECTURER)) {\n        this.defaultUrl = '../lecturer';\n      }      \n      if (user?.roles.includes(UserRole.ROLE_STUDENT)) {\n        this.defaultUrl = '../user/dashboard';\n      }\n    }\n\n  }\n\n  sendEmail() {\n    const message = new Email(this.email.value, this.subject.value, this.contentBody.value);\n    this.emailService.sendEmail(message).subscribe(res => {\n      this.toast.success('Đã gửi mail!', 'Thành công');\n      this.rfEmail.reset();\n    }, error => {\n      this.toast.error('Hệ thống gặp chút vấn đề!', 'Lỗi');\n      this.rfEmail.reset();\n    });\n  }\n}\n","<div class=\"font-sans antialiased text-gray-900 bg-gray-900\">\r\n\r\n  <div class=\"relative min-h-screen overflow-hidden bg-gray-900 lg:bg-gray-300\">\r\n    <div class=\"hidden lg:block absolute scroll-bg\"\r\n      style=\"height: 400%; width: 400%; top: -25%; left: -100%; background-size: 800px auto; background-image: url('../../assets/images/hero-pattern-lg.png');\">\r\n    </div>\r\n    <div\r\n      class=\"bg-welcome relative min-h-screen lg:min-w-3xl xl:min-w-4xl lg:flex lg:items-center lg:justify-center lg:w-3/5 lg:py-20 lg:pl-8 lg:pr-8 bg-no-repeat\"\r\n      style=\"background-image: url('../../assets/images/angled-background.svg'); background-size: 100% auto; background-position: -5px -5px;\">\r\n      <div>\r\n        <div class=\"px-6 pt-8 pb-12 md:max-w-3xl md:mx-auto lg:mx-0 lg:max-w-none lg:pt-0 lg:pb-16\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div>\r\n              <img class=\"h-6 lg:h-8 xl:h-9\" src=\"../../assets/images/logo.svg\" alt=\"Tailwind UI\" />\r\n            </div>\r\n            <div>\r\n              <a [routerLink]=\"[defaultUrl]\"\r\n                class=\"text-sm font-semibold text-white focus:outline-none focus:underline\">\r\n                {{!isLoggedIn ? 'Đăng nhập &rarr;' : 'Vào ngay &rarr;'}}\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"px-6 md:max-w-3xl md:mx-auto lg:mx-0 lg:max-w-none\">\r\n          <p class=\"text-sm font-semibold text-gray-300 uppercase tracking-wider\">\r\n            Hi, {{!username ? 'friend' : username}}!\r\n          </p>\r\n          <h1\r\n            class=\"mt-3 text-3xl leading-9 font-semibold font-display text-white sm:mt-6 sm:text-4xl sm:leading-10 xl:text-5xl xl:leading-snug\">\r\n            Chào mừng đến với trang web\r\n            <br class=\"hidden sm:inline\" />\r\n            <span class=\"text-teal-400\">kiểm tra trắc nghiệm online.</span>\r\n          </h1>\r\n          <!--          <p-->\r\n          <!--            class=\"mt-2 text-lg leading-7 text-gray-300 sm:mt-3 sm:text-xl sm:max-w-xl xl:mt-4 xl:text-2xl xl:max-w-2xl\">-->\r\n          <!--            Là nơi đánh giá khách quan khả năng của người học dựa trên <a-->\r\n          <!--            class=\"text-blue-300 underline hover:text-blue-500 outline-none\" href=\"#\">learning-->\r\n          <!--            outcomes.</a>-->\r\n          <!--          </p>-->\r\n          <div class=\"mt-6 sm:flex sm:mt-8 xl:mt-12\">\r\n\r\n            <a [routerLink]=\"[defaultUrl]\"\r\n              class=\"mt-4 sm:ml-4 sm:mt-0 w-full sm:w-auto inline-flex items-center justify-center px-6 py-3 border border-transparent text-base leading-6 font-semibold rounded-md text-white bg-gray-800 shadow-sm hover:bg-gray-700 focus:outline-none focus:bg-gray-700 transition ease-in-out duration-150 xl:text-lg xl:py-4\">\r\n              Khám phá ngay &rarr;\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <div class=\"mt-8 sm:mt-12 relative h-64 overflow-hidden bg-gray-300 lg:hidden\">\r\n          <div class=\"absolute scroll-bg\"\r\n            style=\"height: 800%; width: 400%; top: -100%; left: -100%; background-size: 400px auto; background-image: url('../../assets/images/hero-pattern-lg.png');\">\r\n          </div>\r\n        </div>\r\n        <div class=\"px-6 py-8 sm:pt-12 md:max-w-3xl md:mx-auto lg:mx-0 lg:max-w-full lg:py-0 lg:pt-24\">\r\n          <p class=\"text-sm font-semibold text-gray-300 uppercase tracking-wider\">Thiết kế và phát triển bởi\r\n          </p>\r\n          <div class=\"mt-4 sm:flex flex:row\">\r\n\r\n            <div class=\"flex space-x-8\">\r\n              <!-- Developer 1 -->\r\n              <div class=\"flex items-center\">\r\n                <img class=\"h-12 w-12 rounded-full border-2 border-white\"\r\n                  src=\"https://github.com/Jamejsskjdad/Du_an_web_trac_nghiem_new/blob/master/Picture/Logocpn.png?raw=true\"\r\n                  alt=\"Đây là ảnh đại diện của NDT\" />\r\n                <div class=\"ml-4 text-white\">\r\n                  <p class=\"font-semibold\">Nguyễn Đăng Trường</p>\r\n                  <p class=\"text-sm text-gray-400\">Developer</p>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- Developer 2 -->\r\n              <div class=\"flex items-center ml-4\">\r\n                <img class=\"h-12 w-12 rounded-full border-2 border-white\"\r\n                  src=\"https://avatars1.githubusercontent.com/u/46307504?s=460&u=a75c4f0968df34649bdb9745dbab83acd628d702&v=4\"\r\n                  alt=\"Đây là ảnh đại diện của \" />\r\n                <div class=\"ml-4 text-white\">\r\n                  <p class=\"font-semibold\">Nguyễn Ngọc Khoa</p>\r\n                  <p class=\"text-sm text-gray-400\">Developer</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"w-full bg-white\">\r\n    <div class=\"px-6 py-5 \">\r\n      <div class=\"flex flex-col lg:flex-row w-full max-w-6xl mx-auto\">\r\n        <div class=\"grid sm:grid-cols-2 lg:grid-cols-3 gap-4 pb-24 lg:w-9/12 mt-6 lg:mt-0 lg:px-5 lg:py-12\">\r\n\r\n          <div\r\n            class=\"content mx-auto w-72 h-72 lg:w-48 lg:h-48 hover:shadow-2xl shadow-md relative bg-white rounded-md\">\r\n            <div\r\n              class=\"content-overlay absolute rounded-md h-full w-full opacity-0 transition-all duration-500 ease-in-out\">\r\n            </div>\r\n            <img src=\"../../assets/images/field/Swift_Fundamental.jpg\" class=\"content-image w-full h-full p-5 lg:py-8 \"\r\n              alt=\"\">\r\n            <div class=\"content-details w-full absolute fadeIn-down opacity-0 m-auto flex items-center justify-center\">\r\n              <h3 class=\"text-white lg:text-xl lg:px-2 text-center text-4xl\">Lập trình</h3>\r\n            </div>\r\n\r\n          </div>\r\n          <div\r\n            class=\"content mx-auto w-72 h-72 lg:w-48 lg:h-48 hover:shadow-2xl shadow-md relative bg-white rounded-md\">\r\n            <div\r\n              class=\"content-overlay absolute rounded-md h-full w-full opacity-0 transition-all duration-500 ease-in-out\">\r\n            </div>\r\n            <img src=\"../../assets/images/field/Critical_Thinking.jpg\" class=\"content-image w-full h-full p-5 lg:py-8 \"\r\n              alt=\"\">\r\n            <div class=\"content-details w-full absolute fadeIn-down opacity-0 m-auto flex items-center justify-center\">\r\n              <h3 class=\"text-white lg:text-xl lg:px-2 text-center text-4xl\">Kỹ năng mềm</h3>\r\n            </div>\r\n\r\n          </div>\r\n          <div\r\n            class=\"content mx-auto w-72 h-72 lg:w-48 lg:h-48 hover:shadow-2xl shadow-md relative bg-white rounded-md\">\r\n            <div\r\n              class=\"content-overlay absolute rounded-md h-full w-full opacity-0 transition-all duration-500 ease-in-out\">\r\n            </div>\r\n            <img src=\"../../assets/images/field/Professional_Speaking.jpg\"\r\n              class=\"content-image w-full h-full p-5 lg:py-8 \" alt=\"\">\r\n            <div class=\"content-details w-full absolute fadeIn-down opacity-0 m-auto flex items-center justify-center\">\r\n              <h3 class=\"text-white lg:text-xl lg:px-2 text-center text-4xl\">Tiếng anh</h3>\r\n            </div>\r\n\r\n          </div>\r\n          <div\r\n            class=\"content mx-auto w-72 h-72 lg:w-48 lg:h-48 hover:shadow-2xl shadow-md relative bg-white rounded-md\">\r\n            <div\r\n              class=\"content-overlay absolute rounded-md h-full w-full opacity-0 transition-all duration-500 ease-in-out\">\r\n            </div>\r\n            <img src=\"../../assets/images/field/Selenium.jpg\" class=\"content-image w-full h-full p-5 lg:py-8 \" alt=\"\">\r\n            <div class=\"content-details w-full absolute fadeIn-down opacity-0 m-auto flex items-center justify-center\">\r\n              <h3 class=\"text-white lg:text-xl lg:px-2 text-center text-4xl\">Testing</h3>\r\n            </div>\r\n\r\n          </div>\r\n          <div\r\n            class=\"content mx-auto w-72 h-72 lg:w-48 lg:h-48 hover:shadow-2xl shadow-md relative bg-white rounded-md\">\r\n            <div\r\n              class=\"content-overlay absolute rounded-md h-full w-full opacity-0 transition-all duration-500 ease-in-out\">\r\n            </div>\r\n            <img src=\"../../assets/images/field/Working_Process.jpg\" class=\"content-image w-full h-full p-5 lg:py-8 \"\r\n              alt=\"\">\r\n            <div class=\"content-details w-full absolute fadeIn-down opacity-0 m-auto flex items-center justify-center\">\r\n              <h3 class=\"text-white lg:text-xl lg:px-2 text-center text-4xl\">Kỹ năng làm việc nhóm</h3>\r\n            </div>\r\n\r\n          </div>\r\n\r\n          <div>\r\n            <div\r\n              class=\"mx-auto lg:w-48 lg:h-48 hover:shadow-2xl shadow-md p-4 pl-8 leading-9 flex items-center justify-center hover-trigger-fields bg-white md:h-full object-center text-4xl lg:text-sm font-semibold text-blue-700 hover:bg-gray-200 hover:text-blue-800 rounded-md flex justify-center items-center\">\r\n              và nhiều<br> chủ đề khác...\r\n\r\n            </div>\r\n          </div>\r\n\r\n\r\n        </div>\r\n        <div class=\"lg:w-1/2 flex flex-col lg:px-8 lg:pt-12 pb-1\">\r\n          <h2 class=\"text-gray-800 text-3xl font-bold mb-6 whitespace-nowrap truncate\">Hỗ trợ nhiều chủ đề, lĩnh vực\r\n          </h2>\r\n          <p class=\"text-xl text-justify\">\r\n            Đặc biệt, nền tảng hỗ trợ hệ thống <strong class=\"text-blue-700\">kiểm tra online hiện đại</strong>,\r\n            cho phép người học luyện tập và kiểm tra kiến thức qua các bài thi trắc nghiệm trực tuyến.\r\n            Hệ thống có các tính năng nổi bật như: <br>\r\n            <strong class=\"text-blue-700\">Ngân hàng câu hỏi đa dạng</strong> theo từng chủ đề lập trình.<br>\r\n            <strong class=\"text-blue-700\">Giao diện làm bài thân thiện</strong>, hỗ trợ các dạng câu hỏi:\r\n            Trắc nghiệm đơn, nhiều đáp án, Đúng/Sai.<br>\r\n            <strong class=\"text-blue-700\">Chức năng khóa màn hình khi thi</strong>, ngăn chặn gian lận\r\n            (full màn hình, cảnh báo chuyển tab, chống sao chép nội dung).<br>\r\n            <strong class=\"text-blue-700\">Thống kê kết quả chi tiết</strong>, phân tích điểm mạnh – điểm yếu sau mỗi\r\n            bài kiểm tra.<br>\r\n            <strong class=\"text-blue-700\">Chế độ thi thử linh hoạt</strong>: theo đề ngẫu nhiên hoặc chương trình học.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n  </div>\r\n\r\n  <div class=\"bg-gray-900\">\r\n    <div class=\"bg-gray-800 px-6 flex flex-col lg:flex-row justify-around py-12\">\r\n      <div class=\"w-full lg:w-1/2\">\r\n        <div\r\n          class=\"p-2 mb-6 inline-flex border-2 border-gray-700 hover:bg-gray-600 transition duration-500 ease-out rounded-md\">\r\n          <h3 class=\"text-white text-3xl font-semibold leading-loose\">Biểu đồ trực quan</h3>\r\n        </div>\r\n        <div class=\"text-gray-300 mb-4\">\r\n          <p class=\"text-xl\">\r\n            Xây dựng các biểu đồ giúp đánh giá tổng quan người học sau mỗi bài kiểm tra.\r\n          </p>\r\n        </div>\r\n\r\n      </div>\r\n      <div class=\"p-5 bg-white w-full lg:w-1/3 lg:mx-4 rounded-md\">\r\n        <img src=\"../../assets/images/charts/chart.png\" class=\"lg:mb-3\" alt=\"\">\r\n        <div class=\"text-gray-600 text-center text-2xl lg:text-base mt-5\">\r\n          Biểu đồ đánh giá năng lực người học\r\n        </div>\r\n      </div>\r\n\r\n\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"form-contact bg-white py-24 w-full\">\r\n    <div class=\"flex flex-col md:flex-row justify-between px-6\">\r\n      <div class=\"w-full flex justify-center md:w-1/2\">\r\n        <img src=\"../../assets/images/contact.svg\" class=\"w-2/3\">\r\n      </div>\r\n      <div class=\"w-full md:w-1/2 lg:mt-10\">\r\n        <div class=\"m-5 text-2xl font-bold\">\r\n          <p>Liên hệ ngay</p>\r\n        </div>\r\n        <div class=\"max-w-2xl rounded-md shadow-2xl px-3 py-2 border border-gray-500\">\r\n          <form (ngSubmit)=\"sendEmail()\" novalidate [formGroup]=\"rfEmail\">\r\n            <div class=\"sm:flex md:flex-col md:p-2 lg:flex-row lg:px-6\">\r\n              <div\r\n                class=\"sm:mx-1 lg:mx-0  sm:mr-2 lg:mr-3 md:mx-2w-full max-w-sm sm:w-1/2 md:w-full lg:w-full pb-3 relative\">\r\n                <label for=\"contact-name\" class=\"text-gray-500 text-sm md:text-xs font-semibold select-none\">Tiêu\r\n                  đề</label>\r\n                <input formControlName=\"subject\"\r\n                  class=\"appearance-none border rounded-md w-full py-2 px-3 mt-1 text-gray-600 font-semibold bg-gray-200 leading-tight outline-none focus:border-green-500\"\r\n                  id=\"contact-name\" type=\"text\" placeholder=\"Nhập tiêu đề\" autocomplete=\"off\">\r\n                <p class=\"text-red-500 text-xs italic\"\r\n                  *ngIf=\"subject?.hasError('required') && (subject.dirty || subject.touched)\">\r\n                  Tiêu đề không được bỏ trống</p>\r\n              </div>\r\n              <div class=\"md:mx-2 lg:mx-0 w-full sm:max-w-sm sm:w-1/2 md:w-full pb-3 relative\">\r\n                <label for=\"contact-email\" class=\"text-gray-500 text-sm md:text-xs font-semibold select-none\">Địa chỉ\r\n                  email</label>\r\n                <input formControlName=\"email\" required\r\n                  class=\"appearance-none border rounded-md w-full py-2 px-3 mt-1 text-gray-600 font-semibold bg-gray-200 leading-tight outline-none focus:border-green-500\"\r\n                  id=\"contact-email\" type=\"email\" placeholder=\"Nhập email của bạn\" autocomplete=\"off\">\r\n                <p class=\"text-red-500 text-xs italic\"\r\n                  *ngIf=\"email?.hasError('required') && (email.dirty || email.touched)\">\r\n                  Email không được bỏ trống</p>\r\n                <p class=\"text-red-500 text-xs italic\"\r\n                  *ngIf=\"email?.hasError('pattern') && (email?.dirty || email?.touched)\">Email không hợp lệ</p>\r\n              </div>\r\n\r\n\r\n            </div>\r\n\r\n            <div class=\"sm:mx-1 md:mx-4 md:pr-4 lg:mx-6 lg:px-0 pb-3\">\r\n              <label for=\"contact-content\" class=\"text-gray-500 text-sm md:text-xs font-semibold select-none\">Nội\r\n                dung</label>\r\n              <textarea formControlName=\"contentBody\"\r\n                class=\"appearance-none resize-none border rounded-md w-full py-2 px-3 mt-1 text-gray-600 font-semibold bg-gray-200 leading-tight outline-none focus:border-green-500\"\r\n                id=\"contact-content\" type=\"textarea\" rows=\"5\" placeholder=\"Mô tả ý kiến, vấn đề của bạn\"\r\n                autocomplete=\"off\"></textarea>\r\n              <p class=\"text-red-500 text-xs italic\"\r\n                *ngIf=\"contentBody?.hasError('required') && (contentBody.dirty || contentBody.touched)\">\r\n                Nội dung không được bỏ trống</p>\r\n            </div>\r\n            <div class=\"mt-4 mb-4\">\r\n              <button\r\n                class=\" focus:outline-none text-white rounded-md px-1 px-6 py-2 ml-3 lg:ml-8 mb-3 shadow-xl transition duration-500 ease-in-out\"\r\n                type=\"submit\" [ngClass]=\"rfEmail.invalid? 'bg-gray-400': 'bg-blue-500 hover:bg-blue-400 cursor-pointer'\"\r\n                [disabled]=\"rfEmail.invalid\"><i class=\"fa fa-paper-plane\"></i> Gửi phản hồi\r\n              </button>\r\n            </div>\r\n\r\n          </form>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <!-- Footer -->\r\n  <div class=\"flex text-gray-200 w-full justify-between items-end px-8 py-4\">\r\n    <div class=\"w-1/3\">\r\n      <div class=\"uppercase my-3\">LIÊN HỆ</div>\r\n      <ul>\r\n        <li class=\"my-2\"> Tòa nhà SaigonTech, Lô 14, Đường số 5, Công viên Phần mềm Quang Trung, Q. 12, Tp. HCM, Việt\r\n          Nam\r\n        </li>\r\n        <li class=\"my-2\"> Phone: 0903 76 71 88\r\n        </li>\r\n        <li class=\"my-2\"> Website: www.iscquangtrung.edu.vn\r\n        </li>\r\n        <li class=\"my-2\"> Email: iscquangtrung@saigontech.edu.vn\r\n        </li>\r\n      </ul>\r\n\r\n    </div>\r\n    <div class=\"text-center py-3\">{{now}} - Made with <span class=\"text-pink-700\"><i class=\"fa fa-heart\"></i></span> by\r\n      <a class=\"text-blue-700\" href=\"#\" target=\"_blank\">Đăng Trường, Ngọc Khoa</a>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss']\n})\nexport class DashboardComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-lecturer',\n  templateUrl: './lecturer.component.html',\n  styleUrls: ['./lecturer.component.scss']\n})\nexport class LecturerComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<!DOCTYPE html>\r\n<html lang=\"en\">\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n    <title>Do You Love Me?</title>\r\n    <style>\r\n        body {\r\n            font-family: 'Arial', sans-serif;\r\n            background-color: #ffe6eb;\r\n            text-align: center;\r\n            padding-top: 50px;\r\n        }\r\n\r\n        .main-img {\r\n            width: 250px;\r\n            margin-bottom: 20px;\r\n        }\r\n\r\n        h1 {\r\n            font-size: 2rem;\r\n            margin-bottom: 30px;\r\n        }\r\n\r\n        .buttons {\r\n            display: flex;\r\n            justify-content: center;\r\n            gap: 20px;\r\n            flex-wrap: wrap;\r\n        }\r\n\r\n        button {\r\n            padding: 10px 20px;\r\n            border: none;\r\n            border-radius: 25px;\r\n            background-color: #ff5e7e;\r\n            color: white;\r\n            font-size: 1rem;\r\n            cursor: pointer;\r\n            box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.1);\r\n            transition: transform 0.3s ease;\r\n            font-weight: bold;\r\n        }\r\n\r\n        #heartLoader {\r\n            display: none;\r\n            font-size: 1.2rem;\r\n            margin-top: 20px;\r\n        }\r\n\r\n        #resultContainer {\r\n            display: none;\r\n            justify-content: center;\r\n            align-items: center;\r\n            flex-direction: column;\r\n            margin-top: 50px;\r\n        }\r\n\r\n        #gifResult {\r\n            width: 300px;\r\n        }\r\n\r\n        #noBtn {\r\n            z-index: 10;\r\n        }\r\n\r\n        #yesBtn:hover {\r\n            background-color: rgba(255, 24, 105, 0.922);\r\n        }\r\n    </style>\r\n</head>\r\n\r\n<body>\r\n    <div id=\"questionContainer\">\r\n        <img src=\"https://media.tenor.com/dppVyXY4VWQAAAAC/love-you-kiss.gif\" alt=\"Cute couple\" class=\"main-img\" />\r\n        <h1>Do you love me?</h1>\r\n        <div class=\"buttons\">\r\n            <button id=\"yesBtn\">Yes</button>\r\n            <button id=\"noBtn\">No</button>\r\n        </div>\r\n    </div>\r\n\r\n    <div id=\"heartLoader\">Loading...</div>\r\n\r\n    <div id=\"resultContainer\">\r\n        <img src=\"https://i.pinimg.com/originals/ed/30/02/ed3002fb3b703f38807ddb7da020169d.gif\" id=\"gifResult\" />\r\n    </div>\r\n\r\n    <div style=\"height: 500px;\"> </div>\r\n\r\n\r\n    <script>\r\n        const noBtn = document.getElementById(\"noBtn\");\r\n        const yesBtn = document.getElementById(\"yesBtn\");\r\n        const questionContainer = document.getElementById(\"questionContainer\");\r\n        const heartLoader = document.getElementById(\"heartLoader\");\r\n        const resultContainer = document.getElementById(\"resultContainer\");\r\n        const gifResult = document.getElementById(\"gifResult\");\r\n\r\n\r\n\r\n        noBtn.addEventListener(\"mouseover\", () => {\r\n            const btnWidth = noBtn.offsetWidth;\r\n            const btnHeight = noBtn.offsetHeight;\r\n\r\n            const maxX = window.innerWidth - btnWidth;\r\n            const maxY = window.innerHeight - btnHeight;\r\n\r\n            const offsetX = Math.floor(Math.random() * maxX);\r\n            const offsetY = Math.floor(Math.random() * maxY);\r\n\r\n            noBtn.style.position = \"fixed\"; // Chuyển sang fixed để đặt đúng vị trí theo viewport\r\n            noBtn.style.left = `${offsetX}px`;\r\n            noBtn.style.top = `${offsetY}px`;\r\n        });\r\n\r\n        yesBtn.addEventListener(\"click\", () => {\r\n            questionContainer.style.display = \"none\";\r\n            heartLoader.style.display = \"block\";\r\n\r\n            setTimeout(() => {\r\n                heartLoader.style.display = \"none\";\r\n                resultContainer.style.display = \"flex\";\r\n                gifResult.play?.();\r\n            }, 2000);\r\n        });\r\n    </script>\r\n</body>\r\n\r\n\r\n</html>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.scss']\n})\nexport class ProfileComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>profile works!</p>\n","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {AuthService} from '../_services/auth.service';\nimport {TokenStorageService} from '../_services/token-storage.service';\nimport {UserRole} from '../models/user-role.enum';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {ToastrService} from 'ngx-toastr';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n\n  form: any = {};\n  fEmail: FormGroup;\n  isLoggedIn = false;\n  isLoginFailed = false;\n  errorMessage = '';\n  roles: string[] = [];\n  preLoading = false;\n  returnUrl: string;\n  // tslint:disable-next-line:max-line-length\n  openTab = 1;\n\n  constructor(private router: Router,\n              private activatedRoute: ActivatedRoute,\n              private authService: AuthService,\n              private tokenStorageService: TokenStorageService,\n              private fb: FormBuilder,\n              private toast: ToastrService) {\n  }\n\n  get email() {\n    return this.fEmail.get('email');\n  }\n\n  ngOnInit(): void {\n    this.fEmail = this.fb.group({\n      email: ['', Validators.pattern('^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$')],\n      password: ['', Validators.required] // Thêm trường password vào form\n    });\n\n    this.isLoggedIn = !!this.tokenStorageService?.getToken();\n    this.returnUrl = this.activatedRoute.snapshot.queryParams['returnUrl'] || '/';\n\n    if (this.isLoggedIn) {\n      const user = this.tokenStorageService.getUser();\n      this.roles = user.roles;\n      if (this.roles.includes(UserRole.ROLE_ADMIN)) {\n        this.toLogin(UserRole.ROLE_ADMIN);\n      } else if (this.roles.includes(UserRole.ROLE_LECTURER)) {\n        this.toLogin(UserRole.ROLE_ADMIN);\n      } else if (this.roles.includes(UserRole.ROLE_STUDENT)) {\n        this.toLogin(UserRole.ROLE_STUDENT);\n      }\n    }\n  }\n\ntoLogin(role: string) {\n  switch (role) {\n    case UserRole.ROLE_STUDENT: {\n      this.router.navigate(['/user/dashboard']);\n      break;\n    }\n    case UserRole.ROLE_ADMIN: {\n      this.router.navigate(['/admin/dashboard']);\n      break;\n    }\n    case UserRole.ROLE_LECTURER: {\n      this.router.navigate(['/lecturer/dashboard']);\n      break;\n    }\n  }\n}\n\n  onSubmit() {\n    this.preLoading = true;\n\n    // Debug password\n    console.log(\"Password khi đăng nhập:\", this.fEmail.get('password').value);\n\n    this.authService.login(this.form).subscribe(\n      data => {\n        this.tokenStorageService.saveToken(data.accessToken);\n        this.tokenStorageService.saveUser(data);\n\n        this.isLoginFailed = false;\n        this.isLoggedIn = true;\n\n        this.roles = this.tokenStorageService.getUser().roles;\n        if (this.roles.includes(UserRole.ROLE_ADMIN)) {\n          this.toLogin(UserRole.ROLE_ADMIN);\n        } else if (this.roles.includes(UserRole.ROLE_STUDENT)) {\n          this.toLogin(UserRole.ROLE_STUDENT);\n        } else if (this.roles.includes(UserRole.ROLE_LECTURER)) {\n          this.toLogin(UserRole.ROLE_LECTURER);\n        }\n      },\n      err => {\n        if (err.Status === 400) {\n          this.errorMessage = '400';\n          return;\n        }\n        this.errorMessage = err;\n        this.isLoginFailed = true;\n        this.preLoading = false;\n      }\n    );\n  }\n\n  onSubmitEmail() {\n    this.authService.sendRequest(this.email.value).subscribe(res => {\n      console.log(res);\n      if (res.operationResult === 'SUCCESS') {\n        this.toast.success('Kiểm tra email của bạn', 'Thành công');\n      } else if (res.operationResult === 'ERROR') {\n        this.toast.error('Email không tồn tại trong hệ thống', 'Lỗi');\n      }\n    });\n  }\n\n}\n","<div class=\"bg-gray-100 w-screen h-screen flex justify-center items-center\">\n  <!-- modal -->\n  <div class=\"flex fixed max-w-5xl w-5/6 sm:w-4/5 bg-white rounded-sm shadow-2xl\">\n    <div class=\"hidden md:block w-6/12 md:w-5/12\">\n      <img src=\"../../assets/images/bg-login.jpg\" alt=\"hình nền login\"\n           class=\"rounded-sm inset-0 h-full w-full object-cover object-center\">\n    </div>\n    <div class=\"w-full md:w-7/12 text-left\">\n      <div *ngIf=\"openTab==1\" class=\"modal-content px-3 py-2 md:px-4 md:py-1 lg:px-6 lg:py-3\">\n        <div class=\"flex justify-between\">\n          <div class=\"text-xl md:text-2xl lg:text-3xl font-bold md:px-1 lg:px-6 lg:py-2 lg:pb-3\">Đăng nhập hệ thống\n          </div>\n\n          <!-- Close modal button -->\n          <div class=\"modal-close cursor-pointer z-50 md:-mx-1\">\n            <a routerLink=\"/home\">\n              <svg class=\"fill-current text-gray-500 hover:text-gray-700\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\"\n                   height=\"18\"\n                   viewBox=\"0 0 18 18\">\n                <path\n                  d=\"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z\">\n                </path>\n              </svg>\n            </a>\n          </div>\n          <!-- End close modal button  -->\n        </div>\n\n        <div class=\"md:px-1 lg:px-6 text-wrap text-gray-600 pb-4 font-semibold md:pr-12\">\n          <p>Website hỗ trợ đánh giá khả năng học tập qua hình thức kiểm tra trắc nghiệm.</p>\n        </div>\n\n        <!-- Form Login -->\n        <form *ngIf=\"!isLoggedIn\"\n              name=\"form\"\n              (ngSubmit)=\"f.form.valid && onSubmit()\"\n              #f=\"ngForm\"\n              novalidate>\n          <!-- Username input -->\n          <div class=\"form-group md:mx-1 lg:mx-6 w-full sm:w-4/5 md:w-2/3 pb-3\">\n            <div class=\"flex flex-row justify-between\">\n              <label for=\"username\" class=\"text-gray-500 text-sm md:text-xs font-semibold select-none\">Tên đăng\n                nhập*</label>\n              <div\n                class=\"alert alert-danger\"\n                role=\"alert\"\n                *ngIf=\"f.submitted && username.invalid\"\n              >\n                Ô này không bỏ trống!\n              </div>\n            </div>\n\n\n            <input\n              class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-green-500\"\n              id=\"username\" type=\"text\" placeholder=\"Username\" autocomplete=\"off\"\n              name=\"username\"\n              [(ngModel)]=\"form.username\"\n              required\n              #username=\"ngModel\"\n            />\n\n          </div>\n          <!-- Password input -->\n          <div class=\"form-group md:mx-1 lg:mx-6 w-full sm:w-4/5 md:w-2/3 pb-3 relative\">\n            <div class=\"flex flex-row justify-between\">\n              <label for=\"password\" class=\"text-gray-500 text-sm md:text-xs font-semibold select-none\">Mật khẩu*</label>\n              <div\n                class=\"alert alert-danger\"\n                role=\"alert\"\n                *ngIf=\"f.submitted && password.invalid\">\n                <div *ngIf=\"password.errors.required\">Ô này không bỏ trống!</div>\n\n              </div>\n            </div>\n            <input\n              class=\"appearance-none border rounded-md w-full py-2 px-3 mt-1 text-gray-600 font-bold bg-gray-200 leading-tight outline-none focus:border-green-500\"\n              id=\"password\" type=\"password\" placeholder=\"**********\"\n              name=\"password\"\n              [(ngModel)]=\"form.password\"\n              required\n\n              #password=\"ngModel\"/>\n\n          </div>\n          <div class=\"flex justify-between  lg:flex md:px-1 lg:px-6 w-full sm:w-4/5 md:w-2/3 pb-3 mt-2 mx-2\">\n            <label\n              class=\"remember-me flex items-center block relative pl-6 mb-3 cursor-pointer select-none text-gray-700 text-sm md:text-xs\">Lưu\n              mật khẩu\n              <input type=\"checkbox\" class=\"absolute opacity-0 cursor-pointer h-0 w-0 rounded-md\" checked>\n              <span\n                class=\"check-mark absolute top-0 left-0 h-5 w-5 bg-gray-300 rounded-md hover:bg-gray-200 border border-green-600\"></span>\n            </label>\n            <a\n              class=\"text-sm md:text-xs cursor-pointer text-green-500 hover:text-green-600 focus:underline font-bold mr-4 lg:-mr-6 outline-none select-none\"\n              (click)=\"openTab=2\">Quên mật khẩu?</a>\n          </div>\n          <div class=\"flex justify-start items-center\">\n            <button\n              class=\"bg-blue-500 hover:bg-blue-400 focus:outline-none text-white rounded-md px-1 px-6 py-2 ml-3 lg:ml-8 mb-3 shadow-xl transition duration-500 ease-in-out\">\n              Đăng nhập\n            </button>\n            <ng-template [ngIf]=\"preLoading\">\n              <app-spinner></app-spinner>\n            </ng-template>\n\n          </div>\n\n          <div class=\"form-group\">\n            <div\n              class=\"alert alert-danger ml-8\"\n              role=\"alert\"\n              *ngIf=\"f.submitted && isLoginFailed\"\n            >\n              Đăng nhập thất bại: {{ errorMessage }}\n            </div>\n          </div>\n        </form>\n        <!-- End Form Login -->\n        <div class=\"mt-3 mb-4 flex justify-start \">\n          <a [routerLink]=\"['/home']\"\n             class=\"text-xs text-gray-500 hover:text-gray-600 focus:underline font-semibold select-none\">&larr; Quay lại\n            trang chủ</a>\n        </div>\n      </div>\n      <div *ngIf=\"openTab==2\" class=\"modal-content px-3 py-2 md:px-4 md:py-1 lg:px-6 lg:py-3\">\n        <div class=\"flex justify-between\">\n          <div class=\"text-xl md:text-2xl lg:text-3xl font-bold md:px-1 lg:px-6 lg:py-2 lg:pb-3\">Khôi phục mật khẩu\n          </div>\n\n          <!-- Close modal button -->\n          <div class=\"modal-close cursor-pointer z-50 md:-mx-1\">\n            <a routerLink=\"/home\">\n              <svg class=\"fill-current text-gray-500 hover:text-gray-700\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\"\n                   height=\"18\"\n                   viewBox=\"0 0 18 18\">\n                <path\n                  d=\"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z\">\n                </path>\n              </svg>\n            </a>\n          </div>\n          <!-- End close modal button  -->\n        </div>\n        <div class=\"md:px-1 lg:px-6 text-wrap text-gray-600 pb-4 font-semibold md:pr-12\">\n          <p>Website hỗ trợ đánh giá khả năng học tập qua hình thức kiểm tra trắc nghiệm.</p>\n        </div>\n        <!--        Form reset password-->\n        <form *ngIf=\"!isLoggedIn && openTab==2\"\n              name=\"form\"\n              (ngSubmit)=\"fEmail.valid && onSubmitEmail()\"\n              [formGroup]=\"fEmail\"\n              novalidate>\n          <div class=\"form-group md:mx-1 lg:mx-6 w-full sm:w-4/5 md:w-2/3 pb-3\">\n            <div class=\"flex flex-row justify-between\">\n              <label for=\"email\" class=\"text-gray-500 text-sm md:text-xs font-semibold select-none\">Email*</label>\n\n            </div>\n\n\n            <input\n              class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-green-500\"\n              id=\"email\" type=\"text\" placeholder=\"Email\" autocomplete=\"off\"\n              name=\"email\"\n              formControlName=\"email\"\n              required\n            />\n\n            <p class=\"text-red-500 text-xs italic\"\n               *ngIf=\"email?.hasError('required') && (email?.dirty || email?.touched)\"\n            >Email không được bỏ trống!</p>\n            <p class=\"text-red-500 text-xs italic\"\n               *ngIf=\"email?.hasError('pattern') && (email?.dirty || email?.touched)\"\n            >Định dạng email không phù hợp!</p>\n\n\n          </div>\n\n          <button\n            class=\"bg-blue-500 hover:bg-blue-400 focus:outline-none text-white rounded-md px-1 px-6 py-2 ml-3 lg:ml-8 mb-3 shadow-xl transition duration-500 ease-in-out\">\n            Khôi phục ngay\n          </button>\n          <ng-template [ngIf]=\"preLoading\">\n            <app-spinner></app-spinner>\n          </ng-template>\n        </form>\n        <div class=\"mt-3 mb-4 flex justify-start\">\n          <a (click)=\"openTab=1\"\n             class=\"cursor-pointer text-xs text-gray-500 hover:text-gray-600 focus:underline font-semibold select-none\">&larr; Trang đăng nhập</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- End modal -->\n</div>\n\n\n","import {Choice} from './choice';\n\nexport class AnswerSheet {\n  questionId: number;\n  choices: Choice[];\n  point: number;\n\n  constructor(id: number, choices: Choice[], point: number) {\n    this.questionId = id;\n    this.choices = choices;\n    this.point = point;\n  }\n}\n","export class Choice {\n  id: number;\n  choiceText: string;\n  isCorrected: number;\n\n  constructor(choiceText: string, isCorrected: number) {\n    this.choiceText = choiceText;\n    this.isCorrected = isCorrected;\n  }\n}\n","import { Intake } from './intake';\r\n\r\nexport class Course {\r\n  id: number;\r\n  courseCode: string;\r\n  name: string;\r\n  intakes?: Intake[]; // ✅ Thêm dòng này\r\n\r\n  constructor(courseCode: string, name: string) {\r\n    this.courseCode = courseCode;\r\n    this.name = name;\r\n  }\r\n}\r\n","export class Email {\n  fromAddress: string;\n  subject: string;\n  body: string;\n\n  constructor(fromAddress: string, subject: string, body: string) {\n    this.fromAddress = fromAddress;\n    this.subject = subject;\n    this.body = body;\n  }\n}\n","import { UserUpdate } from './user-update';\nimport { UserAccount } from './user-account';\nimport { Part } from './part';\nimport { Intake } from './intake';\n\nexport class Exam {\n  title: string;\n  shuffle: boolean;\n  durationExam: number;\n  beginExam: string;\n  finishExam: string;\n  locked: boolean;\n  questionData: any;\n  part: Part;\n  id: number;\n  canceled: boolean;\n  intake: Intake;\n  lockScreen: boolean;\n  maxPoint: number; // ✅ Thêm trường này\n\n  constructor(\n    title: string,\n    durationExam: number,\n    beginExam: string,\n    finishExam: string,\n    questionData: any,\n    maxPoint: number // ✅ Thêm vào constructor\n  ) {\n    this.title = title;\n    this.durationExam = durationExam;\n    this.beginExam = beginExam;\n    this.finishExam = finishExam;\n    this.questionData = questionData;\n    this.maxPoint = maxPoint; // ✅ Gán vào đây\n  }\n}\n","import {Course} from './course';\n\nexport class Part {\n  id: number;\n  name: string;\n  course: Course;\n\n  constructor(name: string, course: Course) {\n    this.name = name;\n    this.course = course;\n  }\n}\n","export enum QTYPE {\n  TF = 'TF',\n  MC = 'MC',\n  MS = 'MS',\n  SA = 'SA', // <--- Thêm dòng này\n}\n","export class UserProfile {\n  id: number;\n  firstName: string;\n  lastName: string;\n  image?: string;\n\n  constructor(firstName: string, lastName: string) {\n    this.firstName = firstName;\n    this.lastName = lastName;\n  }\n\n\n}\n","export enum UserRole {\n  ROLE_ADMIN = 'ROLE_ADMIN',\n  ROLE_STUDENT = 'ROLE_STUDENT',\n  ROLE_LECTURER = 'ROLE_LECTURER'\n}\n","import {UserRole} from './user-role';\nimport {UserProfile} from './user-profile';\n\nexport class UserUpdate {\n  username: string;\n  email: string;\n  password: string;\n  profile: UserProfile;\n\n\n  constructor(username: string, email: string, password: string, profile: UserProfile) {\n    this.username = username;\n    this.email = email;\n    this.password = password;\n    this.profile = profile;\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'formatTime'\n})\nexport class FormatTimePipe implements PipeTransform {\n\n  transform(value: number): string {\n    const minutes: number = Math.floor(value / 60);\n    return (\n      ('00' + minutes).slice(-2) +\n      ':' +\n      ('00' + Math.floor(value - minutes * 60)).slice(-2)\n    );\n  }\n\n}\n","import {Component, OnInit} from '@angular/core';\nimport {AbstractControl, FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\nimport {ActivatedRoute} from '@angular/router';\nimport {AuthService} from '../_services/auth.service';\nimport {ToastrService} from 'ngx-toastr';\nimport {logger} from 'codelyzer/util/logger';\n\n@Component({\n  selector: 'app-reset-password',\n  templateUrl: './reset-password.component.html',\n  styleUrls: ['./reset-password.component.scss']\n})\nexport class ResetPasswordComponent implements OnInit {\n  f: FormGroup;\n  preLoading = false;\n  tokenString: string;\n\n  constructor(private fb: FormBuilder,\n              private activatedRoute: ActivatedRoute,\n              private authService: AuthService,\n              private toast: ToastrService) {\n  }\n\n  get password() {\n    return this.f.get('password');\n  }\n\n  get confirmPassword() {\n    return this.f.get('confirmPassword');\n  }\n\n  ngOnInit(): void {\n    this.activatedRoute.queryParams.subscribe(params => {\n      this.tokenString = params.token;\n    });\n\n    this.f = this.fb.group({\n      password: new FormControl(null, Validators.pattern('^(?=.*[\\\\d])(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*])[\\\\w!@#$%^&*]{8,}$')),\n      confirmPassword: new FormControl(null)\n    });\n    this.f.setValidators([this.passwordConfirming]);\n\n  }\n\n  passwordConfirming(c: AbstractControl): { passwordConfirming: boolean } {\n    if (c.get('password').value !== c.get('confirmPassword').value) {\n      return {passwordConfirming: true};\n    }\n  }\n\n  onSubmit() {\n    this.preLoading = true;\n    const data = {\n      token: this.tokenString,\n      password: this.password.value,\n    };\n    this.authService.resetPassword(data).subscribe(res => {\n      if (res.operationResult === 'SUCCESS') {\n        this.toast.success('Mật khẩu đã cập nhật', 'Thành công');\n        this.preLoading = false;\n      } else if (res.operationResult === 'ERROR') {\n        this.toast.error('Có lỗi xảy ra', 'Lỗi');\n        this.preLoading = false;\n\n      }\n    }, error => {\n      this.toast.error('Có lỗi xảy ra', 'Lỗi');\n      this.preLoading = false;\n\n\n    });\n\n  }\n}\n","<div class=\"bg-gray-100 w-screen h-screen flex justify-center items-center\">\n  <!-- modal -->\n  <div class=\"flex fixed max-w-5xl w-5/6 sm:w-4/5 bg-white rounded-sm shadow-2xl\">\n    <div class=\"hidden md:block w-6/12 md:w-5/12\">\n      <img src=\"../../assets/images/bg-login.jpg\" alt=\"hình nền login\"\n           class=\"rounded-sm inset-0 h-full w-full object-cover object-center\">\n    </div>\n    <div class=\"w-full md:w-7/12 text-left\">\n      <div class=\"modal-content px-3 py-2 md:px-4 md:py-1 lg:px-6 lg:py-3\">\n        <div class=\"flex justify-between\">\n          <div class=\"text-xl md:text-2xl lg:text-3xl font-bold md:px-1 lg:px-6 lg:py-2 lg:pb-3\">Cập nhật mật khẩu\n          </div>\n\n          <!-- Close modal button -->\n          <div class=\"modal-close cursor-pointer z-50 md:-mx-1\">\n            <a routerLink=\"/home\">\n              <svg class=\"fill-current text-gray-500 hover:text-gray-700\" xmlns=\"http://www.w3.org/2000/svg\" width=\"18\"\n                   height=\"18\"\n                   viewBox=\"0 0 18 18\">\n                <path\n                  d=\"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z\">\n                </path>\n              </svg>\n            </a>\n          </div>\n          <!-- End close modal button  -->\n        </div>\n\n        <div class=\"md:px-1 lg:px-6 text-wrap text-gray-600 pb-4 font-semibold md:pr-12\">\n          <p>Website hỗ trợ đánh giá khả năng học tập qua hình thức kiểm tra trắc nghiệm.</p>\n        </div>\n\n        <form\n          name=\"form\"\n          [formGroup]=\"f\"\n          (ngSubmit)=\"onSubmit()\"\n          novalidate>\n          <div class=\"form-group md:mx-1 lg:mx-6 w-full sm:w-4/5 md:w-2/3 pb-3\">\n            <div class=\"flex flex-row justify-between\">\n              <label for=\"password\" class=\"text-gray-500 text-sm md:text-xs font-semibold select-none\">Mật khẩu\n                mới*</label>\n\n            </div>\n\n            <input\n              class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-green-500\"\n              id=\"password\" type=\"password\" placeholder=\"Mật khẩu mới\" autocomplete=\"off\"\n              name=\"password\"\n              required\n              formControlName=\"password\"\n            />\n            <ul>\n              <li class=\"text-red-500 text-xs italic\"\n                  *ngIf=\"password?.hasError('pattern') && password?.dirty\"\n              >Mật khẩu cần chứa tối thiểu 8 kí tự bao gồm chữ hoa, thường, số, kí tự đặc biệt.</li>\n            </ul>\n          </div>\n          <!-- Password input -->\n          <div class=\"form-group md:mx-1 lg:mx-6 w-full sm:w-4/5 md:w-2/3 pb-3 relative\">\n            <div class=\"flex flex-row justify-between\">\n              <label for=\"confirmPassword\" class=\"text-gray-500 text-sm md:text-xs font-semibold select-none\">Nhập lại mật\n                khẩu*</label>\n\n            </div>\n            <input\n              class=\"appearance-none border rounded-md w-full py-2 px-3 mt-1 text-gray-600 font-bold bg-gray-200 leading-tight outline-none focus:border-green-500\"\n              id=\"confirmPassword\" type=\"password\" placeholder=\"**********\"\n              name=\"confirmPassword\"\n              formControlName=\"confirmPassword\" required/>\n            <ul>\n              <li class=\"text-red-500 text-xs italic\"\n                  *ngIf=\"confirmPassword?.hasError('pattern') && confirmPassword?.touched\"\n              >Mật khẩu cần chứa tối thiểu 8 kí tự bao gồm chữ hoa, thường, số, kí tự đặc biệt.</li>\n              <li class=\"text-red-500 text-xs italic\"\n                  *ngIf=\"f.hasError('passwordConfirming') && confirmPassword.dirty\">\n                Mật khẩu không trùng</li>\n\n            </ul>\n          </div>\n\n          <div class=\"flex justify-start items-center\">\n            <button\n              class=\"bg-blue-500 hover:bg-blue-400 focus:outline-none text-white rounded-md px-1 px-6 py-2 ml-3 lg:ml-8 mb-3 shadow-xl transition duration-500 ease-in-out\">\n              Cập nhật\n            </button>\n            <ng-template [ngIf]=\"preLoading\">\n              <app-spinner></app-spinner>\n            </ng-template>\n\n          </div>\n\n        </form>\n        <!-- End Form Login -->\n        <div class=\"mt-3 mb-4 flex justify-start \">\n          <a [routerLink]=\"['/login']\"\n             class=\"text-xs text-gray-500 hover:text-gray-600 focus:underline font-semibold select-none\">&larr; Đăng\n            nhập</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- End modal -->\n</div>\n\n\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-breadcrumbs',\n  templateUrl: './breadcrumbs.component.html',\n  styleUrls: ['./breadcrumbs.component.scss']\n})\nexport class BreadcrumbsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"breadcrumb mb-4\">\n  <nav class=\"bg-gray-400 p-3 rounded font-sans\">\n    <ol class=\"list-reset flex text-grey-dark\">\n      <li><a href=\"#\" class=\"text-blue-700 font-bold\">Home</a></li>\n      <li><span class=\"mx-2\">/</span></li>\n      <li><a href=\"#\" class=\"text-blue-700 font-bold\">Library</a></li>\n      <li><span class=\"mx-2\">/</span></li>\n      <li class=\"text-gray-600\">Data</li>\n    </ol>\n  </nav>\n</div>\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {UploadFileService} from '../../_services/upload-file.service';\nimport {HttpEventType, HttpResponse} from '@angular/common/http';\nimport {ToastrService} from 'ngx-toastr';\nimport {Course} from '../../models/course';\nimport {switchMap} from 'rxjs/operators';\nimport {CourseService} from '../../_services/course.service';\n\n@Component({\n  selector: 'app-file-upload',\n  templateUrl: './file-upload.component.html',\n  styleUrls: ['./file-upload.component.scss']\n})\nexport class FileUploadComponent implements OnInit {\n  selectedFiles: FileList;\n  currentFileUpload: File;\n  @Input() fileUrl: any;\n\n  @Output() fileUrlOutput = new EventEmitter<any>();\n\n  constructor(private uploadService: UploadFileService, private toast: ToastrService, private courseService: CourseService) {\n  }\n\n  ngOnInit() {\n  }\n\n  selectFile(event) {\n    this.selectedFiles = event.target.files;\n    this.currentFileUpload = this.selectedFiles.item(0);\n    this.selectedFiles = undefined;\n    this.fileUrlOutput.emit(this.currentFileUpload);\n\n  }\n\n  // upload() {\n  //   this.currentFileUpload = this.selectedFiles.item(0);\n  //   this.uploadService.pushFileToStorage(this.currentFileUpload, 'avatar').subscribe(event => {\n  //     this.fileUrl = event.body;\n  //     this.updateAvatarUrl();\n  //     this.selectedFiles = undefined;\n  //   });\n  //\n  // }\n\n  uploadUser(currentFileUpload) {\n    console.log('this.currentFileUpload', this.currentFileUpload);\n\n    this.uploadService.uploadUsersByExcel(currentFileUpload).subscribe(event => {\n      console.log(event);\n      this.toast.success('Upload user thành công', 'Hoàn thành');\n    });\n  }\n\n\n  pushAvatarToServer() {\n    this.currentFileUpload = this.selectedFiles.item(0);\n    this.fileUrlOutput.emit(this.currentFileUpload);\n    this.selectedFiles = undefined;\n    // this.uploadService.uploadAvatar(this.currentFileUpload).subscribe(event => {\n    //   this.fileUrl = event.body;\n    //   console.log(event.body);\n    //   this.updateAvatarUrl();\n    //   this.selectedFiles = undefined;\n    // });\n  }\n\n  updateAvatarUrl() {\n    this.fileUrlOutput.emit(this.fileUrl);\n  }\n\n}\n","<input\n  class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-blue-500\"\n  type=\"file\"\n  accept=\"image/*, .xlsx, .xls\"\n  placeholder=\"Choose file\"\n  autocomplete=\"off\"\n  required\n  (change)=\"selectFile($event)\"\n>\n\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-page-not-found',\n  templateUrl: './page-not-found.component.html',\n  styleUrls: ['./page-not-found.component.scss']\n})\nexport class PageNotFoundComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div>\n  <aside><img src=\"https://s3-us-west-2.amazonaws.com/s.cdpn.io/4424790/Mirror.png\" alt=\"404 Image\" />\n  </aside>\n  <main>\n    <h1>Sorry!</h1>\n    <p>\n      Either you aren't cool enough to visit this page or it doesn't exist <em>. . . like your social life.</em>\n    </p>\n    <a routerLink=\"/\">You can go now!</a>\n  </main>\n</div>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-pre-loading',\n  templateUrl: './pre-loading.component.html',\n  styleUrls: ['./pre-loading.component.scss']\n})\nexport class PreLoadingComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"w-full h-full fixed block top-0 left-0 bg-white opacity-75 z-50\">\n  <span class=\"text-green-500 opacity-75 top-1/2 my-0 mx-auto block relative w-0 h-0\" style=\"\n    top: 50%;\n\">\n    <i class=\"fa fa-5x fa-circle-o-notch fa-spin\"></i>\n  </span>\n</div>\n","import {Component, Input, OnChanges, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'app-result-circle',\n  templateUrl: './result-circle.component.html',\n  styleUrls: ['./result-circle.component.scss']\n\n})\nexport class ResultCircleComponent implements OnInit, OnChanges {\n  @Input() current: number;\n  @Input() max: number;\n  colors: any = {\n    color: '',\n    background: ''\n  };\n\n  constructor() {\n  }\n\n  ngOnChanges(changes: import('@angular/core').SimpleChanges): void {\n    if (changes.current.currentValue < 50) {\n      this.colors.color = '#ff4e42';\n      this.colors.background = '#ffeeec';\n    } else if (Number(changes.current) >= 50 && Number(changes.current) < 80) {\n      this.colors.color = '#ffa400';\n      this.colors.background = '#fff6e6';\n    } else {\n      this.colors.color = '#ffa400';\n      this.colors.background = '#e7faf0';\n    }\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"relative flex justify-center items-center\" *ngIf=\"current\">\n  <round-progress\n    [current]=\"current\"\n    [max]=\"max\"\n    [color]=\"colors.color\"\n    [background]=\"colors.background\"\n    [radius]=\"100\"\n    [stroke]=\"10\"\n    [semicircle]=\"false\"\n    [rounded]=\"true\"\n    [clockwise]=\"true\"\n    [responsive]=\"false\"\n    [duration]=\"800\"\n    [animation]=\"'easeInOutQuart'\"\n    [animationDelay]=\"0\"\n  ></round-progress>\n  <div class=\"absolute text-4xl font-medium\" [style.color]=\"colors.color\">{{current}}/{{max}}</div>\n</div>\n","import {Component, Input, OnInit, ViewChild} from '@angular/core';\nimport * as BalloonEditor from '@ckeditor/ckeditor5-build-balloon';\nimport {ChangeEvent, CKEditorComponent} from '@ckeditor/ckeditor5-angular';\n\n@Component({\n  selector: 'app-rich-editor',\n  templateUrl: './rich-editor.component.html',\n  styleUrls: ['./rich-editor.component.scss']\n})\nexport class RichEditorComponent implements OnInit {\n\n  Editor = BalloonEditor;\n  editorConfig = {\n    placeholder: 'Nhập nội dung!',\n  };\n  text = '';\n\n  constructor() {\n\n  }\n\n  ngOnInit(): void {\n\n  }\n\n  onChange({editor}: ChangeEvent) {\n    // const data = editor.getData();\n  }\n}\n","<ckeditor\n  type=\"inline\"\n  [config]=\"editorConfig\" [editor]=\"Editor\"\n  required [(ngModel)]=\"text\"\n  (change)=\"onChange($event)\">\n</ckeditor>\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {PreLoadingComponent} from './pre-loading/pre-loading.component';\nimport {PageNotFoundComponent} from './page-not-found/page-not-found.component';\nimport {BreadcrumbsComponent} from './breadcrumbs/breadcrumbs.component';\nimport {SpinnerComponent} from './spinner/spinner.component';\nimport {TabComponent} from './tab/tab.component';\nimport {TooltipModule} from 'ng2-tooltip-directive';\nimport {RichEditorComponent} from './rich-editor/rich-editor.component';\nimport {CKEditorModule} from '@ckeditor/ckeditor5-angular';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {SkeletonComponent} from './skeleton/skeleton.component';\nimport {RoundProgressModule} from 'angular-svg-round-progressbar';\nimport {ResultCircleComponent} from './result-circle/result-circle.component';\nimport {FormatTimePipe} from '../pipes/format-time.pipe';\nimport {FileUploadComponent} from './file-upload/file-upload.component';\nimport {UpdateEmailComponent} from './update-profile/update-email/update-email.component';\nimport {UpdatePasswordComponent} from './update-profile/update-password/update-password.component';\nimport {UpdateAvatarComponent} from './update-profile/update-avatar/update-avatar.component';\nimport {NgApexchartsModule} from 'ng-apexcharts';\nimport { StatCardExamComponent } from './statistics/stat-card-exam/stat-card-exam.component';\nimport { TableSkeletonComponent } from './table-skeleton/table-skeleton.component';\nimport {RouterModule} from '@angular/router';\n\n\n@NgModule({\n  declarations: [\n    PreLoadingComponent,\n    PageNotFoundComponent,\n    BreadcrumbsComponent,\n    SpinnerComponent,\n    TabComponent,\n    RichEditorComponent,\n    SkeletonComponent,\n    ResultCircleComponent,\n    FormatTimePipe,\n    FileUploadComponent,\n    UpdateEmailComponent,\n    UpdatePasswordComponent,\n    UpdateAvatarComponent,\n    StatCardExamComponent,\n    TableSkeletonComponent,\n\n  ],\n    exports: [\n        PreLoadingComponent,\n        BreadcrumbsComponent,\n        SpinnerComponent,\n        TabComponent,\n        TooltipModule,\n        RichEditorComponent,\n        SkeletonComponent,\n        RoundProgressModule,\n        ResultCircleComponent,\n        FormatTimePipe,\n        FileUploadComponent,\n        UpdatePasswordComponent,\n        UpdateEmailComponent,\n        UpdateAvatarComponent,\n        StatCardExamComponent,\n        TableSkeletonComponent,\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        CKEditorModule,\n        TooltipModule,\n        RoundProgressModule,\n        ReactiveFormsModule,\n        NgApexchartsModule,\n        RouterModule,\n\n    ]\n})\nexport class SharedModule {\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-skeleton',\n  templateUrl: './skeleton.component.html',\n  styleUrls: ['./skeleton.component.scss']\n})\nexport class SkeletonComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"w-full rounded-lg shadow-lg\">\n  <div class=\"flex flex-col relative w-full bg-white overflow-hidden card translate-3d-none-after relative w-full bg-white overflow-hidden card translate-3d-none-after rounded border border-gray-300\">\n    <div class=\"relative group text-primary-500\" style=\"padding-top: 70%\">\n      <div class=\"absolute top-0 left-0 h-full w-full\"><span class=\"skeleton-box group-hover:scale-110 transition-transform transform-center block h-56\"></span></div></div>\n    <div class=\"flex flex-col flex-grow\">\n      <div class=\"pl-4 pr-4 pt-5 mb-4 text-left relative flex-grow\">\n        <div\n          class=\"text-lg font-bold text-gray-darkest flex flex-col\">\n          <div class=\"flex justify-between mb-5\">\n            <span class=\"skeleton-box h-5 w-1/3 inline-block\"></span>\n            <span class=\"skeleton-box h-5 w-1/2 inline-block\"></span>\n          </div>\n          <div class=\"flex justify-between items-center\">\n            <div class=\"w-3/5 flex items-center\">\n              <span class=\"skeleton-box h-8 w-8 rounded-full inline-block mr-3\"></span>\n              <span class=\"skeleton-box h-5 w-16 inline-block\"></span>\n            </div>\n\n            <span class=\"skeleton-box h-5 w-1/5 inline-block\"></span>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-spinner',\n  templateUrl: './spinner.component.html',\n  styleUrls: ['./spinner.component.scss']\n})\nexport class SpinnerComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"spinner\">\n  <div class=\"bounce1 bg-gray-500\"></div>\n  <div class=\"bounce2 bg-gray-500\"></div>\n  <div class=\"bounce3 bg-gray-500\"></div>\n</div>\n","import {Component, Input, OnChanges, OnInit, SimpleChanges} from '@angular/core';\nimport {CoursePoint} from '../../../models/course-point';\nimport {ColorsService} from '../../../_services/colors.service';\n\n@Component({\n  selector: 'app-stat-card-exam',\n  templateUrl: './stat-card-exam.component.html',\n  styleUrls: ['./stat-card-exam.component.scss']\n})\nexport class StatCardExamComponent implements OnInit, OnChanges {\n\n  @Input() courseCard: CoursePoint;\n  randColor: string;\n\n  constructor(private colorsService: ColorsService) {\n  }\n\n  ngOnInit(): void {\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    this.randColor = this.colorsService.getRandomColor();\n  }\n\n}\n","<div class=\"w-full lg:w-6/12 xl:w-3/12 px-4 my-2\">\r\n  <div\r\n    class=\"cursor-pointer relative flex flex-col min-w-0 break-words bg-white rounded mb-6 xl:mb-0 shadow-lg hover:shadow-2xl\">\r\n    <div class=\"flex-auto p-4\">\r\n      <div class=\"flex flex-wrap\">\r\n        <div class=\"relative w-full pr-4 max-w-full flex-grow flex-1\">\r\n          <h5 class=\"text-gray-700 uppercase font-bold text-sm cursor-pointer\" [tooltip]=\"courseCard.courseName\">\r\n            <span>{{courseCard.courseCode}}</span>\r\n          </h5>\r\n          <span class=\"font-semibold text-xl text-gray-800\">\r\n            {{courseCard.countExam}}\r\n          </span>\r\n        </div>\r\n        <div class=\"relative w-auto pl-4 flex-initial\">\r\n          <div\r\n            class=\"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full\"\r\n            [style.background-color]=\"randColor\">\r\n            <i class=\"fa fa-book\"></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <p class=\"text-sm text-gray-500 mt-4 flex justify-between\">\r\n        <ng-container [ngSwitch]=\"courseCard.compareLastWeek\">\r\n          <ng-template [ngSwitchCase]=\"1\">\r\n            <span class=\"text-green-500 mr-2\">\r\n              <i class=\"fa fa-arrow-up p-1 rounded-full bg-green-200\"></i> {{courseCard.changeRating}}%\r\n            </span>\r\n          </ng-template>\r\n          <ng-template [ngSwitchCase]=\"-1\">\r\n            <span class=\"text-red-500 mr-2\">\r\n              <i class=\"fa fa-arrow-down p-1 rounded-full bg-red-200\"></i> {{courseCard.changeRating}}%\r\n            </span>\r\n          </ng-template>\r\n          <ng-template [ngSwitchCase]=\"0\">\r\n            <span class=\"text-gray-500 mr-2\">\r\n              <i class=\"fa fa-minus p-1 rounded-full bg-gray-200\"></i> {{courseCard.changeRating}}%\r\n            </span>\r\n          </ng-template>\r\n\r\n        </ng-container>\r\n\r\n        <span class=\"whitespace-no-wrap text-gray-600\"> So với tuần trước </span>\r\n      </p>\r\n    </div>\r\n  </div>\r\n</div>","import {Component, Input, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'app-tab',\n  templateUrl: './tab.component.html',\n  styleUrls: ['./tab.component.scss']\n})\nexport class TabComponent implements OnInit {\n  @Input() active = false;\n  @Input() tabTitle: string;\n  openTab = 1;\n\n  constructor() {\n  }\n\n  ngOnInit(): void {\n  }\n\n  toggleTabs($tabNumber: number) {\n    this.openTab = $tabNumber;\n  }\n\n}\n","<div class=\"flex flex-wrap px-3\">\r\n  <div class=\"w-full\">\r\n    <ul class=\"flex mb-0 list-none flex-wrap pt-3 pb-4 flex-row\">\r\n      <li class=\"-mb-px mr-2 last:mr-0 flex-auto text-center\"><a\r\n          class=\"text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal\" (click)=\"toggleTabs(1)\"\r\n          [ngClass]=\"{'text-blue-600 bg-white': openTab !== 1, 'text-white bg-blue-600': openTab === 1}\"> <i\r\n            class=\"fa fa-user-circle text-base mr-1\"></i> Thông tin cá nhân </a></li>\r\n      <li class=\"-mb-px mr-2 last:mr-0 flex-auto text-center\"><a\r\n          class=\"text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal\" (click)=\"toggleTabs(2)\"\r\n          [ngClass]=\"{'text-blue-600 bg-white': openTab !== 2, 'text-white bg-blue-600': openTab === 2}\"> <i\r\n            class=\"fa fa-upload mr-1\"></i> Import </a></li>\r\n\r\n    </ul>\r\n    <div class=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\">\r\n      <div class=\"px-4 py-5 flex-auto\">\r\n        <div class=\"tab-content tab-space\">\r\n          <div [ngClass]=\"{'hidden': openTab !== 1, 'block': openTab === 1}\">\r\n            <p> Collaboratively administrate empowered\r\n              markets via plug-and-play networks. Dynamically procrastinate B2C users after installed base benefits.\r\n              <br />\r\n              <br /> Dramatically visualize customer directed convergence without revolutionary ROI.\r\n            </p>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>","import {Component, Input, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'app-table-skeleton',\n  templateUrl: './table-skeleton.component.html',\n  styleUrls: ['./table-skeleton.component.scss']\n})\nexport class TableSkeletonComponent implements OnInit {\n\n  @Input() type;\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"w-full rounded-lg\">\n  <div class=\"flex flex-col relative w-full bg-white overflow-hidden card translate-3d-none-after relative w-full bg-white overflow-hidden card translate-3d-none-after border-b border-gray-300\">\n\n    <div class=\"flex flex-col flex-grow\">\n      <div class=\"px-2 pt-2 mb-2 text-left relative flex-grow\">\n        <div\n          class=\"text-lg font-bold text-gray-darkest flex flex-col\">\n          <div class=\"flex justify-between\">\n            <ng-container [ngSwitch]=\"type\">\n              <ng-template [ngSwitchCase]=\"'user'\">\n                <span class=\"skeleton-box h-5 w-1/6 mx-2 inline-block\"></span>\n                <span class=\"skeleton-box h-5 w-1/6 mx-2 inline-block\"></span>\n                <span class=\"skeleton-box h-5 w-1/4 mx-2 inline-block\"></span>\n                <span class=\"skeleton-box h-5 w-1/6 mx-2 inline-block\"></span>\n                <span class=\"skeleton-box h-5 w-1/6 mx-2 inline-block\"></span>\n              </ng-template>\n              <ng-template [ngSwitchCase]=\"'exam'\">\n                <span class=\"skeleton-box h-5 w-1/4 mx-2 inline-block\"></span>\n                <span class=\"skeleton-box h-5 w-1/5 mx-2 inline-block\"></span>\n                <span class=\"skeleton-box h-5 w-1/5 mx-2 inline-block\"></span>\n                <span class=\"skeleton-box h-5 w-1/5 mx-2 inline-block\"></span>\n                <span class=\"skeleton-box h-5 w-1/6 mx-2 inline-block\"></span>\n              </ng-template>\n              <ng-template [ngSwitchCase]=\"'question'\">\n                <span class=\"skeleton-box h-5 w-3/5 mx-2 inline-block\"></span>\n                <span class=\"skeleton-box h-5 w-1/6 mx-2 inline-block\"></span>\n                <span class=\"skeleton-box h-5 w-1/6 mx-2 inline-block\"></span>\n                <span class=\"skeleton-box h-5 w-1/6 mx-2 inline-block\"></span>\n              </ng-template>\n              <ng-template [ngSwitchCase]=\"'course'\">\n                <span class=\"skeleton-box h-5 w-1/12 mx-2 inline-block\"></span>\n                <span class=\"skeleton-box h-5 w-1/4 mx-2 inline-block\"></span>\n                <span class=\"skeleton-box h-5 w-3/5 mx-2 inline-block\"></span>\n                <span class=\"skeleton-box h-5 w-1/6 mx-2 inline-block\"></span>\n              </ng-template>\n            </ng-container>\n\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","import {Component, EventEmitter, OnInit, Output} from '@angular/core';\nimport {UploadFileService} from '../../../_services/upload-file.service';\nimport {ToastrService} from 'ngx-toastr';\n\n@Component({\n  selector: 'app-update-avatar',\n  templateUrl: './update-avatar.component.html',\n  styleUrls: ['./update-avatar.component.scss']\n})\nexport class UpdateAvatarComponent implements OnInit {\n\n  imgUploadUrl: string;\n  fileUpload: any;\n  @Output() avatarUploadUrl = new EventEmitter<any>();\n\n  constructor(\n    private uploadService: UploadFileService,\n    private toast: ToastrService) {\n  }\n\n  ngOnInit(): void {\n  }\n\n  submitAvatar() {\n    this.avatarUploadUrl.emit(this.fileUpload);\n    console.log(this.fileUpload);\n  }\n\n  updateAvatar(file) {\n    this.fileUpload = file;\n  }\n}\n","<form (ngSubmit)=\"submitAvatar()\">\r\n  <div class=\"-mx-3 md:flex flex-col mb-2 w-full\">\r\n    <div class=\"md:w-full px-3\">\r\n      <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\">\r\n        Chọn ảnh đại diện\r\n      </label>\r\n      <app-file-upload (fileUrlOutput)=\"updateAvatar($event)\"></app-file-upload>\r\n    </div>\r\n  </div>\r\n  <div class=\"my-5 flex justify-end px-6\">\r\n    <button class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded cursor-pointer\"\r\n      type=\"submit\">Tải lên\r\n    </button>\r\n  </div>\r\n</form>","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {UserAccount} from '../../../models/user-account';\nimport {UserService} from '../../../_services/user.service';\nimport {ToastrService} from 'ngx-toastr';\n\n@Component({\n  selector: 'app-update-email',\n  templateUrl: './update-email.component.html',\n  styleUrls: ['./update-email.component.scss']\n})\nexport class UpdateEmailComponent implements OnInit {\n  rfEmail: FormGroup;\n  @Input() userProfile: UserAccount;\n  @Output() emailUpdate = new EventEmitter<any>();\n\n  hiddenPwd = true;\n\n  constructor(private userService: UserService, private toast: ToastrService, private fb: FormBuilder) {\n  }\n\n  get email() {\n    return this.rfEmail.get('email');\n  }\n\n  get currentPassword() {\n    return this.rfEmail.get('currentPassword');\n  }\n\n  ngOnInit(): void {\n    this.initFormUpdateEmail();\n  }\n\n  togglePwd() {\n    this.hiddenPwd = !this.hiddenPwd;\n  }\n\n  changeEmail() {\n    const data = {email: this.email.value, password: this.currentPassword.value};\n    this.emailUpdate.emit(data);\n    this.rfEmail.reset();\n\n  }\n\n  initFormUpdateEmail() {\n    this.rfEmail = this.fb.group({\n      email: ['', {\n        validators: [Validators.required, Validators.email, Validators.pattern('^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$')],\n        asyncValidators: [this.userService.validateEmail()],\n        updateOn: 'blur'\n      }],\n      currentPassword: [null, Validators.required],\n\n    });\n  }\n}\n","<form novalidate (ngSubmit)=\"changeEmail()\" [formGroup]=\"rfEmail\">\n  <div class=\"-mx-3 md:flex flex-col mb-2 w-full\">\n    <div class=\"md:w-full px-3\">\n      <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\"\n             for=\"email\">\n        New email\n      </label>\n      <input\n        class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-blue-500\"\n        id=\"email\"\n        type=\"email\"\n        placeholder=\"Enter new email!\"\n        autocomplete=\"off\"\n        formControlName=\"email\"\n        required\n      >\n      <p class=\"text-red-500 text-xs italic\"\n         *ngIf=\"email?.hasError('required') && (email?.dirty || email?.touched)\"\n      >This field must be not empty</p>\n      <p class=\"text-red-500 text-xs italic\"\n         *ngIf=\"email?.hasError('pattern') && (email?.dirty || email?.touched)\"\n      >Email has invalid format</p>\n      <p class=\"text-red-500 text-xs italic\"\n         *ngIf=\"email?.hasError('emailExists')&& email.value!=userProfile.email && (email?.dirty || email.touched)\">\n        This email already exists</p>\n      <p class=\"text-red-500 text-xs italic\"\n         *ngIf=\"email.value==userProfile.email && (email?.dirty || email?.touched)\"\n      >This is old email</p>\n    </div>\n    <div class=\"md:w-full px-3\">\n      <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\"\n             for=\"current-pwd\">\n        Current password <span class=\"mx-1 text-lg text-gray-700 cursor-pointer\" (click)=\"togglePwd()\">\n        <i [ngClass]=\"hiddenPwd ? 'fa fa-eye-slash':'fa fa-eye'\"></i>\n      </span>\n      </label>\n      <input\n        class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-blue-500\"\n        id=\"current-pwd\"\n        [type]=\"hiddenPwd? 'password':'text'\"\n        placeholder=\"********\"\n        autocomplete=\"off\"\n        formControlName=\"currentPassword\"\n        required\n      >\n      <p class=\"text-red-500 text-xs italic\"\n         *ngIf=\"currentPassword?.hasError('required') && currentPassword?.touched\"\n      >This field must be not empty</p>\n    </div>\n  </div>\n  <div class=\"my-5 flex justify-end px-6\">\n    <button [disabled]=\"rfEmail.invalid\" *ngIf=\"rfEmail.valid\" class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded cursor-pointer\"\n            type=\"submit\">Update email\n    </button>\n  </div>\n</form>\n","import {Component, EventEmitter, OnInit, Output} from '@angular/core';\nimport {AbstractControl, FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\n\n@Component({\n  selector: 'app-update-password',\n  templateUrl: './update-password.component.html',\n  styleUrls: ['./update-password.component.scss']\n})\nexport class UpdatePasswordComponent implements OnInit {\n  rfPassword: FormGroup;\n  @Output() passwordUpdate = new EventEmitter<any>();\n  hiddenOldPwd = true;\n  hiddenNewPwd = true;\n  hiddenConfirmPwd = true;\n\n  constructor(private fb: FormBuilder) {\n  }\n\n  get oldPassword() {\n    return this.rfPassword.get('oldPassword');\n  }\n\n  get newPassword() {\n    return this.rfPassword.get('newPassword');\n  }\n\n  get confirmPassword() {\n    return this.rfPassword.get('confirmPassword');\n  }\n\n  ngOnInit(): void {\n    this.initFormChangePwd();\n  }\n\n\n  updatePassword() {\n    const data = {currentPassword: this.oldPassword.value, newPassword: this.newPassword.value};\n    this.passwordUpdate.emit(data);\n\n  }\n\n  initFormChangePwd() {\n    this.rfPassword = new FormGroup({\n      oldPassword: new FormControl(null, Validators.required),\n      newPassword: new FormControl(null, Validators.pattern('^(?=.*[\\\\d])(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*])[\\\\w!@#$%^&*]{8,}$')),\n      confirmPassword: new FormControl(null)\n    });\n    this.rfPassword.setValidators([this.passwordConfirming, this.passwordDuplicating]);\n\n  }\n\n  passwordConfirming(c: AbstractControl): { passwordConfirming: boolean } {\n    if (c.get('newPassword').value !== c.get('confirmPassword').value) {\n      return {passwordConfirming: true};\n    }\n  }\n\n  passwordDuplicating(c: AbstractControl): { passwordDuplicating: boolean } {\n    if (c.get('newPassword').value === c.get('oldPassword').value) {\n      return {passwordDuplicating: true};\n    }\n  }\n\n  togglePwd(type) {\n    switch (type) {\n      case 'hiddenOldPwd': {\n        this.hiddenOldPwd = !this.hiddenOldPwd;\n        break;\n      }\n      case 'hiddenNewPwd': {\n        this.hiddenNewPwd = !this.hiddenNewPwd;\n        break;\n      }\n      case 'hiddenConfirmPwd': {\n        this.hiddenConfirmPwd = !this.hiddenConfirmPwd;\n        break;\n      }\n    }\n\n  }\n\n}\n","<form novalidate (ngSubmit)=\"updatePassword()\" [formGroup]=\"rfPassword\">\n  <div class=\"-mx-3 md:flex flex-col mb-2 w-full\">\n    <div class=\"md:w-full px-3\">\n      <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\"\n             for=\"old-password\">\n        Old password <span class=\"mx-1 text-lg text-gray-700\" (click)=\"togglePwd('hiddenOldPwd')\">\n        <i [ngClass]=\"hiddenOldPwd ? 'fa fa-eye-slash':'fa fa-eye'\"></i>\n      </span>\n      </label>\n      <input\n        class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-blue-500\"\n        id=\"old-password\"\n        [type]=\"hiddenOldPwd? 'password':'text'\"\n        placeholder=\"********\"\n        autocomplete=\"off\"\n        formControlName=\"oldPassword\"\n        required\n      >\n      <p class=\"text-red-500 text-xs italic\"\n         *ngIf=\"oldPassword?.hasError('required') && oldPassword?.dirty\"\n      >This field must be not empty</p>\n    </div>\n    <div class=\"md:w-full px-3\">\n      <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\"\n             for=\"new-pwd-1\">\n        New password <span class=\"mx-1 text-lg text-gray-700\" (click)=\"togglePwd('hiddenNewPwd')\">\n        <i [ngClass]=\"hiddenNewPwd ? 'fa fa-eye-slash':'fa fa-eye'\"></i>\n      </span>\n      </label>\n      <input\n        class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-blue-500\"\n        id=\"new-pwd-1\"\n        [type]=\"hiddenNewPwd? 'password':'text'\"\n        placeholder=\"********\"\n        autocomplete=\"off\"\n        formControlName=\"newPassword\"\n        required\n      >\n      <ul>\n        <li class=\"text-red-500 text-xs italic\"\n            *ngIf=\"newPassword?.hasError('pattern') && newPassword?.dirty\"\n        >Your password must contain at least one uppercase, or capital, letter, digit and minimum length is 8 characters </li>\n        <li class=\"text-red-500 text-xs italic\"\n            *ngIf=\"rfPassword.hasError('passwordDuplicating') && confirmPassword.dirty\">\n          Duplicate password\n        </li>\n      </ul>\n\n    </div>\n    <div class=\"md:w-full px-3\">\n      <label class=\"block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2\"\n             for=\"new-pwd-2\">\n        Confirm new password <span class=\"mx-1 text-lg text-gray-700\" (click)=\"togglePwd('hiddenConfirmPwd')\">\n        <i [ngClass]=\"hiddenConfirmPwd ? 'fa fa-eye-slash':'fa fa-eye'\"></i>\n      </span>\n      </label>\n      <input\n        class=\"appearance-none border rounded-md w-full py-2 px-3 my-1 text-gray-600 bg-gray-200 leading-tight outline-none focus:border-blue-500\"\n        id=\"new-pwd-2\"\n        [type]=\"hiddenConfirmPwd? 'password':'text'\"\n        placeholder=\"********\"\n        autocomplete=\"off\"\n        formControlName=\"confirmPassword\"\n        required\n      >\n      <ul>\n        <li class=\"text-red-500 text-xs italic\"\n            *ngIf=\"confirmPassword?.hasError('pattern') && confirmPassword?.touched\"\n        >Your password must contain at least one uppercase, or capital, letter, digit and minimum length is 8 characters </li>\n        <li class=\"text-red-500 text-xs italic\"\n            *ngIf=\"rfPassword.hasError('passwordConfirming') && confirmPassword.dirty\">\n          Password is not match</li>\n\n      </ul>\n    </div>\n  </div>\n  <div class=\"my-5 flex justify-end px-6\">\n    <button *ngIf=\"rfPassword.valid\" class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded cursor-pointer\"\n            type=\"submit\">Change now\n    </button>\n  </div>\n</form>\n","import {Component, OnInit} from '@angular/core';\nimport {ExamService} from '../../_services/exam.service';\nimport {ExamUser} from '../../models/exam-user';\nimport {delay} from 'rxjs/operators';\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss']\n})\nexport class DashboardComponent implements OnInit {\n\n  listComing: ExamUser[] = [];\n  listComplete: ExamUser[] = [];\n  skeletonLoading = true;\n  now = moment(new Date()).format('YYYY-MM-DD HH:mm:ss');\n\n  constructor(private examService: ExamService) {\n  }\n\n  ngOnInit(): void {\n    this.getExam();\n\n  }\n\n  getExam() {\n    this.examService.getAllExamByUser().subscribe(res => {\n      res.filter(item => {\n\n        item.isAvailable = this.examService.isAvailable(item.exam.finishExam);\n        if (\n          item.isAvailable\n          && item.isStarted === false\n          || (item.isFinished === false && item.isStarted === true)\n        ) {\n          this.listComing.push(item);\n        } else {\n          this.listComplete.push(item);\n        }\n      });\n      this.skeletonLoading = false;\n    });\n  }\n}\n","<xng-breadcrumb></xng-breadcrumb>\r\n<div class=\"py-3\">\r\n  <div class=\"flex justify-between items-center mb-3 px-2\">\r\n    <div class=\"current-exam lg:text-2xl font-semibold text-gray-800\">\r\n      <h2 class=\"select-none list-title title-coming flex items-center\">Bài kiểm tra đang diễn ra <span class=\"mx-2\">\r\n          ({{listComing.length}})</span></h2>\r\n    </div>\r\n\r\n  </div>\r\n  <div class=\"list-current-exam flex flex-wrap w-full\">\r\n    <!-- Column -->\r\n    <ng-container *ngFor=\"let examComing of listComing\">\r\n      <div class=\"my-1 px-1 w-full md:w-1/2 lg:my-4 lg:px-4 lg:w-1/3\" *ngIf=\"!skeletonLoading\">\r\n        <app-exam-card [examUser]=\"examComing\"></app-exam-card>\r\n      </div>\r\n\r\n    </ng-container>\r\n    <p *ngIf=\"listComing.length==0 &&!skeletonLoading\" class=\"mx-10 text-gray-700 text-sm\">Không tìm thấy kỳ thi mới\r\n      nào!\r\n    </p>\r\n    <div class=\"my-1 px-1 w-full md:w-1/2 lg:my-4 lg:px-4 lg:w-1/3\" *ngIf=\"skeletonLoading\">\r\n      <app-skeleton></app-skeleton>\r\n    </div>\r\n    <div class=\"my-1 px-1 w-full md:w-1/2 lg:my-4 lg:px-4 lg:w-1/3\" *ngIf=\"skeletonLoading\">\r\n      <app-skeleton></app-skeleton>\r\n    </div>\r\n    <div class=\"my-1 px-1 w-full md:w-1/2 lg:my-4 lg:px-4 lg:w-1/3\" *ngIf=\"skeletonLoading\">\r\n      <app-skeleton></app-skeleton>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n<div class=\"py-3\">\r\n  <div class=\"flex justify-between items-center mb-3 px-2\">\r\n    <div class=\"current-exam lg:text-2xl font-semibold text-gray-800\">\r\n      <h2 class=\"select-none list-title title-complete flex items-center\">Bài kiểm tra gần đây\r\n        <span class=\"mx-2\">({{listComplete.length}})</span>\r\n      </h2>\r\n    </div>\r\n\r\n  </div>\r\n  <div class=\"list-current-exam flex flex-wrap\">\r\n    <!-- Column -->\r\n    <ng-container *ngFor=\"let examComplete of listComplete\">\r\n      <div class=\"my-1 px-1 w-full md:w-1/2 lg:my-4 lg:px-4 lg:w-1/3\">\r\n        <app-exam-card [examUser]=\"examComplete\"></app-exam-card>\r\n      </div>\r\n    </ng-container>\r\n    <p *ngIf=\"listComplete.length==0 &&!skeletonLoading\" class=\"mx-10 text-gray-700 text-sm\">Hiện không có bài kiểm tra\r\n      nào!</p>\r\n\r\n    <div class=\"my-1 px-1 w-full md:w-1/2 lg:my-4 lg:px-4 lg:w-1/3\" *ngIf=\"skeletonLoading\">\r\n      <app-skeleton></app-skeleton>\r\n    </div>\r\n    <div class=\"my-1 px-1 w-full md:w-1/2 lg:my-4 lg:px-4 lg:w-1/3\" *ngIf=\"skeletonLoading\">\r\n      <app-skeleton></app-skeleton>\r\n    </div>\r\n    <div class=\"my-1 px-1 w-full md:w-1/2 lg:my-4 lg:px-4 lg:w-1/3\" *ngIf=\"skeletonLoading\">\r\n      <app-skeleton></app-skeleton>\r\n    </div>\r\n  </div>\r\n\r\n</div>","import {Component, Input, OnChanges, OnInit} from '@angular/core';\nimport * as moment from 'moment';\nimport {ExamUser} from '../../models/exam-user';\nimport {UserService} from '../../_services/user.service';\n\n@Component({\n  selector: 'app-exam-card',\n  templateUrl: './exam-card.component.html',\n  styleUrls: ['./exam-card.component.scss']\n})\nexport class ExamCardComponent implements OnInit, OnChanges {\n  @Input() examUser: any;\n  status: number;\n  now = moment(new Date()).format('YYYY-MM-DD HH:mm:ss');\n  avatarImg: string;\n  icon: string;\n\n  constructor(private userService: UserService) {\n  }\n\n  ngOnChanges(changes: import('@angular/core').SimpleChanges): void {\n    this.avatarImg = this.examUser.exam?.createdBy.profile?.image || '../../assets/images/avatar-default.png';\n    const beginDate = moment(this.examUser.exam.beginExam).format('YYYY-MM-DD HH:mm:ss');\n    const finishDate = moment(this.examUser.exam.finishExam).format('YYYY-MM-DD HH:mm:ss');\n    if (moment(finishDate).isBefore(this.now) && this.examUser.isStarted === false) {\n      this.status = -2;\n    } else if (this.examUser.isFinished === true) {\n      this.status = -1;\n    } else if (moment(beginDate).isAfter(this.now) && this.examUser.isStarted === false) {\n      this.status = 0;\n    } else {\n      this.status = 1;\n    }\n\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","<!-- Article -->\r\n<article class=\"overflow-hidden rounded-lg shadow-lg hover:shadow-2xl transition duration-700\">\r\n  <a [routerLink]=\"['/user/exams', examUser?.exam?.id]\">\r\n    <div class=\"relative flex items-center justify-center h-56 bg-gradient-to-br from-blue-200 to-purple-300\">\r\n      <!-- Animated Icon instead of Image -->\r\n      <i class=\"fa fa-graduation-cap fa-4x animate-bounce text-blue-700\"></i>\r\n      <i class=\"fa fa-circle absolute top-0 right-0 mt-4 mr-4\" [ngClass]=\"icon\"></i>\r\n    </div>\r\n  </a>\r\n\r\n  <header class=\"flex items-center justify-between leading-tight p-2 md:p-3\">\r\n    <h1 class=\"text-lg\">\r\n      <a class=\"no-underline hover:underline font-bold text-xl text-gray-700\"\r\n        [routerLink]=\"['/user/exams', examUser?.exam?.id]\">\r\n        <strong>{{examUser?.exam?.title}}</strong>\r\n      </a>\r\n    </h1>\r\n  </header>\r\n\r\n  <div class=\"text-gray-600 text-sm p-3 pb-0 flex justify-between\">\r\n    <p>\r\n      <strong> {{examUser.exam.beginExam}}</strong>\r\n    </p>\r\n\r\n    <ng-container [ngSwitch]=\"status\">\r\n      <ng-template [ngSwitchCase]=\"-2\">\r\n        <p class=\"text-sm text-red-500 flex items-center\">\r\n          <span class=\"mr-2\"><i class=\"fa fa-lock\"></i></span>\r\n          <b>Bỏ lỡ</b>\r\n        </p>\r\n      </ng-template>\r\n      <ng-template [ngSwitchCase]=\"-1\">\r\n        <p class=\"text-sm text-gray-500 flex items-center\">\r\n          <span class=\"mr-2\"><i class=\"fa fa-lock\"></i></span>\r\n          <b>Hoàn thành</b>\r\n        </p>\r\n      </ng-template>\r\n      <ng-template [ngSwitchCase]=\"0\">\r\n        <p class=\"text-sm text-yellow-500 flex items-center\">\r\n          <span class=\"mr-2\"><i class=\"fa fa-lock\"></i></span>\r\n          <b>Đang chờ</b>\r\n        </p>\r\n      </ng-template>\r\n      <ng-template [ngSwitchCase]=\"1\">\r\n        <p class=\"text-sm text-green-500 flex items-center\">\r\n          <span class=\"mr-2\"><i class=\"fa fa-unlock\"></i></span>\r\n          <b>Đang diễn ra</b>\r\n        </p>\r\n      </ng-template>\r\n    </ng-container>\r\n  </div>\r\n\r\n  <footer class=\"flex items-center justify-between leading-none p-2 md:p-3\">\r\n    <a class=\"flex items-center no-underline text-gray-600\">\r\n      <img alt=\"image of \" class=\"block rounded-full shadow-lg w-8 h-8\" src=\"{{avatarImg}}\">\r\n      <p class=\"ml-2 text-sm\">\r\n        {{examUser.exam?.createdBy.profile?.lastName}} {{examUser.exam.createdBy.profile?.firstName}}\r\n      </p>\r\n    </a>\r\n    <div class=\"inline-block bg-gray-300 rounded-full px-3 py-1 text-sm font-semibold text-gray-700\">\r\n      <i class=\"fa fa-clock-o text-gray-700 lg:mr-1\"></i>\r\n      <span>{{examUser.exam.durationExam}} phút</span>\r\n    </div>\r\n  </footer>\r\n</article>\r\n<!-- END Article -->\r\n","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {ExamService} from '../../_services/exam.service';\nimport {ExamUser} from '../../models/exam-user';\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-exam-detail',\n  templateUrl: './exam-detail.component.html',\n  styleUrls: ['./exam-detail.component.scss']\n})\nexport class ExamDetailComponent implements OnInit {\n\n  examId: number;\n  examUser: ExamUser;\n  canStart = false;\n  isAvailable: boolean;\n  isLockScreenEnabled: boolean = false; // ✅ thêm dòng này\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private examService: ExamService\n  ) {}\n\n  ngOnInit(): void {\n    this.examId = Number(this.activatedRoute.snapshot.paramMap.get('examId'));\n    this.getUserExam();\n  }\n\n  getUserExam() {\n    this.examService.getExamUserById(this.examId).subscribe(res => {\n      this.examUser = res;\n      console.log(this.examUser);\n\n      this.canStart = moment(this.examUser.exam.beginExam)\n        .isBefore(moment(new Date()).format('YYYY-MM-DD HH:mm:ss'));\n\n      this.isAvailable = this.examService.isAvailable(this.examUser.exam.finishExam);\n\n      // ✅ lấy thông tin khóa màn hình\n      this.isLockScreenEnabled = this.examUser.exam.lockScreen === true;\n    });\n  }\n\n}\n","<xng-breadcrumb></xng-breadcrumb>\r\n\r\n<div class=\"flex text-center flex-col w-full h-auto items-center\">\r\n  <h1 class=\"text-center my-2 mt-5 font-bold  px-2 py-1 bg-blue-300 rounded\">Tiêu đề: {{examUser?.exam?.title}}</h1>\r\n  <div class=\"flex flex-row flex-wrap justify-center\">\r\n    <div class=\"my-2 mx-3 px-2 py-1 bg-gray-300 rounded\"><span class=\"mx-2\"><i class=\"fa fa-book\"></i></span>Khóa học:\r\n      <b>{{examUser?.exam?.part?.course?.name}}</b>\r\n    </div>\r\n    <div class=\"my-2 mx-3 px-2 py-1 bg-gray-300 rounded\">Phần: <b>{{examUser?.exam?.part?.name}}</b></div>\r\n  </div>\r\n  <div class=\"my-2 px-2 py-1 bg-gray-300 rounded\">\r\n    <span class=\"mx-2\"><i class=\"fa fa-calendar\"></i></span>Bài kiểm tra\r\n    này sẽ mở vào lúc <strong><i>{{examUser?.exam?.beginExam | date: 'medium'}}</i></strong>\r\n  </div>\r\n  <div class=\"my-2 px-2 py-1 bg-gray-300 rounded\">\r\n    <span class=\"mx-2\"><i class=\"fa fa-calendar-times-o\"></i></span>\r\n    Bài kiểm tra này sẽ đóng vào lúc <strong><i>{{examUser?.exam?.finishExam | date:'medium'}}</i></strong>\r\n  </div>\r\n  <div class=\"my-2 px-2 py-1 bg-gray-300 rounded mb-8\">Thời gian làm bài: <strong>\r\n      {{examUser?.exam?.durationExam}} phút </strong></div>\r\n  <div class=\"flex justify-center my-5\" *ngIf=\"canStart\">\r\n    <a *ngIf=\"examUser?.isStarted === false && isAvailable\" [routerLink]=\"['./start']\"\r\n      class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded cursor-pointer\">\r\n      Bắt đầu ngay\r\n    </a>\r\n    <a *ngIf=\"examUser?.isStarted=== true && examUser?.isFinished===false\" [routerLink]=\"['./start']\"\r\n      class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded cursor-pointer\">\r\n      Tiếp tục\r\n    </a>\r\n\r\n  </div>\r\n\r\n  <div *ngIf=\"examUser?.isFinished==true\">\r\n    <a [routerLink]=\"['./result']\" *ngIf=\"examUser.isStarted==true\"\r\n      class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded cursor-pointer\">Xem kết quảt</a>\r\n    <div class=\"my-8 bg-red-600 px-3 py-2 uppercase text-white font-semibold\" *ngIf=\"examUser.isStarted==true\">Bài kiểm\r\n      tra này đã kết thúc!\r\n    </div>\r\n    <div class=\"my-8 bg-red-600 px-3 py-2 uppercase text-white font-semibold\"\r\n      *ngIf=\"examUser.isStarted==false && examUser?.isFinished==true\">Bạn đã bỏ lỡ bài kiểm tra này!\r\n    </div>\r\n  </div>\r\n</div>","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {Exam} from '../../models/exam';\nimport {Question} from '../../models/question';\nimport {ExamService} from '../../_services/exam.service';\nimport {AnswerSheet} from '../../models/answer-sheet';\nimport {interval, Subscription, timer} from 'rxjs';\nimport { SidebarService } from '../../_services/sidebar.service';\n\n@Component({\n  selector: 'app-exam-question',\n  templateUrl: './exam-question.component.html',\n  styleUrls: ['./exam-question.component.scss']\n})\nexport class ExamQuestionComponent implements OnInit, OnDestroy {\n  examId: number;\n  exam: Exam;\n  questions: Question[] = [];\n  toggleModal = false;\n  answerSheets: AnswerSheet[] = [];\n  choicesSelected: any[] = [];\n  countDown: Subscription;\n  counter: number;\n  tick = 1000;\n  private subscription: any;\n  private tabSwitchCount = 0;\n\n  private examFinished = false; // ✅ Trạng thái kết thúc bài thi\n  private visibilityHandler = this.handleTabSwitch.bind(this); // ✅ Gỡ đúng listener\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private examService: ExamService,\n    private router: Router,\n    private sidebarService: SidebarService // ✅ Thêm dòng này\n  ) { }\n  \n  ngOnDestroy(): void {\n    this.subscription?.unsubscribe();\n    this.countDown?.unsubscribe();\n    this.removeSecurityListeners();\n  }\n\n  ngOnInit(): void {\n    this.examId = Number(this.activatedRoute.snapshot.paramMap.get('examId'));\n\n    // ✅ Kiểm tra trạng thái bài thi\n    this.examService.getExamUserById(this.examId).subscribe(examUser => {\n      if (examUser.isFinished) {\n        this.router.navigate(['/user/exams', this.examId, 'result']);\n      } else {\n        this.getQuestion();\n      }\n    });\n  }\n  startTimer() {\n    this.countDown = timer(0, this.tick).subscribe(() => {\n      if (this.counter > 0) {\n        --this.counter;\n      } else {\n        this.counter = 0;\n        this.submit();\n      }\n    });\n  }\n\n  getQuestion() {\n    this.examId = Number(this.activatedRoute.snapshot.paramMap.get('examId'));\n    this.examService.getExamQuestion(this.examId).subscribe(res => {\n      this.questions = res.questions;\n      this.exam = res.exam;\n      this.counter = res.remainingTime;\n      this.startTimer();\n      this.subscription = interval(10000).subscribe(x => {\n        this.saveToServer(false);\n      });\n  \n      // === Thêm dòng sau để ẩn sidebar khi lockScreen bật ===\n      if (this.exam.lockScreen) {\n        this.sidebarService.setSidebarCollapsed(true); // Ẩn sidebar\n        this.requestFullscreen();\n        this.preventCopyPaste();\n        this.detectTabSwitching();\n      }\n    });\n  }\n  \n\n  requestFullscreen() {\n    const docElm = document.documentElement as any;\n    if (docElm.requestFullscreen) {\n      docElm.requestFullscreen();\n    } else if (docElm.mozRequestFullScreen) {\n      docElm.mozRequestFullScreen();\n    } else if (docElm.webkitRequestFullscreen) {\n      docElm.webkitRequestFullscreen();\n    } else if (docElm.msRequestFullscreen) {\n      docElm.msRequestFullscreen();\n    }\n  }\n\n  preventCopyPaste() {\n    document.addEventListener('copy', this.blockEvent);\n    document.addEventListener('cut', this.blockEvent);\n    document.addEventListener('paste', this.blockEvent);\n  }\n\n  detectTabSwitching() {\n    document.addEventListener('visibilitychange', this.visibilityHandler);\n  }\n\n  handleTabSwitch() {\n    if (this.examFinished) return; // ✅ Nếu đã nộp bài thì bỏ qua\n\n    if (document.hidden) {\n      this.tabSwitchCount++;\n      alert('⚠️ Bạn đã chuyển tab! Nếu tiếp tục, bài thi sẽ bị nộp.');\n      if (this.tabSwitchCount >= 2) {\n        alert('🚨 Bạn đã chuyển tab nhiều lần. Bài thi sẽ bị nộp.');\n        this.submit();\n      }\n    }\n  }\n\n  blockEvent(e: ClipboardEvent) {\n    e.preventDefault();\n    alert('🚫 Không được phép sao chép, cắt hoặc dán trong khi làm bài.');\n  }\n\n  removeSecurityListeners() {\n    document.removeEventListener('copy', this.blockEvent);\n    document.removeEventListener('cut', this.blockEvent);\n    document.removeEventListener('paste', this.blockEvent);\n    document.removeEventListener('visibilitychange', this.visibilityHandler);\n  }\n\n  selectAnswerTF(value: any, id: number) {\n    const question = this.questions.find(item => item.id === id);\n    if (question) {\n      question.choices[0].isCorrected = 1;\n      question.choices[0].choiceText = value.target.value; // đảm bảo text đúng\n    }\n  }\n  \n  selectedAnswerMC(value: any, questionId: number, choiceId: number) {\n    const question = this.questions.find(x => x.id === questionId);\n    question.choices.map(x => x.id === choiceId ? (x.isCorrected = 1) : (x.isCorrected = 0));\n  }\n\n  selectedAnswerMS($event: Event, questionId: number, choiceId: number) {\n    const question = this.questions.find(x => x.id === questionId);\n    const choice = question.choices.find(y => y.id === choiceId);\n    choice.isCorrected = choice.isCorrected ? 0 : 1;\n  }\n\n  showModal() {\n    this.choicesSelected.length = 0;\n    this.toggleModal = true;\n    this.questions.forEach(value => {\n      let selected = false;\n      if (value.questionType.typeCode === 'SA') {\n        // Nếu là câu trả lời ngắn thì kiểm tra userAnswer có nội dung không\n        selected = value.userAnswer && value.userAnswer.trim() !== '';\n      } else {\n        // Câu khác: đã chọn đáp án\n        selected = value.choices.some(x => x.isCorrected === 1);\n      }\n      this.choicesSelected.push({ selected });\n    });\n  }\n  \n\n  closeModal() {\n    this.toggleModal = false;\n  }\n\n  submit() {\n    const answerSheets: AnswerSheet[] = [];\n    this.questions.forEach(value => {\n      // Nếu là câu hỏi Short Answer (SA), đóng gói đáp án người dùng vào choices[0].choiceText\n      if (value.questionType.typeCode === 'SA') {\n        value.choices = [\n          {\n            ...value.choices[0], // giữ id (nếu có), trường hợp backend cần id để so sánh\n            choiceText: value.userAnswer || '', // userAnswer là property bạn phải binding từ ô input ở HTML cho từng câu SA\n            isCorrected: 1 // đánh dấu là đã điền đáp án\n          }\n        ];\n      }\n      answerSheets.push(new AnswerSheet(value.id, value.choices, value.point));\n    });\n  \n    this.examFinished = true;\n    this.countDown?.unsubscribe();\n    this.subscription?.unsubscribe();\n    this.removeSecurityListeners();\n    this.exitFullscreen();\n    this.sidebarService.setSidebarCollapsed(false);\n    this.examService.submitExamUser(this.examId, true, this.counter, answerSheets).subscribe(res => {\n      this.router.navigate(['../result'], { relativeTo: this.activatedRoute });\n    }, error => {\n      console.log('error');\n    });\n  }\n  \n  exitFullscreen() {\n    const doc: any = document;\n    if (doc.exitFullscreen) {\n      doc.exitFullscreen();\n    } else if (doc.mozCancelFullScreen) {\n      doc.mozCancelFullScreen();\n    } else if (doc.webkitExitFullscreen) {\n      doc.webkitExitFullscreen();\n    } else if (doc.msExitFullscreen) {\n      doc.msExitFullscreen();\n    }\n  }\n  \n  saveToServer(isFinished: boolean) {\n    const answerSheets: AnswerSheet[] = [];\n    this.questions.forEach(value => {\n      answerSheets.push(new AnswerSheet(value.id, value.choices, value.point));\n    });\n    this.examService.submitExamUser(this.examId, isFinished, this.counter, answerSheets).subscribe(res => {\n      console.log('ok');\n    }, error => {\n      console.log('error');\n    });\n\n    console.log(this.questions);\n  }\n}\n","<div class=\"w-full py-5\">\r\n  <div class=\"flex justify-between px-4 py-4 bg-white shadow-lg rounded-md sticky z-30\" style=\"top: -8px\">\r\n    <div>Đếm ngược: <span class=\"font-bold text-xl\">{{counter | formatTime}}</span></div>\r\n    <div class=\"\">\r\n      <button class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\" (click)=\"showModal()\">\r\n        Nộp bài\r\n      </button>\r\n    </div>\r\n  </div>\r\n  <!-- ⚠️ Cảnh báo chế độ khóa màn hình khi thi -->\r\n  <div *ngIf=\"exam?.lockScreen\" class=\"text-red-500 font-bold text-center text-sm my-2 px-4\">\r\n    ⚠️ Bạn đang làm bài trong <strong>chế độ khóa màn hình</strong>. Không được rời khỏi tab hoặc sử dụng thao tác sao\r\n    chép!\r\n  </div>\r\n\r\n  <ng-container *ngFor=\"let ques of questions; let i = index\">\r\n    <div class=\"my-12 mx-4 flex flex-row\">\r\n      <div class=\"w-48 bg-gray-300 mx-4 px-2 py-2 h-32 rounded-md ml-0 flex flex-col select-none items-center\">\r\n        <div class=\"font-bold text-gray-600 text-xl my-2\">Câu {{i + 1}}</div>\r\n        <div class=\"py-2 text-gray-600\">{{ques.point}} điểm</div>\r\n      </div>\r\n      <div class=\"bg-gray-300 rounded-md shadow-lg px-8 py-6 w-full\">\r\n        <div class=\"\"><span class=\"font-bold\">Q {{i + 1}}: </span>\r\n          <p class=\"select-none\" [innerHTML]=\"ques.questionText\"></p>\r\n        </div>\r\n        <div class=\"h-auto\">\r\n          <div class=\"my-5 font-semibold text-blue-600 select-none\">\r\n            Chọn câu trả lời của bạn\r\n            <span *ngIf=\"ques.questionType.typeCode==='MS'\">s</span>\r\n          </div>\r\n          \r\n          <!-- Đáp án cho Short Answer (SA) -->\r\n          <div *ngIf=\"ques.questionType.typeCode === 'SA'\">\r\n            <input type=\"text\"\r\n              class=\"w-full border rounded p-2\"\r\n              [(ngModel)]=\"ques.userAnswer\"\r\n              placeholder=\"Nhập đáp án của bạn...\"\r\n              [ngModelOptions]=\"{standalone: true}\" />\r\n          </div>\r\n  \r\n          <!-- Đáp án cho các loại khác -->\r\n          <ng-container *ngIf=\"ques.questionType.typeCode !== 'SA'\">\r\n            <ng-container *ngFor=\"let choice of ques.choices\">\r\n              <ng-container [ngSwitch]=\"ques.questionType.typeCode\">\r\n                <ng-template [ngSwitchCase]=\"'TF'\">\r\n                  <div class=\"flex\">\r\n                    <div class=\"radio-type flex-1\">\r\n                      <div class=\"radio-btn\">\r\n                        <input type=\"radio\" id=\"true-{{choice.id}}\" name=\"choicesTF-{{ques.id}}\" value=\"True\"\r\n                          (change)=\"selectAnswerTF($event, ques.id)\"\r\n                          [checked]=\"choice.choiceText=='True' && choice.isCorrected==1\" />\r\n                        <label class=\"select-none\" for=\"true-{{choice.id}}\">Đúng</label>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"radio-type flex-1\">\r\n                      <div class=\"radio-btn\">\r\n                        <input type=\"radio\" id=\"false-{{choice.id}}\" name=\"choicesTF-{{ques.id}}\" value=\"False\"\r\n                          (click)=\"selectAnswerTF($event, ques.id)\"\r\n                          [checked]=\"choice.choiceText=='False' && choice.isCorrected==1\" />\r\n                        <label class=\"select-none\" for=\"false-{{choice.id}}\">Sai</label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </ng-template>\r\n                <ng-template [ngSwitchCase]=\"'MC'\">\r\n                  <div class=\"flex flex-col\">\r\n                    <div class=\"w-full my-1\">\r\n                      <div class=\"flex\">\r\n                        <div class=\"radio-type w-full\">\r\n                          <div class=\"radio-btn\">\r\n                            <input type=\"radio\" name=\"mcChoices-{{ques.id}}\"\r\n                              (change)=\"selectedAnswerMC($event, ques.id, choice.id)\" id=\"mc-{{choice.id}}\"\r\n                              [checked]=\"choice.isCorrected==1\">\r\n                            <label class=\"select-none\" for=\"mc-{{choice.id}}\" [innerHTML]=\"choice.choiceText\"></label>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </ng-template>\r\n                <ng-template [ngSwitchCase]=\"'MS'\">\r\n                  <div class=\"flex flex-col\">\r\n                    <div class=\"w-full my-1\">\r\n                      <div class=\"flex my-1\">\r\n                        <div class=\"radio-type w-full\">\r\n                          <div class=\"check-box-btn\">\r\n                            <input type=\"checkbox\" name=\"msChoices-{{choice.id}}\" id=\"ms-{{choice.id}}\"\r\n                              (change)=\"selectedAnswerMS($event, ques.id, choice.id)\" [checked]=\"choice.isCorrected==1\">\r\n                            <label for=\"ms-{{choice.id}}\" class=\"check-box select-none\"\r\n                              [innerHTML]=\"choice.choiceText\"></label>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </ng-template>\r\n              </ng-container>\r\n            </ng-container>\r\n          </ng-container>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ng-container>  \r\n  <hr class=\"w-full my-3\">\r\n  <p class=\"text-center font-bold end-text\">Kết thúc</p>\r\n</div>\r\n\r\n\r\n<div *ngIf=\"toggleModal\" class=\"fixed inset-0 z-40 bg-smoke-light\"></div>\r\n<div *ngIf=\"toggleModal\" class=\"fixed inset-0 overflow-auto z-50 outline-none focus:outline-none justify-center flex\">\r\n\r\n  <div class=\"relative w-4/5 my-5 mx-auto max-w-2xl\" style=\"margin-top: 2.5rem\">\r\n    <!--content-->\r\n    <div\r\n      class=\"border-0 rounded-lg shadow-lg relative flex flex-col w-full overflow-y-auto my-5 bg-white outline-none focus:outline-none\"\r\n      style=\"max-height: 90%\">\r\n      <!--header-->\r\n      <div class=\"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t\">\r\n        <h3 class=\"text-2xl font-semibold\">Bạn có chắc chắn muốn nộp bài không?</h3>\r\n        <button\r\n          class=\"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none\"\r\n          (click)=\"closeModal()\">\r\n          <span class=\"bg-transparent text-gray-700 opacity-5 h-3 w-3 text-base block outline-none focus:outline-none\">\r\n            <i class=\"fa fa-close\"></i>\r\n          </span>\r\n        </button>\r\n      </div>\r\n      <!--body-->\r\n      <div class=\"relative\">\r\n\r\n        <div\r\n          class=\"my-4 px-8 text-gray-600 text-base leading-relaxed text-left flex-row flex flex-wrap lg:justify-start items-center\">\r\n          <ng-container *ngFor=\"let c of choicesSelected; let i =index\">\r\n            <div class=\"w-12 h-12 rounded-full  mx-2 my-2 relative flex justify-center items-center\"\r\n              [ngClass]=\"c.selected === true? 'bg-blue-500 text-white': 'bg-blue-200'\">\r\n              <label class=\"absolute\">{{i + 1}}</label>\r\n            </div>\r\n\r\n          </ng-container>\r\n\r\n        </div>\r\n      </div>\r\n      <!--footer-->\r\n      <div class=\"flex items-center justify-end p-6 border-t border-solid border-gray-300 rounded-b\">\r\n        <button class=\"mx-1 bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded\" (click)=\"submit()\">\r\n          Nộp bài\r\n        </button>\r\n        <button class=\" mx-1 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\"\r\n          (click)=\"closeModal()\">\r\n          Hủy\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n</div>","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {ExamService} from '../../_services/exam.service';\nimport {ExamResult} from '../../models/exam-result';\n\n@Component({\n  selector: 'app-exam-result',\n  templateUrl: './exam-result.component.html',\n  styleUrls: ['./exam-result.component.scss']\n})\nexport class ExamResultComponent implements OnInit {\n\n  examId: number;\n  result: ExamResult;\n  maxPoint: number = 100; // ✅ Thêm biến này\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private examService: ExamService) {\n  }\n\n  ngOnInit(): void {\n    this.examId = Number(this.activatedRoute.snapshot.paramMap.get('examId'));\n    this.getResult(this.examId);\n  }\n  getFailMax(): number {\n    return Math.floor(this.maxPoint * 0.49);\n  }\n  getAverageMin(): number {\n    return Math.floor(this.maxPoint * 0.5);\n  }\n  getAverageMax(): number {\n    return Math.floor(this.maxPoint * 0.79);\n  }\n  getPassMin(): number {\n    return Math.floor(this.maxPoint * 0.8);\n  }\n  \n  getResult(examId: number) {\n    this.examService.getExamUserResult(examId).subscribe(value => {\n      this.result = value;\n      // ✅ Xử lý fallback maxPoint nếu thiếu\n      if (this.result && this.result.exam && this.result.exam.maxPoint !== undefined && this.result.exam.maxPoint !== null) {\n        this.maxPoint = this.result.exam.maxPoint;\n      } else {\n        this.maxPoint = 100;\n      }\n    });\n  }\n}\n","<xng-breadcrumb></xng-breadcrumb>\r\n\r\n<div class=\"w-full py-5\" *ngIf=\"result\">\r\n  <div class=\"capitalize text-center mb-3 font-bold text-3xl text-blue-600\">Kết quả của bạn</div>\r\n  <app-result-circle [current]=\"result?.totalPoint\" [max]=\"maxPoint\"></app-result-circle>\r\n  <div class=\"flex justify-center\">\r\n    <div class=\"inline-flex bg-gray-300 mt-5 py-2 mx-auto rounded-full \">\r\n      <span class=\"mx-5 fail flex items-center\">0-{{ getFailMax() }}</span>\r\n      <span class=\"mx-5 average flex items-center\">{{ getAverageMin() }}-{{ getAverageMax() }}</span>\r\n      <span class=\"mx-5 pass flex items-center\">{{ getPassMin() }}-{{ maxPoint }}</span>\r\n    </div>\r\n  </div>\r\n\r\n  <ng-container *ngFor=\"let ques of result.choiceList; let i = index\">\r\n    <div class=\"my-12 mx-4 flex flex-row\">\r\n      <div class=\"flex flex-col mx-4 mx-2 mb-3 pb-2\">\r\n        <div class=\"w-48 bg-gray-300 rounded-md ml-0 flex flex-col  items-center\">\r\n          <div class=\"font-bold text-gray-600 text-xl my-2\">Câu {{i + 1}}</div>\r\n          <div class=\"py-2 text-gray-600\">{{ques.point}} điểm</div>\r\n        </div>\r\n        <div class=\"w-full text-center font-bold pr-2 bg-red-300 text-red-600 mt-2 py-2 rounded-md\"\r\n          [ngClass]=\"ques?.isSelectedCorrected==true? 'bg-green-300 text-green-600': 'bg-red-300 text-red-600'\">\r\n          {{ques?.isSelectedCorrected == true ? 'Đúng' : 'Sai'}}</div>\r\n\r\n      </div>\r\n\r\n      <div class=\"bg-gray-300 rounded-md shadow-lg px-8 py-6 w-full\">\r\n        <div class=\"my-4\"><span class=\"font-bold\">Q {{i + 1}}: </span>\r\n          <!-- <div class=\"my-4\"><span class=\"font-bold\"> </span> -->\r\n          <p class=\"select-none\" [innerHTML]=\"ques.question.questionText\"></p>\r\n        </div>\r\n        <div class=\"h-auto\">\r\n\r\n          <!--        Answer-->\r\n          <ng-container *ngFor=\"let userChoice of ques.choices\">\r\n            <ng-container [ngSwitch]=\"ques.question.questionType.typeCode\">\r\n              <ng-template [ngSwitchCase]=\"'TF'\">\r\n                <div class=\"flex w-full\">\r\n                  <div class=\"radio-type flex-1 flex items-center\">\r\n                    <span class=\"text-2xl pr-2 w-8\">\r\n                      <ng-container *ngIf=\"userChoice.choice.choiceText=='True'\">\r\n                        <i *ngIf=\"(userChoice.isRealCorrect==1 && userChoice.choice.isCorrected==1)||(userChoice.isRealCorrect==1 && userChoice.choice.isCorrected==0)\"\r\n                          class=\"fa fa-check text-green-600\"></i>\r\n                        <i *ngIf=\"userChoice.isRealCorrect==0 && userChoice.choice.isCorrected==1\"\r\n                          class=\"fa fa-close text-red-600\"></i>\r\n                      </ng-container>\r\n                    </span>\r\n                    <div class=\"radio-btn w-full\">\r\n                      <input type=\"radio\" name=\"choicesTF-{{ques.question.id}}\" value=\"True\"\r\n                        [checked]=\"userChoice.choice.choiceText=='True' && userChoice.choice.isCorrected==1\"\r\n                        disabled=\"true\" />\r\n                      <label class=\"select-none\">Đúng</label>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"radio-type flex-1 flex items-center\">\r\n                    <span class=\"text-2xl pr-2 w-8\">\r\n                      <ng-container *ngIf=\"userChoice.choice.choiceText=='False'\">\r\n                        <i *ngIf=\"(userChoice.isRealCorrect==1 && userChoice.choice.isCorrected==1)||(userChoice.isRealCorrect==1 && userChoice.choice.isCorrected==0)\"\r\n                          class=\"fa fa-check text-green-600\"></i>\r\n                        <i *ngIf=\"userChoice.isRealCorrect==0 && userChoice.choice.isCorrected==1\"\r\n                          class=\"fa fa-close text-red-600\"></i>\r\n                      </ng-container>\r\n                    </span>\r\n                    <div class=\"radio-btn w-full\">\r\n                      <input type=\"radio\" id=\"false-{{ques.question.id}}\" name=\"choicesTF-{{ques.question.id}}\"\r\n                        value=\"False\"\r\n                        [checked]=\"userChoice.choice.choiceText=='False' && userChoice.choice.isCorrected==1\" />\r\n                      <label for=\"false-{{ques.question.id}}\" class=\"select-none\">Sai</label>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </ng-template>\r\n              <ng-template [ngSwitchCase]=\"'MC'\">\r\n                <div class=\"flex flex-col\">\r\n                  <div class=\"w-full my-1\">\r\n                    <div class=\"flex\">\r\n                      <div class=\"radio-type w-full flex items-center\">\r\n                        <span class=\"text-2xl pr-2 w-8\">\r\n                          <ng-container\r\n                            *ngIf=\"(userChoice.isRealCorrect==1&& userChoice.choice.isCorrected==1) || userChoice.isRealCorrect==1\">\r\n                            <i class=\"fa fa-check text-green-600\"></i>\r\n                          </ng-container>\r\n                          <ng-container\r\n                            *ngIf=\"(userChoice.isRealCorrect!=userChoice.choice.isCorrected) && userChoice.isRealCorrect==0\">\r\n                            <i class=\"fa fa-close text-red-600\"></i>\r\n                          </ng-container>\r\n                        </span>\r\n                        <div class=\"radio-btn w-full\">\r\n                          <input type=\"radio\" name=\"mcChoices-{{ques.question.id}}\"\r\n                            [checked]=\"userChoice.choice.isCorrected==1\" disabled=\"true\">\r\n                          <label class=\"select-none\" [innerHTML]=\"userChoice.choice.choiceText\"></label>\r\n                        </div>\r\n                      </div>\r\n\r\n                    </div>\r\n\r\n                  </div>\r\n\r\n                </div>\r\n              </ng-template>\r\n              <ng-template [ngSwitchCase]=\"'MS'\">\r\n                <div class=\"flex flex-col\">\r\n                  <div class=\"w-full my-1\">\r\n                    <div class=\"flex my-1\">\r\n                      <div class=\"radio-type w-full flex items-center\">\r\n                        <span class=\"text-2xl pr-2 w-8\">\r\n                          <ng-container\r\n                            *ngIf=\"(userChoice.isRealCorrect==1&& userChoice.choice.isCorrected==1) || userChoice.isRealCorrect==1\">\r\n                            <i class=\"fa fa-check text-green-600\"></i>\r\n                          </ng-container>\r\n                          <ng-container\r\n                            *ngIf=\"(userChoice.isRealCorrect!=userChoice.choice.isCorrected) && userChoice.isRealCorrect==0\">\r\n                            <i class=\"fa fa-close text-red-600\"></i>\r\n                          </ng-container>\r\n                        </span>\r\n                        <div class=\"check-box-btn w-full\">\r\n                          <input type=\"checkbox\" name=\"msChoices-{{userChoice.choice.id}}\"\r\n                            id=\"ms-{{userChoice.choice.id}}\" [checked]=\"userChoice.choice.isCorrected==1\"\r\n                            disabled=\"true\">\r\n                          <label class=\"check-box select-none\" [innerHTML]=\"userChoice.choice.choiceText\"></label>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                  </div>\r\n                </div>\r\n              </ng-template>\r\n              <ng-template [ngSwitchCase]=\"'SA'\">\r\n                <div class=\"flex flex-col\">\r\n                  <div class=\"w-full my-1\">\r\n                    <div class=\"flex items-center\">\r\n                      <span class=\"text-2xl pr-2 w-8\">\r\n                        <ng-container>\r\n                          <i *ngIf=\"ques.isSelectedCorrected\" class=\"fa fa-check text-green-600\"></i>\r\n                          <i *ngIf=\"!ques.isSelectedCorrected\" class=\"fa fa-close text-red-600\"></i>\r\n                        </ng-container>\r\n                      </span>\r\n                      <div class=\"w-full\">\r\n                        <label class=\"block text-gray-600\">Đáp án của bạn:</label>\r\n                        <span class=\"block bg-white px-2 py-1 rounded border\"\r\n                          [ngClass]=\"ques.isSelectedCorrected ? 'border-green-500 text-green-700' : 'border-red-500 text-red-700'\">\r\n                          {{userChoice.choice.choiceText}}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"flex items-center mt-2\">\r\n                      <span class=\"text-gray-500 text-xs mr-2\">Đáp án đúng:</span>\r\n                      <span class=\"bg-blue-100 px-2 py-1 rounded font-bold\">\r\n                        {{ ques.question.choices[0]?.choiceText }}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </ng-template>\r\n              \r\n            </ng-container>\r\n          </ng-container>\r\n\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ng-container>\r\n</div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.scss']\n})\nexport class FooterComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<footer class=\"bg-gray-800 w-full\">\n<div class=\"flex justify-between p-4\">\n  <div>Logo</div>\n  <div class=\"fa fa-copyright text-gray-300 font-semibold\">\n    Bản quyền thuộc về DevZone - 2019.\n  </div>\n</div>\n</footer>\n","import {Component, Input, OnChanges, OnInit, SimpleChanges} from '@angular/core';\nimport {TokenStorageService} from '../../_services/token-storage.service';\nimport {UserService} from '../../_services/user.service';\nimport {UserProfile} from '../../models/user-profile';\n\n@Component({\n  selector: 'app-left-side',\n  templateUrl: './left-side.component.html',\n  styleUrls: ['./left-side.component.scss']\n})\nexport class LeftSideComponent implements OnInit, OnChanges {\n  @Input() userProfile: UserProfile;\n\n  currentProfile: UserProfile;\n\n  constructor(private tokenStorageService: TokenStorageService, private userService: UserService) {\n  }\n\n  ngOnInit(): void {\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n\n    const profile = changes.userProfile.currentValue;\n\n    this.currentProfile = profile;\n\n\n    console.log(profile);\n  }\n\n}\n","<aside class=\"lg:w-1/5 bg-gray-700 text-white\">\r\n  <div class=\"my-3\">\r\n    <div class=\"px-6 my-6 mb-12\">\r\n      <div class=\"mb-3\">\r\n        <img class=\"h-6 lg:h-8 xl:h-9\" src=\"../../assets/images/logo.svg\" alt=\"Tailwind UI\" />\r\n      </div>\r\n      <div *ngIf=\"currentProfile\" class=\"mb-3\">\r\n        Hi, {{currentProfile?.firstName}}\r\n      </div>\r\n    </div>\r\n    <div class=\"h-auto\">\r\n\r\n      <a [routerLink]=\"['dashboard']\" routerLinkActive=\"border-l-4 border-gray-400 bg-blue-700 text-white\"\r\n        class=\"flex py-3 px-6 cursor-pointer hover:bg-blue-500 transition text-gray-300\"><span class=\"mr-3 w-6\"><svg\r\n            class=\"h-6 w-6 fill-current mr-2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n            <path fill-rule=\"evenodd\"\r\n              d=\"M3.889 3h6.222a.9.9 0 0 1 .889.91v8.18a.9.9 0 0 1-.889.91H3.89A.9.9 0 0 1 3 12.09V3.91A.9.9 0 0 1 3.889 3zM3.889 15h6.222c.491 0 .889.384.889.857v4.286c0 .473-.398.857-.889.857H3.89C3.398 21 3 20.616 3 20.143v-4.286c0-.473.398-.857.889-.857zM13.889 11h6.222a.9.9 0 0 1 .889.91v8.18a.9.9 0 0 1-.889.91H13.89a.9.9 0 0 1-.889-.91v-8.18a.9.9 0 0 1 .889-.91zM13.889 3h6.222c.491 0 .889.384.889.857v4.286c0 .473-.398.857-.889.857H13.89C13.398 9 13 8.616 13 8.143V3.857c0-.473.398-.857.889-.857z\">\r\n            </path>\r\n          </svg></span>Bảng điều khiển</a>\r\n      <a [routerLink]=\"['profile']\" routerLinkActive=\"border-l-4 border-gray-400 bg-blue-700 text-white\"\r\n        class=\"flex py-3 px-6 cursor-pointer hover:bg-blue-500 transition text-gray-300\"><span class=\"mr-3 w-6\"><i\r\n            class=\"fa fa-user\"></i></span>Thông tin cá nhân</a>\r\n      <a [routerLink]=\"['schedule']\" routerLinkActive=\"border-l-4 border-gray-400 bg-blue-700 text-white\"\r\n        class=\"flex py-3 px-6 cursor-pointer hover:bg-blue-500 transition text-gray-300\"><span class=\"mr-3 w-6\"><i\r\n            class=\"fa fa-calendar\"></i></span> Lịch thi</a>\r\n      <a [routerLink]=\"['statistics']\" routerLinkActive=\"border-l-4 border-gray-400 bg-blue-700 text-white\"\r\n        class=\"flex py-3 px-6 cursor-pointer hover:bg-blue-500 transition text-gray-300\"><span class=\"mr-3 w-6\"><i\r\n            class=\"fa fa-line-chart\"></i></span>Thống kê</a>\r\n    </div>\r\n\r\n  </div>\r\n</aside>","import {AfterContentInit, AfterViewInit, Component, OnInit, ViewChild} from '@angular/core';\nimport {Observable, timer} from 'rxjs';\nimport {UploadFileService} from '../../_services/upload-file.service';\nimport {FileUploadComponent} from '../../shared/file-upload/file-upload.component';\nimport {UserService} from '../../_services/user.service';\nimport {UserAccount} from '../../models/user-account';\nimport {AbstractControl, FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {ToastrService} from 'ngx-toastr';\nimport {TokenStorageService} from '../../_services/token-storage.service';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.scss']\n})\nexport class ProfileComponent implements OnInit {\n\n  togglePwd = false;\n  toggleEmail = false;\n  toggleAvatar = true;\n  imgUpload = '';\n  userProfile: UserAccount;\n  @ViewChild(FileUploadComponent) fileUploadViewChild: FileUploadComponent;\n  private imgFile: any;\n\n  constructor(private uploadService: UploadFileService,\n              private userService: UserService,\n              private fb: FormBuilder,\n              private toast: ToastrService,\n              private tokenStorageService: TokenStorageService) {\n  }\n\n\n  ngOnInit(): void {\n    this.getUserInfo();\n  }\n\n\n  getUserInfo() {\n    this.userService.getUserInfo('').subscribe(res => {\n      this.userProfile = res.data;\n      this.imgUpload = this.userProfile.profile.image || 'https://isc-quiz.s3-ap-southeast-1.amazonaws.com/default.png';\n    });\n  }\n\n  toggleChangePwd() {\n    this.toggleEmail = false;\n    this.toggleAvatar = false;\n    this.togglePwd = true;\n  }\n\n  toggleUpdateEmail() {\n    this.togglePwd = false;\n    this.toggleAvatar = false;\n    this.toggleEmail = true;\n\n  }\n\n  toggleChangeAvatar() {\n    this.togglePwd = false;\n    this.toggleEmail = false;\n    this.toggleAvatar = true;\n\n  }\n\n\n  updatePassword(data) {\n    this.userService.updatePassword(this.userProfile.id, data).subscribe(res => {\n      if (res.statusCode === 200) {\n        this.toast.success(res.message, 'Done');\n        this.toast.warning(`You have to sign in again`, 'Warning');\n        // @ts-ignore\n        setTimeout(() => {\n          this.tokenStorageService.signOut();\n          window.location.replace('/login');\n\n        }, 3000);\n        // this.toast.warning(`You have to sign in again`, 'Warning');\n      } else {\n        this.toast.error(res.message, 'Error');\n      }\n    }, error => {\n      this.toast.error(error.message, `Server error: ${error.statusCode}`);\n    });\n  }\n\n  updateEmail(data) {\n    this.userService.updateEmail(this.userProfile.id, data).subscribe(res => {\n      switch (res.statusCode) {\n        case 417: {\n          this.toast.error('Error', res.message);\n          break;\n        }\n        case 200: {\n          this.toast.success('Done', res.message);\n          this.userProfile.email = res.data;\n          break;\n        }\n        default: {\n          this.toast.error('Error', 'Server error');\n        }\n      }\n    });\n  }\n\n  getAvatarUpload(urlUpload) {\n    this.imgFile = urlUpload;\n    this.uploadService.uploadAvatar(this.imgFile).subscribe(res => {\n      this.imgUpload = res;\n      this.toast.success('Updated new avatar', 'Done');\n      return;\n    }, error => {\n      this.toast.error('Some problems. Report it to the administrator', 'Error');\n    });\n\n\n  }\n}\n","<xng-breadcrumb></xng-breadcrumb>\r\n\r\n<div class=\"py-3\" *ngIf=\"userProfile\">\r\n  <h2 class=\"lg:text-2xl font-semibold text-gray-800 mb-6 px-4\">Tài khoản của bạn</h2>\r\n  <div class=\"my-2 flex w-full\">\r\n    <div class=\"rounded-lg shadow-lg w-64 mx-2 px-3 py-2 bg-white text-gray-700 text-center\">\r\n      <div class=\"my-3 my-1\">\r\n        <img [src]=\"imgUpload\" class=\"avatar mx-auto shadow-md\">\r\n      </div>\r\n      <div class=\"px-3 my-4\"><label\r\n          class=\"text-blue-700 text-xl font-semibold uppercase\">{{userProfile.profile.lastName}}\r\n          {{userProfile.profile.firstName}}</label>\r\n      </div>\r\n      <div class=\"px-3 my-1\"><label class=\"font-medium\">@{{userProfile.username}}</label></div>\r\n      <div class=\"px-3 my-1\"><label>{{userProfile.intake.name}}</label></div>\r\n      <div class=\"px-3 my-2\"><label class=\"underline text-blue-500\">{{userProfile.email}}</label></div>\r\n      <div class=\"mx-3 my-3 flex justify-center\">\r\n        <div\r\n          class=\"mx-2 w-8 h-8 flex justify-center items-center rounded-full bg-blue-500 hover:bg-blue-700 text-white text-lg cursor-pointer\"\r\n          [tooltip]=\"'Change password'\" show-delay=\"100\" hide-delay=\"100\"\r\n          [ngClass]=\"{'bg-blue-700 shadow-lg': togglePwd}\" (click)=\"toggleChangePwd()\"><i class=\"fa fa-lock\"></i></div>\r\n        <div\r\n          class=\"mx-2 w-8 h-8 flex justify-center items-center rounded-full bg-blue-500 hover:bg-blue-700 text-white text-lg cursor-pointer\"\r\n          [tooltip]=\"'Update email'\" show-delay=\"100\" hide-delay=\"100\"\r\n          [ngClass]=\"{'bg-blue-700 shadow-lg': toggleEmail}\" (click)=\"toggleUpdateEmail()\"><i\r\n            class=\"fa fa-envelope\"></i></div>\r\n        <div\r\n          class=\"mx-2 w-8 h-8 flex justify-center items-center rounded-full bg-blue-500 hover:bg-blue-700 text-white text-lg cursor-pointer\"\r\n          [tooltip]=\"'Change avatar'\" show-delay=\"100\" hide-delay=\"100\" (click)=\"toggleChangeAvatar()\"\r\n          [ngClass]=\"{'bg-blue-700 shadow-lg': toggleAvatar}\"><i class=\"fa fa-image\"></i></div>\r\n      </div>\r\n    </div>\r\n    <div class=\"mx-8 md:w-1/2\">\r\n\r\n      <ng-template [ngIf]=\"togglePwd\">\r\n        <app-update-password (passwordUpdate)=\"updatePassword($event)\"></app-update-password>\r\n      </ng-template>\r\n\r\n      <ng-template [ngIf]=\"toggleEmail\">\r\n        <app-update-email [userProfile]=\"userProfile\" (emailUpdate)=\"updateEmail($event)\"></app-update-email>\r\n      </ng-template>\r\n      <ng-template [ngIf]=\"toggleAvatar\">\r\n        <app-update-avatar (avatarUploadUrl)=\"getAvatarUpload($event)\"></app-update-avatar>\r\n      </ng-template>\r\n    </div>\r\n  </div>\r\n\r\n</div>","import {\n  AfterContentChecked,\n  AfterViewChecked,\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component, ElementRef,\n  OnInit,\n  ViewChild,\n  ViewContainerRef\n} from '@angular/core';\nimport {CalendarOptions, FullCalendarComponent} from '@fullcalendar/angular';\nimport * as moment from 'moment';\nimport {ExamService} from '../../_services/exam.service';\nimport {ExamCalendar} from '../../models/exam-calendar';\nimport {ToastrService} from 'ngx-toastr';\n\n@Component({\n  selector: 'app-schedule',\n  templateUrl: './schedule.component.html',\n  styleUrls: ['./schedule.component.scss']\n})\nexport class ScheduleComponent implements OnInit, AfterViewInit, AfterContentChecked {\n  calendarApi;\n  nowDate: string;\n  examCalendars: ExamCalendar[] = [];\n  examEvents: any[] = [];\n  initialView = 'dayGridMonth';\n  calendarOptions: CalendarOptions;\n  @ViewChild('calendar') calendarComponent: FullCalendarComponent;\n\n  examEventDetail = false;\n  examDetail: ExamCalendar;\n\n  constructor(\n    private examService: ExamService,\n    private toast: ToastrService) {\n  }\n\n  ngOnInit(): void {\n    this.getExamList();\n  }\n\n  ngAfterViewInit(): void {\n    this.calendarApi = this.calendarComponent.getApi();\n  }\n\n  ngAfterContentChecked(): void {\n    this.nowDate = moment(this.calendarApi?.getDate()).format('MMMM, yyyy');\n\n  }\n\n  getExamList() {\n    this.calendarOptions = {\n      initialDate: new Date(),\n      initialView: this.initialView,\n      headerToolbar: {\n        left: '',\n        right: '',\n        center: ''\n      },\n      events: this.examEvents,\n      eventClick: this.handleEventClick.bind(this),\n      timeZone: 'Asia/Ho_Chi_Minh',\n\n    };\n\n    this.examService.getExamCalendar().subscribe(res => {\n      this.examCalendars = res;\n      console.log(this.examCalendars);\n      this.examCalendars.forEach(value => {\n        switch (value.isCompleted) {\n          case -2: {\n            this.examEvents.push({groupId: value.examId.toString(), title: value.courseCode, start: value.beginDate, end: value.finishDate, color: '#F56565'});\n\n            break;\n          }\n          case -1: {\n            this.examEvents.push({groupId: value.examId.toString(), title: value.courseCode, start: value.beginDate, end: value.finishDate, color: '#A0AEC0'});\n            break;\n          }\n          case 0: {\n            this.examEvents.push({groupId: value.examId.toString(), title: value.courseCode, start: value.beginDate, end: value.finishDate, color: '#ECC94B'});\n            break;\n          }\n          case 1: {\n            this.examEvents.push({groupId: value.examId.toString(), title: value.courseCode, start: value.beginDate, end: value.finishDate, color: '#48BB78'});\n\n            break;\n          }\n        }\n      });\n    }, error => {\n      this.toast.error(error, 'Error');\n    });\n  }\n\n  handleEventClick(calEvent) {\n    const examId = calEvent.event._def.groupId;\n    this.examDetail = this.examCalendars.find(item => Number(item.examId) === Number(examId));\n    this.examEventDetail = true;\n  }\n\n  goToday() {\n    this.calendarApi.gotoDate(new Date());\n\n  }\n\n  goNextMonth() {\n    this.calendarApi.next();\n  }\n\n\n  goPrevMonth() {\n    this.calendarApi.prev();\n  }\n\n\n  closeModal() {\n    this.examEventDetail = false;\n  }\n\n}\n","<xng-breadcrumb></xng-breadcrumb>\r\n\r\n<div class=\"py-3 px-4\" *ngIf=\"examCalendars\">\r\n  <div class=\"flex justify-between items-center\">\r\n    <button class=\"hover:text-blue-600 text-blue-500 font-bold py-2 px-4 mx-2 rounded cursor-pointer focus:outline-none\"\r\n      (click)=\"goToday()\"><span class=\"mr-2\"><i class=\"fa fa-dot-circle-o\"></i></span>Hôm nay\r\n    </button>\r\n    <div class=\"text-2xl font-bold\">{{nowDate}}</div>\r\n    <div>\r\n      <button\r\n        class=\"bg-gray-500 hover:bg-gray-700 text-white font-bold py-1 px-4 mx-1 rounded cursor-pointer focus:outline-none\"\r\n        (click)=\"goPrevMonth()\"><span><i class=\"fa fa-caret-left\"></i></span>\r\n      </button>\r\n      <button\r\n        class=\"bg-gray-500 hover:bg-gray-700 text-white font-bold py-1 px-4 mx-1 rounded cursor-pointer focus:outline-none\"\r\n        (click)=\"goNextMonth()\"><span><i class=\"fa fa-caret-right\"></i></span>\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <div *ngIf=\"examEventDetail\"\r\n    class=\"fixed inset-0 overflow-auto z-50 outline-none focus:outline-none justify-center flex\">\r\n    <div class=\"relative my-5 mx-auto max-w-2xl\" style=\"margin-top: 2.5rem\">\r\n      <!--content-->\r\n      <div\r\n        class=\"border-0 rounded-lg shadow-lg relative flex flex-col w-full overflow-y-auto my-5 bg-white outline-none focus:outline-none\"\r\n        style=\"max-height: 90%\">\r\n        <!--header-->\r\n        <div class=\"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t\">\r\n          <h3 class=\"text-2xl font-semibold\">Chi tiết sự kiện</h3>\r\n\r\n          <button\r\n            class=\"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none\"\r\n            (click)=\"closeModal()\">\r\n            <span\r\n              class=\"bg-transparent text-gray-700 opacity-5 h-3 w-3 text-base block outline-none focus:outline-none\">\r\n              <i class=\"fa fa-close\"></i>\r\n            </span>\r\n          </button>\r\n        </div>\r\n        <!--body-->\r\n        <div class=\"flex flex-wrap px-3\">\r\n          <div class=\"w-full\">\r\n            <div class=\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 rounded\">\r\n              <div class=\"px-4 py-5 pb-0 flex-auto\">\r\n                <div class=\"tab-content tab-space\">\r\n                  <div class=\"flex items-center\"><span class=\"mr-3 w-5 text-xl text-blue-700\"><i\r\n                        class=\"fa fa-question-circle\"></i></span>\r\n                    <div class=\"bg-blue-200 text-blue-700 font-semibold rounded-sm px-2 py-1 my-2 w-full opacity-75\">\r\n                      {{examDetail.examTitle}}</div>\r\n                  </div>\r\n                  <div class=\"flex items-center\"><span class=\"mr-3 w-5 text-xl text-gray-700\"><i\r\n                        class=\"fa fa-calendar\"></i></span>\r\n                    <div class=\"bg-gray-200 text-black rounded-sm px-2 py-1 my-2 w-full opacity-75\">\r\n                      {{examDetail.beginDate | date:'medium'}} - {{examDetail.finishDate | date: 'medium'}}</div>\r\n                  </div>\r\n                  <div class=\"flex items-center\"><span class=\"mr-3 w-5 text-xl text-gray-700\"><i\r\n                        class=\"fa fa-heart-o\"></i></span>\r\n                    <div class=\"bg-gray-200 text-black rounded-sm px-2 py-1 my-2 w-full opacity-75\">\r\n                      <ng-container [ngSwitch]=\"examDetail.isCompleted\">\r\n                        <ng-template [ngSwitchCase]=\"-2\">\r\n                          <span class=\"text-red-500\">\r\n                            <i class=\"fa fa-dot-circle-o\"></i>\r\n                          </span>\r\n                        </ng-template>\r\n                        <ng-template [ngSwitchCase]=\"-1\">\r\n                          <span class=\"text-gray-500\">\r\n                            <i class=\"fa fa-dot-circle-o\"></i>\r\n                          </span>\r\n                        </ng-template>\r\n                        <ng-template [ngSwitchCase]=\"0\">\r\n                          <span class=\"text-yellow-500\">\r\n                            <i class=\"fa fa-dot-circle-o\"></i>\r\n                          </span>\r\n                        </ng-template>\r\n                        <ng-template [ngSwitchCase]=\"1\">\r\n                          <span class=\"text-green-500\">\r\n                            <i class=\"fa fa-dot-circle-o\"></i>\r\n                          </span>\r\n                        </ng-template>\r\n                      </ng-container>\r\n                      {{examDetail.completeString}}\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"flex items-center\"><span class=\"mr-3 w-5 text-xl text-gray-700\"><i\r\n                        class=\"fa fa-clock-o\"></i></span>\r\n                    <div class=\"bg-gray-200 text-black rounded-sm px-2 py-1 my-2 w-full opacity-75\">\r\n                      {{examDetail.durationExam}} phút</div>\r\n                  </div>\r\n                  <div class=\"flex items-center\"><span class=\"mr-3 w-5 text-xl text-gray-700\"><i\r\n                        class=\"fa fa-book\"></i></span>\r\n                    <div class=\"bg-gray-200 text-black rounded-sm px-2 py-1 my-2 w-full opacity-75\">\r\n                      {{examDetail.courseCode}} - {{examDetail.courseName}}</div>\r\n                  </div>\r\n                  <div class=\"flex items-center\"><span class=\"mr-3 w-5 text-xl text-gray-700\"></span>\r\n                    <div class=\"bg-gray-200 text-black rounded-sm px-2 py-1 my-2 w-full opacity-75\">\r\n                      {{examDetail.partName}}</div>\r\n                  </div>\r\n\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"flex items-center justify-end p-6 pb-2 mb-2 border-t border-solid border-gray-300 rounded-b\">\r\n          <a [routerLink]=\"['../exams', examDetail.examId]\"\r\n            class=\"bg-gray-500 hover:bg-blue-700 text-white font-bold py-2 px-4 mx-2 rounded cursor-pointer focus:outline-none\"><span><i\r\n                class=\"fa fa-paper-plane mr-2\"></i>Xem bài kiểm tra</span>\r\n          </a>\r\n          <button\r\n            class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 mx-2 rounded cursor-pointer focus:outline-none\"\r\n            type=\"button\" (click)=\"closeModal()\"><span><i class=\"fa fa-window-close mr-2\"></i>Đóng</span>\r\n          </button>\r\n\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"mt-8\" *ngIf=\"calendarOptions\">\r\n\r\n    <full-calendar #calendar deepChangeDetection=\"true\" [options]=\"calendarOptions\"></full-calendar>\r\n  </div>\r\n</div>\r\n\r\n<div *ngIf=\"examEventDetail\" class=\"fixed inset-0 z-40 bg-smoke-light\"></div>","import { AfterViewInit, Component, OnInit, ViewChild } from '@angular/core';\r\nimport {\r\n  ApexAxisChartSeries,\r\n  ApexChart,\r\n  ApexDataLabels, ApexFill,\r\n  ApexPlotOptions, ApexResponsive,\r\n  ApexTitleSubtitle,\r\n  ApexXAxis,\r\n  ApexYAxis,\r\n  ChartComponent\r\n} from 'ng-apexcharts';\r\nimport { CoursePoint } from '../../models/course-point';\r\nimport { ChartService } from '../../_services/chart.service';\r\n\r\nexport interface ChartOptions {\r\n  series: ApexAxisChartSeries;\r\n  chart: ApexChart;\r\n  title: ApexTitleSubtitle;\r\n  dataLabels: ApexDataLabels;\r\n  plotOptions: ApexPlotOptions;\r\n  xAxis: ApexXAxis;\r\n  fill: ApexFill;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-statistics',\r\n  templateUrl: './statistics.component.html',\r\n  styleUrls: ['./statistics.component.scss']\r\n})\r\n\r\n\r\nexport class StatisticsComponent implements OnInit {\r\n  @ViewChild('chart') chart: ChartComponent;\r\n  public chartOptions: Partial<ChartOptions>;\r\n  coursePointData: CoursePoint[];\r\n\r\n  constructor(private chartService: ChartService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getCoursePoint();\r\n  }\r\n\r\n  getCoursePoint() {\r\n    this.chartService.getCoursePoint().subscribe(res => {\r\n      this.coursePointData = res;\r\n      console.log(this.coursePointData);\r\n      this.chartOptions = {\r\n        series: [\r\n          {\r\n            name: 'Average Point',\r\n            data: this.coursePointData.map(item => item.totalPoint),\r\n\r\n          }\r\n        ],\r\n        chart: {\r\n          type: 'bar',\r\n          height: 400,\r\n          zoom: {\r\n            enabled: true,\r\n            type: 'x',\r\n            autoScaleYaxis: false,\r\n            zoomedArea: {\r\n              fill: {\r\n                color: '#90CAF9',\r\n                opacity: 0.4\r\n              },\r\n              stroke: {\r\n                color: '#0D47A1',\r\n                opacity: 0.4,\r\n                width: 1\r\n              }\r\n            }\r\n          },\r\n          dropShadow: {\r\n            enabled: false,\r\n            enabledOnSeries: undefined,\r\n            top: 0,\r\n            left: 0,\r\n            blur: 3,\r\n            color: '#000',\r\n            opacity: 0.35\r\n          }\r\n        },\r\n        title: {\r\n          text: 'Thống kê các khóa học',\r\n          align: 'center',\r\n          style: {\r\n            color: '#444',\r\n            fontSize: '24px'\r\n          }\r\n        },\r\n        plotOptions: {\r\n          bar: {\r\n            horizontal: true\r\n          }\r\n        },\r\n        dataLabels: {\r\n          enabled: true,\r\n          formatter(val) {\r\n            if (val) {\r\n              return val + 'điểm';\r\n            }\r\n          },\r\n          offsetX: -20,\r\n          style: {\r\n            fontSize: '12px',\r\n            colors: ['#fff']\r\n          }\r\n        },\r\n        xAxis: {\r\n          categories: this.coursePointData.map(item => item.courseName),\r\n          crosshairs: {\r\n            fill: {\r\n              type: 'gradient',\r\n              gradient: {\r\n                colorFrom: '#D8E3F0',\r\n                colorTo: '#BED1E6',\r\n                stops: [0, 100],\r\n                opacityFrom: 0.1,\r\n                opacityTo: 1\r\n              }\r\n            }\r\n          },\r\n          tooltip: {\r\n            enabled: false,\r\n            offsetY: -35\r\n          },\r\n          labels: {\r\n            show: true,\r\n            formatter(val) {\r\n              return val + ' điểm';\r\n            }\r\n          }\r\n        },\r\n        fill: {\r\n          type: 'gradient',\r\n          gradient: {\r\n            shade: 'light',\r\n            type: 'horizontal',\r\n            shadeIntensity: 0.25,\r\n            gradientToColors: undefined,\r\n            inverseColors: false,\r\n            opacityFrom: 0.8,\r\n            opacityTo: 1,\r\n            stops: [20, 40, 60, 80]\r\n          }\r\n        }\r\n      };\r\n    });\r\n  }\r\n\r\n}\r\n","<div class=\"mb-4\">\r\n  <xng-breadcrumb></xng-breadcrumb>\r\n</div>\r\n\r\n\r\n<ng-template [ngIf]=\"coursePointData\">\r\n  <apx-chart [series]=\"chartOptions.series\" [chart]=\"chartOptions.chart\" [dataLabels]=\"chartOptions.dataLabels\"\r\n    [plotOptions]=\"chartOptions.plotOptions\" [xaxis]=\"chartOptions.xAxis\" [title]=\"chartOptions.title\"\r\n    [fill]=\"chartOptions.fill\">\r\n  </apx-chart>\r\n  <p class=\"text-center font-semibold text-2xl text-gray-800 my-2\">Tất cả khóa học</p>\r\n  <div class=\"flex flex-wrap\">\r\n    <ng-container *ngFor=\"let course of coursePointData\">\r\n      <app-stat-card-exam [courseCard]=\"course\"></app-stat-card-exam>\r\n    </ng-container>\r\n\r\n  </div>\r\n</ng-template>","import {Component, OnInit} from '@angular/core';\nimport {TokenStorageService} from '../_services/token-storage.service';\nimport {UserService} from '../_services/user.service';\nimport {UserProfile} from '../models/user-profile';\nimport {Router} from '@angular/router';\nimport { SidebarService } from '../_services/sidebar.service';\n@Component({\n  selector: 'app-user',\n  templateUrl: './user.component.html',\n  styleUrls: ['./user.component.scss']\n})\nexport class UserComponent implements OnInit {\n\n\n  currentUser;\n  userProfile: UserProfile;\n  toggledMenu = false;\n\n  constructor(\n    private tokenStorageService: TokenStorageService,\n    private userService: UserService,\n    private router: Router,\n    private sidebarService: SidebarService   // Inject service\n  ) {}\n\n  ngOnInit(): void {\n    this.currentUser = this.tokenStorageService.getUser();\n    this.userService.getUserInfo(this.currentUser.username).subscribe((res) => {\n      this.userProfile = res.data.profile;\n    });\n    // Đồng bộ trạng thái sidebar với service\n    this.sidebarService.sidebarCollapsed$.subscribe(val => {\n      this.toggledMenu = val;\n    });\n  }\n\n  signOut() {\n    this.tokenStorageService.signOut();\n    window.location.reload();\n  }\n\n  toggleMenu() {\n    // Điều khiển sidebar qua service thay vì chỉ set biến local\n    this.sidebarService.setSidebarCollapsed(!this.toggledMenu);\n  }\n}\n","<div class=\"font-sans antialiased h-screen bg-gray-100 w-full flex flex-row\">\r\n\r\n  <!--  <aside class=\"lg:w-1/5 bg-gray-900 lg:h-auto\">-->\r\n  <!--    <div class=\"mx-4 my-3\">-->\r\n  <!--      <div>-->\r\n  <!--        <img class=\"h-6 lg:h-8 xl:h-9\" src=\"../../assets/images/logo.svg\" alt=\"Tailwind UI\"/>-->\r\n  <!--      </div>-->\r\n  <!--    </div>-->\r\n  <!--  </aside>-->\r\n\r\n  <app-left-side [userProfile]=\"userProfile\" *ngIf=\"!toggledMenu\" [style.display]=\"'contents'\"></app-left-side>\r\n  <div class=\"lg:w-full bg-gray-100 py-2 overflow-hidden overflow-y-scroll\">\r\n\r\n    <div class=\"flex flex-wrap items-center justify-between mx-4 my-4 overflow-hidden\">\r\n      <div class=\"text-gray-300 text-xl cursor-pointer bg-blue-500 hover:bg-blue-600 px-2 rounded shadow-2xl\"\r\n        (click)=\"toggleMenu()\">\r\n        <i class=\"fa fa-expand\" *ngIf=\"!toggledMenu\"></i>\r\n        <i class=\"fa fa-compress\" *ngIf=\"toggledMenu\"></i>\r\n      </div>\r\n      <div class=\"group text-gray-600 text-2xl cursor-pointer flex items-center\" (click)=\"signOut()\">\r\n        <span class=\"text-base\"><i class=\"fa fa-sign-out mr-2 group-hover:mr-1\"></i>Đăng xuất</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"px-5 py-4 m-6\">\r\n      <router-outlet>\r\n\r\n      </router-outlet>\r\n\r\n\r\n    </div>\r\n    <!--    <app-footer></app-footer>-->\r\n  </div>\r\n</div>","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {UserComponent} from './user.component';\nimport {SharedModule} from '../shared/shared.module';\nimport {DashboardComponent} from './dashboard/dashboard.component';\nimport {ExamCardComponent} from './exam-card/exam-card.component';\n\nimport {FooterComponent} from './footer/footer.component';\nimport {LeftSideComponent} from './left-side/left-side.component';\nimport {RouterModule} from '@angular/router';\nimport {ProfileComponent} from './profile/profile.component';\nimport {ExamDetailComponent} from './exam-detail/exam-detail.component';\nimport {ExamQuestionComponent} from './exam-question/exam-question.component';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {ExamResultComponent} from './exam-result/exam-result.component';\nimport {ScheduleComponent} from './schedule/schedule.component';\nimport {FullCalendarModule} from '@fullcalendar/angular';\nimport dayGridPlugin from '@fullcalendar/daygrid'; // a plugin\nimport timeGridPlugin from '@fullcalendar/timegrid'; // a plugin\nimport interactionPlugin from '@fullcalendar/interaction';\nimport { StatisticsComponent } from './statistics/statistics.component';\nimport {NgApexchartsModule} from 'ng-apexcharts';\nimport {BreadcrumbModule} from 'xng-breadcrumb';\nFullCalendarModule.registerPlugins([\n  dayGridPlugin,\n  interactionPlugin\n]);\n\n@NgModule({\n  declarations: [\n    UserComponent, DashboardComponent, ExamCardComponent, FooterComponent, LeftSideComponent, ProfileComponent, ExamDetailComponent, ExamQuestionComponent, ExamResultComponent, ScheduleComponent, StatisticsComponent],\n  imports: [\n    CommonModule,\n    SharedModule,\n    RouterModule,\n    FormsModule,\n    ReactiveFormsModule,\n    FullCalendarModule,\n    NgApexchartsModule,\n    BreadcrumbModule\n  ]\n})\nexport class UserModule {\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  apiEndPoint: 'http://localhost:8080/api',\n  pageMeta: {\n    pageNumber: 0,\n    pageSize: 20\n  }\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}